var G_=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var u3=G_((d3,Ca)=>{const Q_=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};Q_();function eh(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const X_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J_=eh(X_);function Mg(t){return!!t||t===""}function th(t){if(re(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ut(s)?tw(s):th(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(ut(t))return t;if(tt(t))return t}}const Z_=/;(?![^(]*\))/g,ew=/:(.+)/;function tw(t){const e={};return t.split(Z_).forEach(n=>{if(n){const s=n.split(ew);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Tt(t){let e="";if(ut(t))e=t;else if(re(t))for(let n=0;n<t.length;n++){const s=Tt(t[n]);s&&(e+=s+" ")}else if(tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function nw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=ml(t[s],e[s]);return n}function ml(t,e){if(t===e)return!0;let n=uf(t),s=uf(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=re(t),s=re(e),n||s)return n&&s?nw(t,e):!1;if(n=tt(t),s=tt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ml(t[o],e[o]))return!1}}return String(t)===String(e)}function sw(t,e){return t.findIndex(n=>ml(n,e))}const ye=t=>ut(t)?t:t==null?"":re(t)||tt(t)&&(t.toString===Ng||!ve(t.toString))?JSON.stringify(t,Rg,2):String(t),Rg=(t,e)=>e&&e.__v_isRef?Rg(t,e.value):Pr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:vl(e)?{[`Set(${e.size})`]:[...e.values()]}:tt(e)&&!re(e)&&!Pg(e)?String(e):e,Ve={},Nr=[],un=()=>{},rw=()=>!1,iw=/^on[^a-z]/,yl=t=>iw.test(t),nh=t=>t.startsWith("onUpdate:"),bt=Object.assign,sh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},ow=Object.prototype.hasOwnProperty,De=(t,e)=>ow.call(t,e),re=Array.isArray,Pr=t=>_l(t)==="[object Map]",vl=t=>_l(t)==="[object Set]",uf=t=>t instanceof Date,ve=t=>typeof t=="function",ut=t=>typeof t=="string",rh=t=>typeof t=="symbol",tt=t=>t!==null&&typeof t=="object",Og=t=>tt(t)&&ve(t.then)&&ve(t.catch),Ng=Object.prototype.toString,_l=t=>Ng.call(t),aw=t=>_l(t).slice(8,-1),Pg=t=>_l(t)==="[object Object]",ih=t=>ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,da=eh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lw=/-(\w)/g,Sn=wl(t=>t.replace(lw,(e,n)=>n?n.toUpperCase():"")),cw=/\B([A-Z])/g,dr=wl(t=>t.replace(cw,"-$1").toLowerCase()),bl=wl(t=>t.charAt(0).toUpperCase()+t.slice(1)),bc=wl(t=>t?`on${bl(t)}`:""),Ki=(t,e)=>!Object.is(t,e),fa=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Aa=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Gi=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let hf;const uw=()=>hf||(hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:{});let Nn;class Lg{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Nn&&(this.parent=Nn,this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}run(e){if(this.active)try{return Nn=this,e()}finally{Nn=this.parent}}on(){Nn=this}off(){Nn=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Fg(t){return new Lg(t)}function hw(t,e=Nn){e&&e.active&&e.effects.push(t)}const oh=t=>{const e=new Set(t);return e.w=0,e.n=0,e},$g=t=>(t.w&xs)>0,Ug=t=>(t.n&xs)>0,dw=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=xs},fw=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];$g(r)&&!Ug(r)?r.delete(t):e[n++]=r,r.w&=~xs,r.n&=~xs}e.length=n}},Jc=new WeakMap;let ki=0,xs=1;const Zc=30;let En;const Js=Symbol(""),eu=Symbol("");class ah{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,hw(this,s)}run(){if(!this.active)return this.fn();let e=En,n=ms;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=En,En=this,ms=!0,xs=1<<++ki,ki<=Zc?dw(this):df(this),this.fn()}finally{ki<=Zc&&fw(this),xs=1<<--ki,En=this.parent,ms=n,this.parent=void 0}}stop(){this.active&&(df(this),this.onStop&&this.onStop(),this.active=!1)}}function df(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ms=!0;const Vg=[];function oi(){Vg.push(ms),ms=!1}function ai(){const t=Vg.pop();ms=t===void 0?!0:t}function Gt(t,e,n){if(ms&&En){let s=Jc.get(t);s||Jc.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=oh()),Bg(r)}}function Bg(t,e){let n=!1;ki<=Zc?Ug(t)||(t.n|=xs,n=!$g(t)):n=!t.has(En),n&&(t.add(En),En.deps.push(t))}function qn(t,e,n,s,r,i){const o=Jc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&re(t))o.forEach((l,c)=>{(c==="length"||c>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":re(t)?ih(n)&&a.push(o.get("length")):(a.push(o.get(Js)),Pr(t)&&a.push(o.get(eu)));break;case"delete":re(t)||(a.push(o.get(Js)),Pr(t)&&a.push(o.get(eu)));break;case"set":Pr(t)&&a.push(o.get(Js));break}if(a.length===1)a[0]&&tu(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);tu(oh(l))}}function tu(t,e){for(const n of re(t)?t:[...t])(n!==En||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const pw=eh("__proto__,__v_isRef,__isVue"),jg=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(rh)),gw=lh(),mw=lh(!1,!0),yw=lh(!0),ff=vw();function vw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Me(this);for(let i=0,o=this.length;i<o;i++)Gt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Me)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){oi();const s=Me(this)[e].apply(this,n);return ai(),s}}),t}function lh(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Nw:qg:e?zg:Wg).get(s))return s;const o=re(s);if(!t&&o&&De(ff,r))return Reflect.get(ff,r,i);const a=Reflect.get(s,r,i);return(rh(r)?jg.has(r):pw(r))||(t||Gt(s,"get",r),e)?a:et(a)?!o||!ih(r)?a.value:a:tt(a)?t?Kg(a):li(a):a}}const _w=Hg(),ww=Hg(!0);function Hg(t=!1){return function(n,s,r,i){let o=n[s];if(Qi(o)&&et(o)&&!et(r))return!1;if(!t&&!Qi(r)&&(Gg(r)||(r=Me(r),o=Me(o)),!re(n)&&et(o)&&!et(r)))return o.value=r,!0;const a=re(n)&&ih(s)?Number(s)<n.length:De(n,s),l=Reflect.set(n,s,r,i);return n===Me(i)&&(a?Ki(r,o)&&qn(n,"set",s,r):qn(n,"add",s,r)),l}}function bw(t,e){const n=De(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&qn(t,"delete",e,void 0),s}function Ew(t,e){const n=Reflect.has(t,e);return(!rh(e)||!jg.has(e))&&Gt(t,"has",e),n}function xw(t){return Gt(t,"iterate",re(t)?"length":Js),Reflect.ownKeys(t)}const Yg={get:gw,set:_w,deleteProperty:bw,has:Ew,ownKeys:xw},Iw={get:yw,set(t,e){return!0},deleteProperty(t,e){return!0}},Tw=bt({},Yg,{get:mw,set:ww}),ch=t=>t,El=t=>Reflect.getPrototypeOf(t);function Jo(t,e,n=!1,s=!1){t=t.__v_raw;const r=Me(t),i=Me(e);e!==i&&!n&&Gt(r,"get",e),!n&&Gt(r,"get",i);const{has:o}=El(r),a=s?ch:n?dh:Xi;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Zo(t,e=!1){const n=this.__v_raw,s=Me(n),r=Me(t);return t!==r&&!e&&Gt(s,"has",t),!e&&Gt(s,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function ea(t,e=!1){return t=t.__v_raw,!e&&Gt(Me(t),"iterate",Js),Reflect.get(t,"size",t)}function pf(t){t=Me(t);const e=Me(this);return El(e).has.call(e,t)||(e.add(t),qn(e,"add",t,t)),this}function gf(t,e){e=Me(e);const n=Me(this),{has:s,get:r}=El(n);let i=s.call(n,t);i||(t=Me(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Ki(e,o)&&qn(n,"set",t,e):qn(n,"add",t,e),this}function mf(t){const e=Me(this),{has:n,get:s}=El(e);let r=n.call(e,t);r||(t=Me(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&qn(e,"delete",t,void 0),i}function yf(){const t=Me(this),e=t.size!==0,n=t.clear();return e&&qn(t,"clear",void 0,void 0),n}function ta(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Me(o),l=e?ch:t?dh:Xi;return!t&&Gt(a,"iterate",Js),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function na(t,e,n){return function(...s){const r=this.__v_raw,i=Me(r),o=Pr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?ch:e?dh:Xi;return!e&&Gt(i,"iterate",l?eu:Js),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function ss(t){return function(...e){return t==="delete"?!1:this}}function Sw(){const t={get(i){return Jo(this,i)},get size(){return ea(this)},has:Zo,add:pf,set:gf,delete:mf,clear:yf,forEach:ta(!1,!1)},e={get(i){return Jo(this,i,!1,!0)},get size(){return ea(this)},has:Zo,add:pf,set:gf,delete:mf,clear:yf,forEach:ta(!1,!0)},n={get(i){return Jo(this,i,!0)},get size(){return ea(this,!0)},has(i){return Zo.call(this,i,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:ta(!0,!1)},s={get(i){return Jo(this,i,!0,!0)},get size(){return ea(this,!0)},has(i){return Zo.call(this,i,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:ta(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=na(i,!1,!1),n[i]=na(i,!0,!1),e[i]=na(i,!1,!0),s[i]=na(i,!0,!0)}),[t,n,e,s]}const[kw,Cw,Aw,Dw]=Sw();function uh(t,e){const n=e?t?Dw:Aw:t?Cw:kw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(De(n,r)&&r in s?n:s,r,i)}const Mw={get:uh(!1,!1)},Rw={get:uh(!1,!0)},Ow={get:uh(!0,!1)},Wg=new WeakMap,zg=new WeakMap,qg=new WeakMap,Nw=new WeakMap;function Pw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lw(t){return t.__v_skip||!Object.isExtensible(t)?0:Pw(aw(t))}function li(t){return Qi(t)?t:hh(t,!1,Yg,Mw,Wg)}function Fw(t){return hh(t,!1,Tw,Rw,zg)}function Kg(t){return hh(t,!0,Iw,Ow,qg)}function hh(t,e,n,s,r){if(!tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Lw(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function ys(t){return Qi(t)?ys(t.__v_raw):!!(t&&t.__v_isReactive)}function Qi(t){return!!(t&&t.__v_isReadonly)}function Gg(t){return!!(t&&t.__v_isShallow)}function Qg(t){return ys(t)||Qi(t)}function Me(t){const e=t&&t.__v_raw;return e?Me(e):t}function Wr(t){return Aa(t,"__v_skip",!0),t}const Xi=t=>tt(t)?li(t):t,dh=t=>tt(t)?Kg(t):t;function Xg(t){ms&&En&&(t=Me(t),Bg(t.dep||(t.dep=oh())))}function Jg(t,e){t=Me(t),t.dep&&tu(t.dep)}function et(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return Zg(t,!1)}function $w(t){return Zg(t,!0)}function Zg(t,e){return et(t)?t:new Uw(t,e)}class Uw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Me(e),this._value=n?e:Xi(e)}get value(){return Xg(this),this._value}set value(e){e=this.__v_isShallow?e:Me(e),Ki(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Xi(e),Jg(this))}}function ce(t){return et(t)?t.value:t}const Vw={get:(t,e,n)=>ce(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return et(r)&&!et(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function em(t){return ys(t)?t:new Proxy(t,Vw)}function Bw(t){const e=re(t)?new Array(t.length):{};for(const n in t)e[n]=Hw(t,n);return e}class jw{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Hw(t,e,n){const s=t[e];return et(s)?s:new jw(t,e,n)}class Yw{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ah(e,()=>{this._dirty||(this._dirty=!0,Jg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Me(this);return Xg(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ww(t,e,n=!1){let s,r;const i=ve(t);return i?(s=t,r=un):(s=t.get,r=t.set),new Yw(s,r,i||!r,n)}Promise.resolve();function vs(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){xl(i,e,n)}return r}function tn(t,e,n,s){if(ve(t)){const i=vs(t,e,n,s);return i&&Og(i)&&i.catch(o=>{xl(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(tn(t[i],e,n,s));return r}function xl(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){vs(l,null,10,[t,o,a]);return}}zw(t,n,r,s)}function zw(t,e,n,s=!0){console.error(t)}let Da=!1,nu=!1;const zt=[];let Fn=0;const Ri=[];let Ci=null,kr=0;const Oi=[];let ls=null,Cr=0;const tm=Promise.resolve();let fh=null,su=null;function fr(t){const e=fh||tm;return t?e.then(this?t.bind(this):t):e}function qw(t){let e=Fn+1,n=zt.length;for(;e<n;){const s=e+n>>>1;Ji(zt[s])<t?e=s+1:n=s}return e}function nm(t){(!zt.length||!zt.includes(t,Da&&t.allowRecurse?Fn+1:Fn))&&t!==su&&(t.id==null?zt.push(t):zt.splice(qw(t.id),0,t),sm())}function sm(){!Da&&!nu&&(nu=!0,fh=tm.then(om))}function Kw(t){const e=zt.indexOf(t);e>Fn&&zt.splice(e,1)}function rm(t,e,n,s){re(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?s+1:s))&&n.push(t),sm()}function Gw(t){rm(t,Ci,Ri,kr)}function Qw(t){rm(t,ls,Oi,Cr)}function ph(t,e=null){if(Ri.length){for(su=e,Ci=[...new Set(Ri)],Ri.length=0,kr=0;kr<Ci.length;kr++)Ci[kr]();Ci=null,kr=0,su=null,ph(t,e)}}function im(t){if(Oi.length){const e=[...new Set(Oi)];if(Oi.length=0,ls){ls.push(...e);return}for(ls=e,ls.sort((n,s)=>Ji(n)-Ji(s)),Cr=0;Cr<ls.length;Cr++)ls[Cr]();ls=null,Cr=0}}const Ji=t=>t.id==null?1/0:t.id;function om(t){nu=!1,Da=!0,ph(t),zt.sort((n,s)=>Ji(n)-Ji(s));const e=un;try{for(Fn=0;Fn<zt.length;Fn++){const n=zt[Fn];n&&n.active!==!1&&vs(n,null,14)}}finally{Fn=0,zt.length=0,im(),Da=!1,fh=null,(zt.length||Ri.length||Oi.length)&&om(t)}}function Xw(t,e,...n){const s=t.vnode.props||Ve;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Ve;f?r=n.map(g=>g.trim()):h&&(r=n.map(Gi))}let a,l=s[a=bc(e)]||s[a=bc(Sn(e))];!l&&i&&(l=s[a=bc(dr(e))]),l&&tn(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,tn(c,t,6,r)}}function am(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ve(t)){const l=c=>{const u=am(c,e,!0);u&&(a=!0,bt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(s.set(t,null),null):(re(i)?i.forEach(l=>o[l]=null):bt(o,i),s.set(t,o),o)}function gh(t,e){return!t||!yl(e)?!1:(e=e.slice(2).replace(/Once$/,""),De(t,e[0].toLowerCase()+e.slice(1))||De(t,dr(e))||De(t,e))}let qt=null,lm=null;function Ma(t){const e=qt;return qt=t,lm=t&&t.type.__scopeId||null,e}function Lr(t,e=qt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Cf(-1);const i=Ma(e),o=t(...r);return Ma(i),s._d&&Cf(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function Ec(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:g,ctx:y,inheritAttrs:w}=t;let _,S;const L=Ma(t);try{if(n.shapeFlag&4){const Y=r||s;_=wn(u.call(Y,Y,h,i,g,f,y)),S=l}else{const Y=e;_=wn(Y.length>1?Y(i,{attrs:l,slots:a,emit:c}):Y(i,null)),S=e.props?l:Jw(l)}}catch(Y){Pi.length=0,xl(Y,t,1),_=je(dn)}let q=_;if(S&&w!==!1){const Y=Object.keys(S),{shapeFlag:F}=q;Y.length&&F&7&&(o&&Y.some(nh)&&(S=Zw(S,o)),q=zr(q,S))}return n.dirs&&(q.dirs=q.dirs?q.dirs.concat(n.dirs):n.dirs),n.transition&&(q.transition=n.transition),_=q,Ma(L),_}const Jw=t=>{let e;for(const n in t)(n==="class"||n==="style"||yl(n))&&((e||(e={}))[n]=t[n]);return e},Zw=(t,e)=>{const n={};for(const s in t)(!nh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function e1(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?vf(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!gh(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?vf(s,o,c):!0:!!o;return!1}function vf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!gh(n,i))return!0}return!1}function t1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const n1=t=>t.__isSuspense;function s1(t,e){e&&e.pendingBranch?re(t)?e.effects.push(...t):e.effects.push(t):Qw(t)}function pa(t,e){if(ft){let n=ft.provides;const s=ft.parent&&ft.parent.provides;s===n&&(n=ft.provides=Object.create(s)),n[t]=e}}function hn(t,e,n=!1){const s=ft||qt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ve(e)?e.call(s.proxy):e}}const _f={};function Ni(t,e,n){return cm(t,e,n)}function cm(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ve){const a=ft;let l,c=!1,u=!1;if(et(t)?(l=()=>t.value,c=Gg(t)):ys(t)?(l=()=>t,s=!0):re(t)?(u=!0,c=t.some(ys),l=()=>t.map(S=>{if(et(S))return S.value;if(ys(S))return Ws(S);if(ve(S))return vs(S,a,2)})):ve(t)?e?l=()=>vs(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),tn(t,a,3,[f])}:l=un,e&&s){const S=l;l=()=>Ws(S())}let h,f=S=>{h=_.onStop=()=>{vs(S,a,4)}};if(Zi)return f=un,e?n&&tn(e,a,3,[l(),u?[]:void 0,f]):l(),un;let g=u?[]:_f;const y=()=>{if(!!_.active)if(e){const S=_.run();(s||c||(u?S.some((L,q)=>Ki(L,g[q])):Ki(S,g)))&&(h&&h(),tn(e,a,3,[S,g===_f?void 0:g,f]),g=S)}else _.run()};y.allowRecurse=!!e;let w;r==="sync"?w=y:r==="post"?w=()=>Ut(y,a&&a.suspense):w=()=>{!a||a.isMounted?Gw(y):y()};const _=new ah(l,w);return e?n?y():g=_.run():r==="post"?Ut(_.run.bind(_),a&&a.suspense):_.run(),()=>{_.stop(),a&&a.scope&&sh(a.scope.effects,_)}}function r1(t,e,n){const s=this.proxy,r=ut(t)?t.includes(".")?um(s,t):()=>s[t]:t.bind(s,s);let i;ve(e)?i=e:(i=e.handler,n=e);const o=ft;qr(this);const a=cm(r,i.bind(s),n);return o?qr(o):er(),a}function um(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Ws(t,e){if(!tt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),et(t))Ws(t.value,e);else if(re(t))for(let n=0;n<t.length;n++)Ws(t[n],e);else if(vl(t)||Pr(t))t.forEach(n=>{Ws(n,e)});else if(Pg(t))for(const n in t)Ws(t[n],e);return t}function i1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return As(()=>{t.isMounted=!0}),gm(()=>{t.isUnmounting=!0}),t}const Zt=[Function,Array],o1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},setup(t,{slots:e}){const n=Eh(),s=i1();let r;return()=>{const i=e.default&&fm(e.default(),!0);if(!i||!i.length)return;const o=Me(t),{mode:a}=o,l=i[0];if(s.isLeaving)return xc(l);const c=wf(l);if(!c)return xc(l);const u=ru(c,o,s,n);iu(c,u);const h=n.subTree,f=h&&wf(h);let g=!1;const{getTransitionKey:y}=c.type;if(y){const w=y();r===void 0?r=w:w!==r&&(r=w,g=!0)}if(f&&f.type!==dn&&(!js(c,f)||g)){const w=ru(f,o,s,n);if(iu(f,w),a==="out-in")return s.isLeaving=!0,w.afterLeave=()=>{s.isLeaving=!1,n.update()},xc(l);a==="in-out"&&c.type!==dn&&(w.delayLeave=(_,S,L)=>{const q=dm(s,f);q[String(f.key)]=f,_._leaveCb=()=>{S(),_._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=L})}return l}}},hm=o1;function dm(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ru(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:w,onAppear:_,onAfterAppear:S,onAppearCancelled:L}=e,q=String(t.key),Y=dm(n,t),F=(b,D)=>{b&&tn(b,s,9,D)},J={mode:i,persisted:o,beforeEnter(b){let D=a;if(!n.isMounted)if(r)D=w||a;else return;b._leaveCb&&b._leaveCb(!0);const V=Y[q];V&&js(t,V)&&V.el._leaveCb&&V.el._leaveCb(),F(D,[b])},enter(b){let D=l,V=c,ee=u;if(!n.isMounted)if(r)D=_||l,V=S||c,ee=L||u;else return;let we=!1;const U=b._enterCb=be=>{we||(we=!0,be?F(ee,[b]):F(V,[b]),J.delayedLeave&&J.delayedLeave(),b._enterCb=void 0)};D?(D(b,U),D.length<=1&&U()):U()},leave(b,D){const V=String(t.key);if(b._enterCb&&b._enterCb(!0),n.isUnmounting)return D();F(h,[b]);let ee=!1;const we=b._leaveCb=U=>{ee||(ee=!0,D(),U?F(y,[b]):F(g,[b]),b._leaveCb=void 0,Y[V]===t&&delete Y[V])};Y[V]=t,f?(f(b,we),f.length<=1&&we()):we()},clone(b){return ru(b,e,n,s)}};return J}function xc(t){if(Il(t))return t=zr(t),t.children=null,t}function wf(t){return Il(t)?t.children?t.children[0]:void 0:t}function iu(t,e){t.shapeFlag&6&&t.component?iu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fm(t,e=!1){let n=[],s=0;for(let r=0;r<t.length;r++){const i=t[r];i.type===ze?(i.patchFlag&128&&s++,n=n.concat(fm(i.children,e))):(e||i.type!==dn)&&n.push(i)}if(s>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function ot(t){return ve(t)?{setup:t,name:t.name}:t}const ou=t=>!!t.type.__asyncLoader,Il=t=>t.type.__isKeepAlive;function a1(t,e){pm(t,"a",e)}function l1(t,e){pm(t,"da",e)}function pm(t,e,n=ft){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Tl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Il(r.parent.vnode)&&c1(s,e,n,r),r=r.parent}}function c1(t,e,n,s){const r=Tl(e,t,s,!0);mh(()=>{sh(s[e],r)},n)}function Tl(t,e,n=ft,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;oi(),qr(n);const a=tn(e,n,t,o);return er(),ai(),a});return s?r.unshift(i):r.push(i),i}}const es=t=>(e,n=ft)=>(!Zi||t==="sp")&&Tl(t,e,n),u1=es("bm"),As=es("m"),h1=es("bu"),d1=es("u"),gm=es("bum"),mh=es("um"),f1=es("sp"),p1=es("rtg"),g1=es("rtc");function m1(t,e=ft){Tl("ec",t,e)}let au=!0;function y1(t){const e=ym(t),n=t.proxy,s=t.ctx;au=!1,e.beforeCreate&&bf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:y,activated:w,deactivated:_,beforeDestroy:S,beforeUnmount:L,destroyed:q,unmounted:Y,render:F,renderTracked:J,renderTriggered:b,errorCaptured:D,serverPrefetch:V,expose:ee,inheritAttrs:we,components:U,directives:be,filters:se}=e;if(c&&v1(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const Te in o){const ge=o[Te];ve(ge)&&(s[Te]=ge.bind(n))}if(r){const Te=r.call(n,n);tt(Te)&&(t.data=li(Te))}if(au=!0,i)for(const Te in i){const ge=i[Te],Ze=ve(ge)?ge.bind(n,n):ve(ge.get)?ge.get.bind(n,n):un,wr=!ve(ge)&&ve(ge.set)?ge.set.bind(n):un,Rn=vt({get:Ze,set:wr});Object.defineProperty(s,Te,{enumerable:!0,configurable:!0,get:()=>Rn.value,set:yn=>Rn.value=yn})}if(a)for(const Te in a)mm(a[Te],s,n,Te);if(l){const Te=ve(l)?l.call(n):l;Reflect.ownKeys(Te).forEach(ge=>{pa(ge,Te[ge])})}u&&bf(u,t,"c");function de(Te,ge){re(ge)?ge.forEach(Ze=>Te(Ze.bind(n))):ge&&Te(ge.bind(n))}if(de(u1,h),de(As,f),de(h1,g),de(d1,y),de(a1,w),de(l1,_),de(m1,D),de(g1,J),de(p1,b),de(gm,L),de(mh,Y),de(f1,V),re(ee))if(ee.length){const Te=t.exposed||(t.exposed={});ee.forEach(ge=>{Object.defineProperty(Te,ge,{get:()=>n[ge],set:Ze=>n[ge]=Ze})})}else t.exposed||(t.exposed={});F&&t.render===un&&(t.render=F),we!=null&&(t.inheritAttrs=we),U&&(t.components=U),be&&(t.directives=be)}function v1(t,e,n=un,s=!1){re(t)&&(t=lu(t));for(const r in t){const i=t[r];let o;tt(i)?"default"in i?o=hn(i.from||r,i.default,!0):o=hn(i.from||r):o=hn(i),et(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function bf(t,e,n){tn(re(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function mm(t,e,n,s){const r=s.includes(".")?um(n,s):()=>n[s];if(ut(t)){const i=e[t];ve(i)&&Ni(r,i)}else if(ve(t))Ni(r,t.bind(n));else if(tt(t))if(re(t))t.forEach(i=>mm(i,e,n,s));else{const i=ve(t.handler)?t.handler.bind(n):e[t.handler];ve(i)&&Ni(r,i,t)}}function ym(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Ra(l,c,o,!0)),Ra(l,e,o)),i.set(e,l),l}function Ra(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ra(t,i,n,!0),r&&r.forEach(o=>Ra(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=_1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _1={data:Ef,props:Vs,emits:Vs,methods:Vs,computed:Vs,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:Vs,directives:Vs,watch:b1,provide:Ef,inject:w1};function Ef(t,e){return e?t?function(){return bt(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function w1(t,e){return Vs(lu(t),lu(e))}function lu(t){if(re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function Vs(t,e){return t?bt(bt(Object.create(null),t),e):e}function b1(t,e){if(!t)return e;if(!e)return t;const n=bt(Object.create(null),t);for(const s in e)n[s]=Rt(t[s],e[s]);return n}function E1(t,e,n,s=!1){const r={},i={};Aa(i,Sl,1),t.propsDefaults=Object.create(null),vm(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Fw(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function x1(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Me(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];const g=e[f];if(l)if(De(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const y=Sn(f);r[y]=cu(l,a,y,g,t,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{vm(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!De(e,h)&&((u=dr(h))===h||!De(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=cu(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!De(e,h)&&!0)&&(delete i[h],c=!0)}c&&qn(t,"set","$attrs")}function vm(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(da(l))continue;const c=e[l];let u;r&&De(r,u=Sn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:gh(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Me(n),c=a||Ve;for(let u=0;u<i.length;u++){const h=i[u];n[h]=cu(r,l,h,c[h],t,!De(c,h))}}return o}function cu(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=De(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&ve(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(qr(r),s=c[n]=l.call(null,e),er())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===dr(n))&&(s=!0))}return s}function _m(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ve(t)){const u=h=>{l=!0;const[f,g]=_m(h,e,!0);bt(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return s.set(t,Nr),Nr;if(re(i))for(let u=0;u<i.length;u++){const h=Sn(i[u]);xf(h)&&(o[h]=Ve)}else if(i)for(const u in i){const h=Sn(u);if(xf(h)){const f=i[u],g=o[h]=re(f)||ve(f)?{type:f}:f;if(g){const y=Sf(Boolean,g.type),w=Sf(String,g.type);g[0]=y>-1,g[1]=w<0||y<w,(y>-1||De(g,"default"))&&a.push(h)}}}const c=[o,a];return s.set(t,c),c}function xf(t){return t[0]!=="$"}function If(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Tf(t,e){return If(t)===If(e)}function Sf(t,e){return re(e)?e.findIndex(n=>Tf(n,t)):ve(e)&&Tf(e,t)?0:-1}const wm=t=>t[0]==="_"||t==="$stable",yh=t=>re(t)?t.map(wn):[wn(t)],I1=(t,e,n)=>{const s=Lr((...r)=>yh(e(...r)),n);return s._c=!1,s},bm=(t,e,n)=>{const s=t._ctx;for(const r in t){if(wm(r))continue;const i=t[r];if(ve(i))e[r]=I1(r,i,s);else if(i!=null){const o=yh(i);e[r]=()=>o}}},Em=(t,e)=>{const n=yh(e);t.slots.default=()=>n},T1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Me(e),Aa(e,"_",n)):bm(e,t.slots={})}else t.slots={},e&&Em(t,e);Aa(t.slots,Sl,1)},S1=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ve;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(bt(r,e),!n&&a===1&&delete r._):(i=!e.$stable,bm(e,r)),o=e}else e&&(Em(t,e),o={default:1});if(i)for(const a in r)!wm(a)&&!(a in o)&&delete r[a]};function ln(t,e){const n=qt;if(n===null)return t;const s=n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=Ve]=e[i];ve(o)&&(o={mounted:o,updated:o}),o.deep&&Ws(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function Ps(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(oi(),tn(l,n,8,[t.el,a,t,e]),ai())}}function xm(){return{app:null,config:{isNativeTag:rw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let k1=0;function C1(t,e){return function(s,r=null){r!=null&&!tt(r)&&(r=null);const i=xm(),o=new Set;let a=!1;const l=i.app={_uid:k1++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:K1,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&ve(c.install)?(o.add(c),c.install(l,...u)):ve(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=je(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,xh(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}function uu(t,e,n,s,r=!1){if(re(t)){t.forEach((f,g)=>uu(f,e&&(re(e)?e[g]:e),n,s,r));return}if(ou(s)&&!r)return;const i=s.shapeFlag&4?xh(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ve?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(ut(c)?(u[c]=null,De(h,c)&&(h[c]=null)):et(c)&&(c.value=null)),ve(l))vs(l,a,12,[o,u]);else{const f=ut(l),g=et(l);if(f||g){const y=()=>{if(t.f){const w=f?u[l]:l.value;r?re(w)&&sh(w,i):re(w)?w.includes(i)||w.push(i):f?u[l]=[i]:(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,De(h,l)&&(h[l]=o)):et(l)&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,Ut(y,n)):y()}}}const Ut=s1;function A1(t){return D1(t)}function D1(t,e){const n=uw();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=un,cloneNode:y,insertStaticContent:w}=t,_=(p,m,v,T=null,I=null,O=null,$=!1,M=null,N=!!m.dynamicChildren)=>{if(p===m)return;p&&!js(p,m)&&(T=G(p),Jt(p,I,O,!0),p=null),m.patchFlag===-2&&(N=!1,m.dynamicChildren=null);const{type:k,ref:te,shapeFlag:W}=m;switch(k){case _h:S(p,m,v,T);break;case dn:L(p,m,v,T);break;case ga:p==null&&q(m,v,T,$);break;case ze:be(p,m,v,T,I,O,$,M,N);break;default:W&1?J(p,m,v,T,I,O,$,M,N):W&6?se(p,m,v,T,I,O,$,M,N):(W&64||W&128)&&k.process(p,m,v,T,I,O,$,M,N,He)}te!=null&&I&&uu(te,p&&p.ref,O,m||p,!m)},S=(p,m,v,T)=>{if(p==null)s(m.el=a(m.children),v,T);else{const I=m.el=p.el;m.children!==p.children&&c(I,m.children)}},L=(p,m,v,T)=>{p==null?s(m.el=l(m.children||""),v,T):m.el=p.el},q=(p,m,v,T)=>{[p.el,p.anchor]=w(p.children,m,v,T,p.el,p.anchor)},Y=({el:p,anchor:m},v,T)=>{let I;for(;p&&p!==m;)I=f(p),s(p,v,T),p=I;s(m,v,T)},F=({el:p,anchor:m})=>{let v;for(;p&&p!==m;)v=f(p),r(p),p=v;r(m)},J=(p,m,v,T,I,O,$,M,N)=>{$=$||m.type==="svg",p==null?b(m,v,T,I,O,$,M,N):ee(p,m,I,O,$,M,N)},b=(p,m,v,T,I,O,$,M)=>{let N,k;const{type:te,props:W,shapeFlag:ne,transition:le,patchFlag:Ae,dirs:Qe}=p;if(p.el&&y!==void 0&&Ae===-1)N=p.el=y(p.el);else{if(N=p.el=o(p.type,O,W&&W.is,W),ne&8?u(N,p.children):ne&16&&V(p.children,N,null,T,I,O&&te!=="foreignObject",$,M),Qe&&Ps(p,null,T,"created"),W){for(const We in W)We!=="value"&&!da(We)&&i(N,We,null,W[We],O,p.children,T,I,P);"value"in W&&i(N,"value",null,W.value),(k=W.onVnodeBeforeMount)&&_n(k,T,p)}D(N,p,p.scopeId,$,T)}Qe&&Ps(p,null,T,"beforeMount");const $e=(!I||I&&!I.pendingBranch)&&le&&!le.persisted;$e&&le.beforeEnter(N),s(N,m,v),((k=W&&W.onVnodeMounted)||$e||Qe)&&Ut(()=>{k&&_n(k,T,p),$e&&le.enter(N),Qe&&Ps(p,null,T,"mounted")},I)},D=(p,m,v,T,I)=>{if(v&&g(p,v),T)for(let O=0;O<T.length;O++)g(p,T[O]);if(I){let O=I.subTree;if(m===O){const $=I.vnode;D(p,$,$.scopeId,$.slotScopeIds,I.parent)}}},V=(p,m,v,T,I,O,$,M,N=0)=>{for(let k=N;k<p.length;k++){const te=p[k]=M?cs(p[k]):wn(p[k]);_(null,te,m,v,T,I,O,$,M)}},ee=(p,m,v,T,I,O,$)=>{const M=m.el=p.el;let{patchFlag:N,dynamicChildren:k,dirs:te}=m;N|=p.patchFlag&16;const W=p.props||Ve,ne=m.props||Ve;let le;v&&Ls(v,!1),(le=ne.onVnodeBeforeUpdate)&&_n(le,v,m,p),te&&Ps(m,p,v,"beforeUpdate"),v&&Ls(v,!0);const Ae=I&&m.type!=="foreignObject";if(k?we(p.dynamicChildren,k,M,v,T,Ae,O):$||Ze(p,m,M,null,v,T,Ae,O,!1),N>0){if(N&16)U(M,m,W,ne,v,T,I);else if(N&2&&W.class!==ne.class&&i(M,"class",null,ne.class,I),N&4&&i(M,"style",W.style,ne.style,I),N&8){const Qe=m.dynamicProps;for(let $e=0;$e<Qe.length;$e++){const We=Qe[$e],on=W[We],br=ne[We];(br!==on||We==="value")&&i(M,We,on,br,I,p.children,v,T,P)}}N&1&&p.children!==m.children&&u(M,m.children)}else!$&&k==null&&U(M,m,W,ne,v,T,I);((le=ne.onVnodeUpdated)||te)&&Ut(()=>{le&&_n(le,v,m,p),te&&Ps(m,p,v,"updated")},T)},we=(p,m,v,T,I,O,$)=>{for(let M=0;M<m.length;M++){const N=p[M],k=m[M],te=N.el&&(N.type===ze||!js(N,k)||N.shapeFlag&70)?h(N.el):v;_(N,k,te,null,T,I,O,$,!0)}},U=(p,m,v,T,I,O,$)=>{if(v!==T){for(const M in T){if(da(M))continue;const N=T[M],k=v[M];N!==k&&M!=="value"&&i(p,M,k,N,$,m.children,I,O,P)}if(v!==Ve)for(const M in v)!da(M)&&!(M in T)&&i(p,M,v[M],null,$,m.children,I,O,P);"value"in T&&i(p,"value",v.value,T.value)}},be=(p,m,v,T,I,O,$,M,N)=>{const k=m.el=p?p.el:a(""),te=m.anchor=p?p.anchor:a("");let{patchFlag:W,dynamicChildren:ne,slotScopeIds:le}=m;le&&(M=M?M.concat(le):le),p==null?(s(k,v,T),s(te,v,T),V(m.children,v,te,I,O,$,M,N)):W>0&&W&64&&ne&&p.dynamicChildren?(we(p.dynamicChildren,ne,v,I,O,$,M),(m.key!=null||I&&m===I.subTree)&&Im(p,m,!0)):Ze(p,m,v,te,I,O,$,M,N)},se=(p,m,v,T,I,O,$,M,N)=>{m.slotScopeIds=M,p==null?m.shapeFlag&512?I.ctx.activate(m,v,T,$,N):_e(m,v,T,I,O,$,N):de(p,m,N)},_e=(p,m,v,T,I,O,$)=>{const M=p.component=B1(p,T,I);if(Il(p)&&(M.ctx.renderer=He),j1(M),M.asyncDep){if(I&&I.registerDep(M,Te),!p.el){const N=M.subTree=je(dn);L(null,N,m,v)}return}Te(M,p,m,v,I,O,$)},de=(p,m,v)=>{const T=m.component=p.component;if(e1(p,m,v))if(T.asyncDep&&!T.asyncResolved){ge(T,m,v);return}else T.next=m,Kw(T.update),T.update();else m.component=p.component,m.el=p.el,T.vnode=m},Te=(p,m,v,T,I,O,$)=>{const M=()=>{if(p.isMounted){let{next:te,bu:W,u:ne,parent:le,vnode:Ae}=p,Qe=te,$e;Ls(p,!1),te?(te.el=Ae.el,ge(p,te,$)):te=Ae,W&&fa(W),($e=te.props&&te.props.onVnodeBeforeUpdate)&&_n($e,le,te,Ae),Ls(p,!0);const We=Ec(p),on=p.subTree;p.subTree=We,_(on,We,h(on.el),G(on),p,I,O),te.el=We.el,Qe===null&&t1(p,We.el),ne&&Ut(ne,I),($e=te.props&&te.props.onVnodeUpdated)&&Ut(()=>_n($e,le,te,Ae),I)}else{let te;const{el:W,props:ne}=m,{bm:le,m:Ae,parent:Qe}=p,$e=ou(m);if(Ls(p,!1),le&&fa(le),!$e&&(te=ne&&ne.onVnodeBeforeMount)&&_n(te,Qe,m),Ls(p,!0),W&&me){const We=()=>{p.subTree=Ec(p),me(W,p.subTree,p,I,null)};$e?m.type.__asyncLoader().then(()=>!p.isUnmounted&&We()):We()}else{const We=p.subTree=Ec(p);_(null,We,v,T,p,I,O),m.el=We.el}if(Ae&&Ut(Ae,I),!$e&&(te=ne&&ne.onVnodeMounted)){const We=m;Ut(()=>_n(te,Qe,We),I)}m.shapeFlag&256&&p.a&&Ut(p.a,I),p.isMounted=!0,m=v=T=null}},N=p.effect=new ah(M,()=>nm(p.update),p.scope),k=p.update=N.run.bind(N);k.id=p.uid,Ls(p,!0),k()},ge=(p,m,v)=>{m.component=p;const T=p.vnode.props;p.vnode=m,p.next=null,x1(p,m.props,T,v),S1(p,m.children,v),oi(),ph(void 0,p.update),ai()},Ze=(p,m,v,T,I,O,$,M,N=!1)=>{const k=p&&p.children,te=p?p.shapeFlag:0,W=m.children,{patchFlag:ne,shapeFlag:le}=m;if(ne>0){if(ne&128){Rn(k,W,v,T,I,O,$,M,N);return}else if(ne&256){wr(k,W,v,T,I,O,$,M,N);return}}le&8?(te&16&&P(k,I,O),W!==k&&u(v,W)):te&16?le&16?Rn(k,W,v,T,I,O,$,M,N):P(k,I,O,!0):(te&8&&u(v,""),le&16&&V(W,v,T,I,O,$,M,N))},wr=(p,m,v,T,I,O,$,M,N)=>{p=p||Nr,m=m||Nr;const k=p.length,te=m.length,W=Math.min(k,te);let ne;for(ne=0;ne<W;ne++){const le=m[ne]=N?cs(m[ne]):wn(m[ne]);_(p[ne],le,v,null,I,O,$,M,N)}k>te?P(p,I,O,!0,!1,W):V(m,v,T,I,O,$,M,N,W)},Rn=(p,m,v,T,I,O,$,M,N)=>{let k=0;const te=m.length;let W=p.length-1,ne=te-1;for(;k<=W&&k<=ne;){const le=p[k],Ae=m[k]=N?cs(m[k]):wn(m[k]);if(js(le,Ae))_(le,Ae,v,null,I,O,$,M,N);else break;k++}for(;k<=W&&k<=ne;){const le=p[W],Ae=m[ne]=N?cs(m[ne]):wn(m[ne]);if(js(le,Ae))_(le,Ae,v,null,I,O,$,M,N);else break;W--,ne--}if(k>W){if(k<=ne){const le=ne+1,Ae=le<te?m[le].el:T;for(;k<=ne;)_(null,m[k]=N?cs(m[k]):wn(m[k]),v,Ae,I,O,$,M,N),k++}}else if(k>ne)for(;k<=W;)Jt(p[k],I,O,!0),k++;else{const le=k,Ae=k,Qe=new Map;for(k=Ae;k<=ne;k++){const Yt=m[k]=N?cs(m[k]):wn(m[k]);Yt.key!=null&&Qe.set(Yt.key,k)}let $e,We=0;const on=ne-Ae+1;let br=!1,af=0;const wi=new Array(on);for(k=0;k<on;k++)wi[k]=0;for(k=le;k<=W;k++){const Yt=p[k];if(We>=on){Jt(Yt,I,O,!0);continue}let vn;if(Yt.key!=null)vn=Qe.get(Yt.key);else for($e=Ae;$e<=ne;$e++)if(wi[$e-Ae]===0&&js(Yt,m[$e])){vn=$e;break}vn===void 0?Jt(Yt,I,O,!0):(wi[vn-Ae]=k+1,vn>=af?af=vn:br=!0,_(Yt,m[vn],v,null,I,O,$,M,N),We++)}const lf=br?M1(wi):Nr;for($e=lf.length-1,k=on-1;k>=0;k--){const Yt=Ae+k,vn=m[Yt],cf=Yt+1<te?m[Yt+1].el:T;wi[k]===0?_(null,vn,v,cf,I,O,$,M,N):br&&($e<0||k!==lf[$e]?yn(vn,v,cf,2):$e--)}}},yn=(p,m,v,T,I=null)=>{const{el:O,type:$,transition:M,children:N,shapeFlag:k}=p;if(k&6){yn(p.component.subTree,m,v,T);return}if(k&128){p.suspense.move(m,v,T);return}if(k&64){$.move(p,m,v,He);return}if($===ze){s(O,m,v);for(let W=0;W<N.length;W++)yn(N[W],m,v,T);s(p.anchor,m,v);return}if($===ga){Y(p,m,v);return}if(T!==2&&k&1&&M)if(T===0)M.beforeEnter(O),s(O,m,v),Ut(()=>M.enter(O),I);else{const{leave:W,delayLeave:ne,afterLeave:le}=M,Ae=()=>s(O,m,v),Qe=()=>{W(O,()=>{Ae(),le&&le()})};ne?ne(O,Ae,Qe):Qe()}else s(O,m,v)},Jt=(p,m,v,T=!1,I=!1)=>{const{type:O,props:$,ref:M,children:N,dynamicChildren:k,shapeFlag:te,patchFlag:W,dirs:ne}=p;if(M!=null&&uu(M,null,v,p,!0),te&256){m.ctx.deactivate(p);return}const le=te&1&&ne,Ae=!ou(p);let Qe;if(Ae&&(Qe=$&&$.onVnodeBeforeUnmount)&&_n(Qe,m,p),te&6)z(p.component,v,T);else{if(te&128){p.suspense.unmount(v,T);return}le&&Ps(p,null,m,"beforeUnmount"),te&64?p.type.remove(p,m,v,I,He,T):k&&(O!==ze||W>0&&W&64)?P(k,m,v,!1,!0):(O===ze&&W&384||!I&&te&16)&&P(N,m,v),T&&wc(p)}(Ae&&(Qe=$&&$.onVnodeUnmounted)||le)&&Ut(()=>{Qe&&_n(Qe,m,p),le&&Ps(p,null,m,"unmounted")},v)},wc=p=>{const{type:m,el:v,anchor:T,transition:I}=p;if(m===ze){x(v,T);return}if(m===ga){F(p);return}const O=()=>{r(v),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(p.shapeFlag&1&&I&&!I.persisted){const{leave:$,delayLeave:M}=I,N=()=>$(v,O);M?M(p.el,O,N):N()}else O()},x=(p,m)=>{let v;for(;p!==m;)v=f(p),r(p),p=v;r(m)},z=(p,m,v)=>{const{bum:T,scope:I,update:O,subTree:$,um:M}=p;T&&fa(T),I.stop(),O&&(O.active=!1,Jt($,p,m,v)),M&&Ut(M,m),Ut(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},P=(p,m,v,T=!1,I=!1,O=0)=>{for(let $=O;$<p.length;$++)Jt(p[$],m,v,T,I)},G=p=>p.shapeFlag&6?G(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),Fe=(p,m,v)=>{p==null?m._vnode&&Jt(m._vnode,null,null,!0):_(m._vnode||null,p,m,null,null,null,v),im(),m._vnode=p},He={p:_,um:Jt,m:yn,r:wc,mt:_e,mc:V,pc:Ze,pbc:we,n:G,o:t};let Ie,me;return e&&([Ie,me]=e(He)),{render:Fe,hydrate:Ie,createApp:C1(Fe,Ie)}}function Ls({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Im(t,e,n=!1){const s=t.children,r=e.children;if(re(s)&&re(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=cs(r[i]),a.el=o.el),n||Im(o,a))}}function M1(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const R1=t=>t.__isTeleport,vh="components";function Tm(t,e){return km(vh,t,!0,e)||t}const Sm=Symbol();function O1(t){return ut(t)?km(vh,t,!1)||t:t||Sm}function km(t,e,n=!0,s=!1){const r=qt||ft;if(r){const i=r.type;if(t===vh){const a=z1(i);if(a&&(a===e||a===Sn(e)||a===bl(Sn(e))))return i}const o=kf(r[t]||i[t],e)||kf(r.appContext[t],e);return!o&&s?i:o}}function kf(t,e){return t&&(t[e]||t[Sn(e)]||t[bl(Sn(e))])}const ze=Symbol(void 0),_h=Symbol(void 0),dn=Symbol(void 0),ga=Symbol(void 0),Pi=[];let Zs=null;function Q(t=!1){Pi.push(Zs=t?null:[])}function N1(){Pi.pop(),Zs=Pi[Pi.length-1]||null}let Oa=1;function Cf(t){Oa+=t}function Cm(t){return t.dynamicChildren=Oa>0?Zs||Nr:null,N1(),Oa>0&&Zs&&Zs.push(t),t}function oe(t,e,n,s,r,i){return Cm(d(t,e,n,s,r,i,!0))}function Kn(t,e,n,s,r){return Cm(je(t,e,n,s,r,!0))}function Na(t){return t?t.__v_isVNode===!0:!1}function js(t,e){return t.type===e.type&&t.key===e.key}const Sl="__vInternal",Am=({key:t})=>t!=null?t:null,ma=({ref:t,ref_key:e,ref_for:n})=>t!=null?ut(t)||et(t)||ve(t)?{i:qt,r:t,k:e,f:!!n}:t:null;function d(t,e=null,n=null,s=0,r=null,i=t===ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Am(e),ref:e&&ma(e),scopeId:lm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(bh(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ut(n)?8:16),Oa>0&&!o&&Zs&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Zs.push(l),l}const je=P1;function P1(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Sm)&&(t=dn),Na(t)){const a=zr(t,e,!0);return n&&bh(a,n),a}if(q1(t)&&(t=t.__vccOpts),e){e=L1(e);let{class:a,style:l}=e;a&&!ut(a)&&(e.class=Tt(a)),tt(l)&&(Qg(l)&&!re(l)&&(l=bt({},l)),e.style=th(l))}const o=ut(t)?1:n1(t)?128:R1(t)?64:tt(t)?4:ve(t)?2:0;return d(t,e,n,s,r,o,i,!0)}function L1(t){return t?Qg(t)||Sl in t?bt({},t):t:null}function zr(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?F1(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Am(a),ref:e&&e.ref?n&&r?re(r)?r.concat(ma(e)):[r,ma(e)]:ma(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ze?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zr(t.ssContent),ssFallback:t.ssFallback&&zr(t.ssFallback),el:t.el,anchor:t.anchor}}function Dm(t=" ",e=0){return je(_h,null,t,e)}function wh(t,e){const n=je(ga,null,t);return n.staticCount=e,n}function Gn(t="",e=!1){return e?(Q(),Kn(dn,null,t)):je(dn,null,t)}function wn(t){return t==null||typeof t=="boolean"?je(dn):re(t)?je(ze,null,t.slice()):typeof t=="object"?cs(t):je(_h,null,String(t))}function cs(t){return t.el===null||t.memo?t:zr(t)}function bh(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(re(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),bh(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Sl in e)?e._ctx=qt:r===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:qt},n=32):(e=String(e),s&64?(n=16,e=[Dm(e)]):n=8);t.children=e,t.shapeFlag|=n}function F1(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Tt([e.class,s.class]));else if(r==="style")e.style=th([e.style,s.style]);else if(yl(r)){const i=e[r],o=s[r];o&&i!==o&&!(re(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function _n(t,e,n,s=null){tn(t,e,7,[n,s])}function Is(t,e,n,s){let r;const i=n&&n[s];if(re(t)||ut(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(tt(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function Mm(t,e,n={},s,r){if(qt.isCE)return je("slot",e==="default"?null:{name:e},s&&s());let i=t[e];i&&i._c&&(i._d=!1),Q();const o=i&&Rm(i(n)),a=Kn(ze,{key:n.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Rm(t){return t.some(e=>Na(e)?!(e.type===dn||e.type===ze&&!Rm(e.children)):!0)?t:null}const hu=t=>t?Om(t)?xh(t)||t.proxy:hu(t.parent):null,Pa=bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hu(t.parent),$root:t=>hu(t.root),$emit:t=>t.emit,$options:t=>ym(t),$forceUpdate:t=>()=>nm(t.update),$nextTick:t=>fr.bind(t.proxy),$watch:t=>r1.bind(t)}),$1={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(s!==Ve&&De(s,e))return o[e]=1,s[e];if(r!==Ve&&De(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&De(c,e))return o[e]=3,i[e];if(n!==Ve&&De(n,e))return o[e]=4,n[e];au&&(o[e]=0)}}const u=Pa[e];let h,f;if(u)return e==="$attrs"&&Gt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ve&&De(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,De(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return r!==Ve&&De(r,e)?(r[e]=n,!0):s!==Ve&&De(s,e)?(s[e]=n,!0):De(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ve&&De(t,o)||e!==Ve&&De(e,o)||(a=i[0])&&De(a,o)||De(s,o)||De(Pa,o)||De(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},U1=xm();let V1=0;function B1(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||U1,i={uid:V1++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Lg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_m(s,r),emitsOptions:am(s,r),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:s.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Xw.bind(null,i),t.ce&&t.ce(i),i}let ft=null;const Eh=()=>ft||qt,qr=t=>{ft=t,t.scope.on()},er=()=>{ft&&ft.scope.off(),ft=null};function Om(t){return t.vnode.shapeFlag&4}let Zi=!1;function j1(t,e=!1){Zi=e;const{props:n,children:s}=t.vnode,r=Om(t);E1(t,n,r,e),T1(t,s);const i=r?H1(t,e):void 0;return Zi=!1,i}function H1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Wr(new Proxy(t.ctx,$1));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?W1(t):null;qr(t),oi();const i=vs(s,t,0,[t.props,r]);if(ai(),er(),Og(i)){if(i.then(er,er),e)return i.then(o=>{Af(t,o,e)}).catch(o=>{xl(o,t,0)});t.asyncDep=i}else Af(t,i,e)}else Nm(t,e)}function Af(t,e,n){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:tt(e)&&(t.setupState=em(e)),Nm(t,n)}let Df;function Nm(t,e,n){const s=t.type;if(!t.render){if(!e&&Df&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=bt(bt({isCustomElement:i,delimiters:a},o),l);s.render=Df(r,c)}}t.render=s.render||un}qr(t),oi(),y1(t),ai(),er()}function Y1(t){return new Proxy(t.attrs,{get(e,n){return Gt(t,"get","$attrs"),e[n]}})}function W1(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Y1(t))},slots:t.slots,emit:t.emit,expose:e}}function xh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(em(Wr(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pa)return Pa[n](t)}}))}function z1(t){return ve(t)&&t.displayName||t.name}function q1(t){return ve(t)&&"__vccOpts"in t}const vt=(t,e)=>Ww(t,e,Zi);function Ih(t,e,n){const s=arguments.length;return s===2?tt(e)&&!re(e)?Na(e)?je(t,null,[e]):je(t,e):je(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Na(n)&&(n=[n]),je(t,e,n))}const K1="3.2.31",G1="http://www.w3.org/2000/svg",Hs=typeof document<"u"?document:null,Mf=Hs&&Hs.createElement("template"),Q1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Hs.createElementNS(G1,t):Hs.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Hs.createTextNode(t),createComment:t=>Hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Mf.innerHTML=s?`<svg>${t}</svg>`:t;const a=Mf.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function X1(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function J1(t,e,n){const s=t.style,r=ut(n);if(n&&!r){for(const i in n)du(s,i,n[i]);if(e&&!ut(e))for(const i in e)n[i]==null&&du(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Rf=/\s*!important$/;function du(t,e,n){if(re(n))n.forEach(s=>du(t,e,s));else if(e.startsWith("--"))t.setProperty(e,n);else{const s=Z1(t,e);Rf.test(n)?t.setProperty(dr(s),n.replace(Rf,""),"important"):t[s]=n}}const Of=["Webkit","Moz","ms"],Ic={};function Z1(t,e){const n=Ic[e];if(n)return n;let s=Sn(e);if(s!=="filter"&&s in t)return Ic[e]=s;s=bl(s);for(let r=0;r<Of.length;r++){const i=Of[r]+s;if(i in t)return Ic[e]=i}return e}const Nf="http://www.w3.org/1999/xlink";function eb(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Nf,e.slice(6,e.length)):t.setAttributeNS(Nf,e,n);else{const i=J_(e);n==null||i&&!Mg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function tb(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n==null?"":n;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=Mg(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let La=Date.now,Pm=!1;if(typeof window<"u"){La()>document.createEvent("Event").timeStamp&&(La=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Pm=!!(t&&Number(t[1])<=53)}let fu=0;const nb=Promise.resolve(),sb=()=>{fu=0},rb=()=>fu||(nb.then(sb),fu=La());function Ys(t,e,n,s){t.addEventListener(e,n,s)}function ib(t,e,n,s){t.removeEventListener(e,n,s)}function ob(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=ab(e);if(s){const c=i[e]=lb(s,r);Ys(t,a,c,l)}else o&&(ib(t,a,o,l),i[e]=void 0)}}const Pf=/(?:Once|Passive|Capture)$/;function ab(t){let e;if(Pf.test(t)){e={};let n;for(;n=t.match(Pf);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[dr(t.slice(2)),e]}function lb(t,e){const n=s=>{const r=s.timeStamp||La();(Pm||r>=n.attached-1)&&tn(cb(s,n.value),e,5,[s])};return n.value=t,n.attached=rb(),n}function cb(t,e){if(re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Lf=/^on[a-z]/,ub=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?X1(t,s,r):e==="style"?J1(t,n,s):yl(e)?nh(e)||ob(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hb(t,e,s,r))?tb(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),eb(t,e,s,r))};function hb(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Lf.test(e)&&ve(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Lf.test(e)&&ut(n)?!1:e in t}const rs="transition",bi="animation",Th=(t,{slots:e})=>Ih(hm,db(t),e);Th.displayName="Transition";const Lm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Th.props=bt({},hm.props,Lm);const Fs=(t,e=[])=>{re(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ff=t=>t?re(t)?t.some(e=>e.length>1):t.length>1:!1;function db(t){const e={};for(const U in t)U in Lm||(e[U]=t[U]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,y=fb(r),w=y&&y[0],_=y&&y[1],{onBeforeEnter:S,onEnter:L,onEnterCancelled:q,onLeave:Y,onLeaveCancelled:F,onBeforeAppear:J=S,onAppear:b=L,onAppearCancelled:D=q}=e,V=(U,be,se)=>{Er(U,be?u:a),Er(U,be?c:o),se&&se()},ee=(U,be)=>{Er(U,g),Er(U,f),be&&be()},we=U=>(be,se)=>{const _e=U?b:L,de=()=>V(be,U,se);Fs(_e,[be,de]),$f(()=>{Er(be,U?l:i),is(be,U?u:a),Ff(_e)||Uf(be,s,w,de)})};return bt(e,{onBeforeEnter(U){Fs(S,[U]),is(U,i),is(U,o)},onBeforeAppear(U){Fs(J,[U]),is(U,l),is(U,c)},onEnter:we(!1),onAppear:we(!0),onLeave(U,be){const se=()=>ee(U,be);is(U,h),mb(),is(U,f),$f(()=>{Er(U,h),is(U,g),Ff(Y)||Uf(U,s,_,se)}),Fs(Y,[U,se])},onEnterCancelled(U){V(U,!1),Fs(q,[U])},onAppearCancelled(U){V(U,!0),Fs(D,[U])},onLeaveCancelled(U){ee(U),Fs(F,[U])}})}function fb(t){if(t==null)return null;if(tt(t))return[Tc(t.enter),Tc(t.leave)];{const e=Tc(t);return[e,e]}}function Tc(t){return Gi(t)}function is(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Er(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function $f(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let pb=0;function Uf(t,e,n,s){const r=t._endId=++pb,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=gb(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),i()},f=g=>{g.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function gb(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(rs+"Delay"),i=s(rs+"Duration"),o=Vf(r,i),a=s(bi+"Delay"),l=s(bi+"Duration"),c=Vf(a,l);let u=null,h=0,f=0;e===rs?o>0&&(u=rs,h=o,f=i.length):e===bi?c>0&&(u=bi,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?rs:bi:null,f=u?u===rs?i.length:l.length:0);const g=u===rs&&/\b(transform|all)(,|$)/.test(n[rs+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:g}}function Vf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Bf(n)+Bf(t[s])))}function Bf(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function mb(){return document.body.offsetHeight}const Fa=t=>{const e=t.props["onUpdate:modelValue"];return re(e)?n=>fa(e,n):e};function yb(t){t.target.composing=!0}function jf(t){const e=t.target;e.composing&&(e.composing=!1,vb(e,"input"))}function vb(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const zs={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Fa(r);const i=s||r.props&&r.props.type==="number";Ys(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n?a=a.trim():i&&(a=Gi(a)),t._assign(a)}),n&&Ys(t,"change",()=>{t.value=t.value.trim()}),e||(Ys(t,"compositionstart",yb),Ys(t,"compositionend",jf),Ys(t,"change",jf))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=Fa(i),t.composing||document.activeElement===t&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Gi(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Hf={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=vl(e);Ys(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Gi($a(o)):$a(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=Fa(s)},mounted(t,{value:e}){Yf(t,e)},beforeUpdate(t,e,n){t._assign=Fa(n)},updated(t,{value:e}){Yf(t,e)}};function Yf(t,e){const n=t.multiple;if(!(n&&!re(e)&&!vl(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=$a(i);if(n)re(e)?i.selected=sw(e,o)>-1:i.selected=e.has(o);else if(ml($a(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $a(t){return"_value"in t?t._value:t.value}const _b=["ctrl","shift","alt","meta"],wb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_b.some(n=>t[`${n}Key`]&&!e.includes(n))},Fm=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=wb[e[r]];if(i&&i(n,e))return}return t(n,...s)},bb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kt=(t,e)=>n=>{if(!("key"in n))return;const s=dr(n.key);if(e.some(r=>r===s||bb[r]===s))return t(n)},Wf={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ei(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Ei(t,!0),s.enter(t)):s.leave(t,()=>{Ei(t,!1)}):Ei(t,e))},beforeUnmount(t,{value:e}){Ei(t,e)}};function Ei(t,e){t.style.display=e?t._vod:"none"}const Eb=bt({patchProp:ub},Q1);let zf;function xb(){return zf||(zf=A1(Eb))}const Ib=(...t)=>{const e=xb().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Tb(s);if(!r)return;const i=e._component;!ve(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Tb(t){return ut(t)?document.querySelector(t):t}/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const $m=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ci=t=>$m?Symbol(t):"_vr_"+t,Sb=ci("rvlm"),qf=ci("rvd"),kl=ci("r"),Sh=ci("rl"),pu=ci("rvl"),Ar=typeof window<"u";function kb(t){return t.__esModule||$m&&t[Symbol.toStringTag]==="Module"}const Ue=Object.assign;function Sc(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}const Li=()=>{},Cb=/\/$/,Ab=t=>t.replace(Cb,"");function kc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),i=e.slice(a+1,l>-1?l:e.length),r=t(i)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=Ob(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function Db(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Kf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Mb(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Kr(e.matched[s],n.matched[r])&&Um(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Kr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Um(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Rb(t[n],e[n]))return!1;return!0}function Rb(t,e){return Array.isArray(t)?Gf(t,e):Array.isArray(e)?Gf(e,t):t===e}function Gf(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Ob(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var eo;(function(t){t.pop="pop",t.push="push"})(eo||(eo={}));var Fi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Fi||(Fi={}));function Nb(t){if(!t)if(Ar){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Ab(t)}const Pb=/^[^#]+#/;function Lb(t,e){return t.replace(Pb,"#")+e}function Fb(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Cl=()=>({left:window.pageXOffset,top:window.pageYOffset});function $b(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Fb(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Qf(t,e){return(history.state?history.state.position-e:-1)+t}const gu=new Map;function Ub(t,e){gu.set(t,e)}function Vb(t){const e=gu.get(t);return gu.delete(t),e}let Bb=()=>location.protocol+"//"+location.host;function Vm(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Kf(l,"")}return Kf(n,t)+s+r}function jb(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const g=Vm(t,location),y=n.value,w=e.value;let _=0;if(f){if(n.value=g,e.value=f,o&&o===y){o=null;return}_=w?f.position-w.position:0}else s(g);r.forEach(S=>{S(n.value,y,{delta:_,type:eo.pop,direction:_?_>0?Fi.forward:Fi.back:Fi.unknown})})};function l(){o=n.value}function c(f){r.push(f);const g=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return i.push(g),g}function u(){const{history:f}=window;!f.state||f.replaceState(Ue({},f.state,{scroll:Cl()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function Xf(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Cl():null}}function Hb(t){const{history:e,location:n}=window,s={value:Vm(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Bb()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ue({},e.state,Xf(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Ue({},r.value,e.state,{forward:l,scroll:Cl()});i(u.current,u,!0);const h=Ue({},Xf(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Yb(t){t=Nb(t);const e=Hb(t),n=jb(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ue({location:"",base:t,go:s,createHref:Lb.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Wb(t){return typeof t=="string"||t&&typeof t=="object"}function Bm(t){return typeof t=="string"||typeof t=="symbol"}const os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jm=ci("nf");var Jf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Jf||(Jf={}));function Gr(t,e){return Ue(new Error,{type:t,[jm]:!0},e)}function $s(t,e){return t instanceof Error&&jm in t&&(e==null||!!(t.type&e))}const Zf="[^/]+?",zb={sensitive:!1,strict:!1,start:!0,end:!0},qb=/[.+*?^${}()[\]/\\]/g;function Kb(t,e){const n=Ue({},zb,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(qb,"\\$&"),g+=40;else if(f.type===1){const{value:y,repeatable:w,optional:_,regexp:S}=f;i.push({name:y,repeatable:w,optional:_});const L=S||Zf;if(L!==Zf){g+=10;try{new RegExp(`(${L})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${y}" (${L}): `+Y.message)}}let q=w?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;h||(q=_&&c.length<2?`(?:/${q})`:"/"+q),_&&(q+="?"),r+=q,g+=20,_&&(g+=-8),w&&(g+=-20),L===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",y=i[f-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:w,optional:_}=g,S=y in c?c[y]:"";if(Array.isArray(S)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const L=Array.isArray(S)?S.join("/"):S;if(!L)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=L}}return u}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Gb(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Qb(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Gb(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const Xb={type:0,value:""},Jb=/[a-zA-Z0-9_]/;function Zb(t){if(!t)return[[]];if(t==="/")return[[Xb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Jb.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function eE(t,e,n){const s=Kb(Zb(t.path),n),r=Ue(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function tE(t,e){const n=[],s=new Map;e=tp({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const g=!f,y=sE(u);y.aliasOf=f&&f.record;const w=tp(e,u),_=[y];if("alias"in u){const q=typeof u.alias=="string"?[u.alias]:u.alias;for(const Y of q)_.push(Ue({},y,{components:f?f.record.components:y.components,path:Y,aliasOf:f?f.record:y}))}let S,L;for(const q of _){const{path:Y}=q;if(h&&Y[0]!=="/"){const F=h.record.path,J=F[F.length-1]==="/"?"":"/";q.path=h.record.path+(Y&&J+Y)}if(S=eE(q,h,w),f?f.alias.push(S):(L=L||S,L!==S&&L.alias.push(S),g&&u.name&&!ep(S)&&o(u.name)),"children"in y){const F=y.children;for(let J=0;J<F.length;J++)i(F[J],S,f&&f.children[J])}f=f||S,l(S)}return L?()=>{o(L)}:Li}function o(u){if(Bm(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&Qb(u,n[h])>=0;)h++;n.splice(h,0,u),u.record.name&&!ep(u)&&s.set(u.record.name,u)}function c(u,h){let f,g={},y,w;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Gr(1,{location:u});w=f.record.name,g=Ue(nE(h.params,f.keys.filter(L=>!L.optional).map(L=>L.name)),u.params),y=f.stringify(g)}else if("path"in u)y=u.path,f=n.find(L=>L.re.test(y)),f&&(g=f.parse(y),w=f.record.name);else{if(f=h.name?s.get(h.name):n.find(L=>L.re.test(h.path)),!f)throw Gr(1,{location:u,currentLocation:h});w=f.record.name,g=Ue({},h.params,u.params),y=f.stringify(g)}const _=[];let S=f;for(;S;)_.unshift(S.record),S=S.parent;return{name:w,path:y,params:g,matched:_,meta:iE(_)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function nE(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function sE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:rE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function rE(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function ep(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iE(t){return t.reduce((e,n)=>Ue(e,n.meta),{})}function tp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const Hm=/#/g,oE=/&/g,aE=/\//g,lE=/=/g,cE=/\?/g,Ym=/\+/g,uE=/%5B/g,hE=/%5D/g,Wm=/%5E/g,dE=/%60/g,zm=/%7B/g,fE=/%7C/g,qm=/%7D/g,pE=/%20/g;function kh(t){return encodeURI(""+t).replace(fE,"|").replace(uE,"[").replace(hE,"]")}function gE(t){return kh(t).replace(zm,"{").replace(qm,"}").replace(Wm,"^")}function mu(t){return kh(t).replace(Ym,"%2B").replace(pE,"+").replace(Hm,"%23").replace(oE,"%26").replace(dE,"`").replace(zm,"{").replace(qm,"}").replace(Wm,"^")}function mE(t){return mu(t).replace(lE,"%3D")}function yE(t){return kh(t).replace(Hm,"%23").replace(cE,"%3F")}function vE(t){return t==null?"":yE(t).replace(aE,"%2F")}function Ua(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function _E(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Ym," "),o=i.indexOf("="),a=Ua(o<0?i:i.slice(0,o)),l=o<0?null:Ua(i.slice(o+1));if(a in e){let c=e[a];Array.isArray(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function np(t){let e="";for(let n in t){const s=t[n];if(n=mE(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&mu(i)):[s&&mu(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function wE(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}function xi(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function us(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Gr(4,{from:n,to:e})):h instanceof Error?a(h):Wb(h)?a(Gr(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Cc(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(bE(a)){const c=(a.__vccOpts||a)[e];c&&r.push(us(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=kb(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&us(f,n,s,i,o)()}))}}return r}function bE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sp(t){const e=hn(kl),n=hn(Sh),s=vt(()=>e.resolve(ce(t.to))),r=vt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Kr.bind(null,u));if(f>-1)return f;const g=rp(l[c-2]);return c>1&&rp(u)===g&&h[h.length-1].path!==g?h.findIndex(Kr.bind(null,l[c-2])):f}),i=vt(()=>r.value>-1&&TE(n.params,s.value.params)),o=vt(()=>r.value>-1&&r.value===n.matched.length-1&&Um(n.params,s.value.params));function a(l={}){return IE(l)?e[ce(t.replace)?"replace":"push"](ce(t.to)).catch(Li):Promise.resolve()}return{route:s,href:vt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const EE=ot({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sp,setup(t,{slots:e}){const n=li(sp(t)),{options:s}=hn(kl),r=vt(()=>({[ip(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ip(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Ih("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),xE=EE;function IE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function TE(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function rp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ip=(t,e,n)=>t!=null?t:e!=null?e:n,SE=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const s=hn(pu),r=vt(()=>t.route||s.value),i=hn(qf,0),o=vt(()=>r.value.matched[i]);pa(qf,i+1),pa(Sb,o),pa(pu,r);const a=ie();return Ni(()=>[a.value,o.value,t.name],([l,c,u],[h,f,g])=>{c&&(c.instances[u]=l,f&&f!==c&&l&&l===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),l&&c&&(!f||!Kr(c,f)||!h)&&(c.enterCallbacks[u]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=r.value,c=o.value,u=c&&c.components[t.name],h=t.name;if(!u)return op(n.default,{Component:u,route:l});const f=c.props[t.name],g=f?f===!0?l.params:typeof f=="function"?f(l):f:null,w=Ih(u,Ue({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[h]=null)},ref:a}));return op(n.default,{Component:w,route:l})||w}}});function op(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const kE=SE;function CE(t){const e=tE(t.routes,t),n=t.parseQuery||_E,s=t.stringifyQuery||np,r=t.history,i=xi(),o=xi(),a=xi(),l=$w(os);let c=os;Ar&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Sc.bind(null,x=>""+x),h=Sc.bind(null,vE),f=Sc.bind(null,Ua);function g(x,z){let P,G;return Bm(x)?(P=e.getRecordMatcher(x),G=z):G=x,e.addRoute(G,P)}function y(x){const z=e.getRecordMatcher(x);z&&e.removeRoute(z)}function w(){return e.getRoutes().map(x=>x.record)}function _(x){return!!e.getRecordMatcher(x)}function S(x,z){if(z=Ue({},z||l.value),typeof x=="string"){const me=kc(n,x,z.path),p=e.resolve({path:me.path},z),m=r.createHref(me.fullPath);return Ue(me,p,{params:f(p.params),hash:Ua(me.hash),redirectedFrom:void 0,href:m})}let P;if("path"in x)P=Ue({},x,{path:kc(n,x.path,z.path).path});else{const me=Ue({},x.params);for(const p in me)me[p]==null&&delete me[p];P=Ue({},x,{params:h(x.params)}),z.params=h(z.params)}const G=e.resolve(P,z),Fe=x.hash||"";G.params=u(f(G.params));const He=Db(s,Ue({},x,{hash:gE(Fe),path:G.path})),Ie=r.createHref(He);return Ue({fullPath:He,hash:Fe,query:s===np?wE(x.query):x.query||{}},G,{redirectedFrom:void 0,href:Ie})}function L(x){return typeof x=="string"?kc(n,x,l.value.path):Ue({},x)}function q(x,z){if(c!==x)return Gr(8,{from:z,to:x})}function Y(x){return b(x)}function F(x){return Y(Ue(L(x),{replace:!0}))}function J(x){const z=x.matched[x.matched.length-1];if(z&&z.redirect){const{redirect:P}=z;let G=typeof P=="function"?P(x):P;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=L(G):{path:G},G.params={}),Ue({query:x.query,hash:x.hash,params:x.params},G)}}function b(x,z){const P=c=S(x),G=l.value,Fe=x.state,He=x.force,Ie=x.replace===!0,me=J(P);if(me)return b(Ue(L(me),{state:Fe,force:He,replace:Ie}),z||P);const p=P;p.redirectedFrom=z;let m;return!He&&Mb(s,G,P)&&(m=Gr(16,{to:p,from:G}),wr(G,G,!0,!1)),(m?Promise.resolve(m):V(p,G)).catch(v=>$s(v)?v:Te(v,p,G)).then(v=>{if(v){if($s(v,2))return b(Ue(L(v.to),{state:Fe,force:He,replace:Ie}),z||p)}else v=we(p,G,!0,Ie,Fe);return ee(p,G,v),v})}function D(x,z){const P=q(x,z);return P?Promise.reject(P):Promise.resolve()}function V(x,z){let P;const[G,Fe,He]=AE(x,z);P=Cc(G.reverse(),"beforeRouteLeave",x,z);for(const me of G)me.leaveGuards.forEach(p=>{P.push(us(p,x,z))});const Ie=D.bind(null,x,z);return P.push(Ie),xr(P).then(()=>{P=[];for(const me of i.list())P.push(us(me,x,z));return P.push(Ie),xr(P)}).then(()=>{P=Cc(Fe,"beforeRouteUpdate",x,z);for(const me of Fe)me.updateGuards.forEach(p=>{P.push(us(p,x,z))});return P.push(Ie),xr(P)}).then(()=>{P=[];for(const me of x.matched)if(me.beforeEnter&&!z.matched.includes(me))if(Array.isArray(me.beforeEnter))for(const p of me.beforeEnter)P.push(us(p,x,z));else P.push(us(me.beforeEnter,x,z));return P.push(Ie),xr(P)}).then(()=>(x.matched.forEach(me=>me.enterCallbacks={}),P=Cc(He,"beforeRouteEnter",x,z),P.push(Ie),xr(P))).then(()=>{P=[];for(const me of o.list())P.push(us(me,x,z));return P.push(Ie),xr(P)}).catch(me=>$s(me,8)?me:Promise.reject(me))}function ee(x,z,P){for(const G of a.list())G(x,z,P)}function we(x,z,P,G,Fe){const He=q(x,z);if(He)return He;const Ie=z===os,me=Ar?history.state:{};P&&(G||Ie?r.replace(x.fullPath,Ue({scroll:Ie&&me&&me.scroll},Fe)):r.push(x.fullPath,Fe)),l.value=x,wr(x,z,P,Ie),Ze()}let U;function be(){U=r.listen((x,z,P)=>{const G=S(x),Fe=J(G);if(Fe){b(Ue(Fe,{replace:!0}),G).catch(Li);return}c=G;const He=l.value;Ar&&Ub(Qf(He.fullPath,P.delta),Cl()),V(G,He).catch(Ie=>$s(Ie,12)?Ie:$s(Ie,2)?(b(Ie.to,G).then(me=>{$s(me,20)&&!P.delta&&P.type===eo.pop&&r.go(-1,!1)}).catch(Li),Promise.reject()):(P.delta&&r.go(-P.delta,!1),Te(Ie,G,He))).then(Ie=>{Ie=Ie||we(G,He,!1),Ie&&(P.delta?r.go(-P.delta,!1):P.type===eo.pop&&$s(Ie,20)&&r.go(-1,!1)),ee(G,He,Ie)}).catch(Li)})}let se=xi(),_e=xi(),de;function Te(x,z,P){Ze(x);const G=_e.list();return G.length?G.forEach(Fe=>Fe(x,z,P)):console.error(x),Promise.reject(x)}function ge(){return de&&l.value!==os?Promise.resolve():new Promise((x,z)=>{se.add([x,z])})}function Ze(x){de||(de=!0,be(),se.list().forEach(([z,P])=>x?P(x):z()),se.reset())}function wr(x,z,P,G){const{scrollBehavior:Fe}=t;if(!Ar||!Fe)return Promise.resolve();const He=!P&&Vb(Qf(x.fullPath,0))||(G||!P)&&history.state&&history.state.scroll||null;return fr().then(()=>Fe(x,z,He)).then(Ie=>Ie&&$b(Ie)).catch(Ie=>Te(Ie,x,z))}const Rn=x=>r.go(x);let yn;const Jt=new Set;return{currentRoute:l,addRoute:g,removeRoute:y,hasRoute:_,getRoutes:w,resolve:S,options:t,push:Y,replace:F,go:Rn,back:()=>Rn(-1),forward:()=>Rn(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:_e.add,isReady:ge,install(x){const z=this;x.component("RouterLink",xE),x.component("RouterView",kE),x.config.globalProperties.$router=z,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>ce(l)}),Ar&&!yn&&l.value===os&&(yn=!0,Y(r.location).catch(Fe=>{}));const P={};for(const Fe in os)P[Fe]=vt(()=>l.value[Fe]);x.provide(kl,z),x.provide(Sh,li(P)),x.provide(pu,l);const G=x.unmount;Jt.add(x),x.unmount=function(){Jt.delete(x),Jt.size<1&&(c=os,U&&U(),l.value=os,yn=!1,de=!1),G()}}}}function xr(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function AE(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Kr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Kr(c,l))||r.push(l))}return[n,s,r]}function Al(){return hn(kl)}function DE(){return hn(Sh)}const ME=ot({setup(t){const e="default",{currentRoute:n}=Al(),s=vt(()=>`${n.value.meta.layout||e}-layout`);return(r,i)=>{const o=Tm("router-view");return Q(),Kn(O1(ce(s)),null,{default:Lr(()=>[je(o)]),_:1})}}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},RE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Gm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),s.push(n[u],n[h],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Km(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw Error();const f=i<<2|a>>4;if(s.push(f),c!==64){const g=a<<4&240|c>>2;if(s.push(g),h!==64){const y=c<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},OE=function(t){const e=Km(t);return Gm.encodeByteArray(e,!0)},Qm=function(t){return OE(t).replace(/\./g,"")},NE=function(t){try{return Gm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Jm(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LE(){return pt().indexOf("Electron/")>=0}function ey(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FE(){return pt().indexOf("MSAppHost/")>=0}function $E(){return typeof indexedDB=="object"}function UE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VE,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?BE(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new pr(r,a,s)}}function BE(t,e){return t.replace(jE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const jE=/\{\$([^}]+)}/g;function HE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(ap(i)&&ap(o)){if(!Va(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function ap(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function YE(t,e){const n=new WE(t,e);return n.subscribe.bind(n)}class WE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zE(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Ac),r.error===void 0&&(r.error=Ac),r.complete===void 0&&(r.complete=Ac);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ac(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GE(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(t){return t===Bs?void 0:t}function GE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const XE={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},JE=Ne.INFO,ZE={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},ex=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=ZE[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ch{constructor(e){this.name=e,this._logLevel=JE,this._logHandler=ex,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const tx=(t,e)=>e.some(n=>t instanceof n);let lp,cp;function nx(){return lp||(lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sx(){return cp||(cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ty=new WeakMap,yu=new WeakMap,ny=new WeakMap,Dc=new WeakMap,Ah=new WeakMap;function rx(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_s(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ty.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function ix(t){if(yu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});yu.set(t,e)}let vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ny.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ox(t){vu=t(vu)}function ax(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Mc(this),e,...n);return ny.set(s,e.sort?e.sort():[e]),_s(s)}:sx().includes(t)?function(...e){return t.apply(Mc(this),e),_s(ty.get(this))}:function(...e){return _s(t.apply(Mc(this),e))}}function lx(t){return typeof t=="function"?ax(t):(t instanceof IDBTransaction&&ix(t),tx(t,nx())?new Proxy(t,vu):t)}function _s(t){if(t instanceof IDBRequest)return rx(t);if(Dc.has(t))return Dc.get(t);const e=lx(t);return e!==t&&(Dc.set(t,e),Ah.set(e,t)),e}const Mc=t=>Ah.get(t);function cx(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=_s(o);return s&&o.addEventListener("upgradeneeded",l=>{s(_s(o.result),l.oldVersion,l.newVersion,_s(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const ux=["get","getKey","getAll","getAllKeys","count"],hx=["put","add","delete","clear"],Rc=new Map;function up(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rc.get(e))return Rc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=hx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||ux.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Rc.set(e,i),i}ox(t=>({...t,get:(e,n,s)=>up(e,n)||t.get(e,n,s),has:(e,n)=>!!up(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _u="@firebase/app",hp="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Ch("@firebase/app"),px="@firebase/app-compat",gx="@firebase/analytics-compat",mx="@firebase/analytics",yx="@firebase/app-check-compat",vx="@firebase/app-check",_x="@firebase/auth",wx="@firebase/auth-compat",bx="@firebase/database",Ex="@firebase/database-compat",xx="@firebase/functions",Ix="@firebase/functions-compat",Tx="@firebase/installations",Sx="@firebase/installations-compat",kx="@firebase/messaging",Cx="@firebase/messaging-compat",Ax="@firebase/performance",Dx="@firebase/performance-compat",Mx="@firebase/remote-config",Rx="@firebase/remote-config-compat",Ox="@firebase/storage",Nx="@firebase/storage-compat",Px="@firebase/firestore",Lx="@firebase/firestore-compat",Fx="firebase",$x="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",Ux={[_u]:"fire-core",[px]:"fire-core-compat",[mx]:"fire-analytics",[gx]:"fire-analytics-compat",[vx]:"fire-app-check",[yx]:"fire-app-check-compat",[_x]:"fire-auth",[wx]:"fire-auth-compat",[bx]:"fire-rtdb",[Ex]:"fire-rtdb-compat",[xx]:"fire-fn",[Ix]:"fire-fn-compat",[Tx]:"fire-iid",[Sx]:"fire-iid-compat",[kx]:"fire-fcm",[Cx]:"fire-fcm-compat",[Ax]:"fire-perf",[Dx]:"fire-perf-compat",[Mx]:"fire-rc",[Rx]:"fire-rc-compat",[Ox]:"fire-gcs",[Nx]:"fire-gcs-compat",[Px]:"fire-fst",[Lx]:"fire-fst-compat","fire-js":"fire-js",[Fx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Map,wu=new Map;function Vx(t,e){try{t.container.addComponent(e)}catch(n){Dh.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(wu.has(e))return Dh.debug(`There were multiple attempts to register component ${e}.`),!1;wu.set(e,t);for(const n of Ba.values())Vx(n,t);return!0}function Mh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},ir=new wo("app","Firebase",Bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=$x;function Hx(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw ir.create("bad-app-name",{appName:String(s)});const r=Ba.get(s);if(r){if(Va(t,r.options)&&Va(n,r.config))return r;throw ir.create("duplicate-app",{appName:s})}const i=new QE(s);for(const a of wu.values())i.addComponent(a);const o=new jx(t,n,i);return Ba.set(s,o),o}function ry(t=sy){const e=Ba.get(t);if(!e)throw ir.create("no-app",{appName:t});return e}function ws(t,e,n){var s;let r=(s=Ux[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dh.warn(a.join(" "));return}Qr(new rr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="firebase-heartbeat-database",Wx=1,to="firebase-heartbeat-store";let Oc=null;function iy(){return Oc||(Oc=cx(Yx,Wx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}}).catch(t=>{throw ir.create("storage-open",{originalErrorMessage:t.message})})),Oc}async function zx(t){var e;try{return(await iy()).transaction(to).objectStore(to).get(oy(t))}catch(n){throw ir.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function dp(t,e){var n;try{const r=(await iy()).transaction(to,"readwrite");return await r.objectStore(to).put(e,oy(t)),r.done}catch(s){throw ir.create("storage-set",{originalErrorMessage:(n=s)===null||n===void 0?void 0:n.message})}}function oy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=1024,Kx=30*24*60*60*1e3;class Gx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=Kx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fp(),{heartbeatsToSend:n,unsentEntries:s}=Qx(this._heartbeatsCache.heartbeats),r=Qm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function fp(){return new Date().toISOString().substring(0,10)}function Qx(t,e=qx){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),pp(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),pp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Xx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $E()?UE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pp(t){return Qm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){Qr(new rr("platform-logger",e=>new dx(e),"PRIVATE")),Qr(new rr("heartbeat",e=>new Gx(e),"PRIVATE")),ws(_u,hp,t),ws(_u,hp,"esm2017"),ws("fire-js","")}Jx("");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},H,Rh=Rh||{},ae=Zx||self;function ja(){}function bu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eI(t){return Object.prototype.hasOwnProperty.call(t,Nc)&&t[Nc]||(t[Nc]=++tI)}var Nc="closure_uid_"+(1e9*Math.random()>>>0),tI=0;function nI(t,e,n){return t.call.apply(t.bind,arguments)}function sI(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=nI:_t=sI,_t.apply(null,arguments)}function sa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function It(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Ds(){this.s=this.s,this.o=this.o}var rI=0;Ds.prototype.s=!1;Ds.prototype.na=function(){!this.s&&(this.s=!0,this.M(),rI!=0)&&eI(this)};Ds.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ay=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ly=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const s=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<s;i++)i in r&&e.call(n,r[i],i,t)};function iI(t){e:{var e=QI;const n=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in s&&e.call(void 0,s[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function gp(t){return Array.prototype.concat.apply([],arguments)}function Oh(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Ha(t){return/^[\s\xa0]*$/.test(t)}var mp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ot(t,e){return t.indexOf(e)!=-1}function Pc(t,e){return t<e?-1:t>e?1:0}var Nt;e:{var yp=ae.navigator;if(yp){var vp=yp.userAgent;if(vp){Nt=vp;break e}}Nt=""}function Nh(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function cy(t){const e={};for(const n in t)e[n]=t[n];return e}var _p="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uy(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<_p.length;i++)n=_p[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Ph(t){return Ph[" "](t),t}Ph[" "]=ja;function oI(t){var e=cI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var aI=Ot(Nt,"Opera"),Xr=Ot(Nt,"Trident")||Ot(Nt,"MSIE"),hy=Ot(Nt,"Edge"),Eu=hy||Xr,dy=Ot(Nt,"Gecko")&&!(Ot(Nt.toLowerCase(),"webkit")&&!Ot(Nt,"Edge"))&&!(Ot(Nt,"Trident")||Ot(Nt,"MSIE"))&&!Ot(Nt,"Edge"),lI=Ot(Nt.toLowerCase(),"webkit")&&!Ot(Nt,"Edge");function fy(){var t=ae.document;return t?t.documentMode:void 0}var Ya;e:{var Lc="",Fc=function(){var t=Nt;if(dy)return/rv:([^\);]+)(\)|;)/.exec(t);if(hy)return/Edge\/([\d\.]+)/.exec(t);if(Xr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lI)return/WebKit\/(\S+)/.exec(t);if(aI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Fc&&(Lc=Fc?Fc[1]:""),Xr){var $c=fy();if($c!=null&&$c>parseFloat(Lc)){Ya=String($c);break e}}Ya=Lc}var cI={};function uI(){return oI(function(){let t=0;const e=mp(String(Ya)).split("."),n=mp("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=Pc(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||Pc(r[2].length==0,i[2].length==0)||Pc(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var xu;if(ae.document&&Xr){var wp=fy();xu=wp||parseInt(Ya,10)||void 0}else xu=void 0;var hI=xu,dI=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ae.addEventListener("test",ja,e),ae.removeEventListener("test",ja,e)}catch{}return t}();function Ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};function no(t,e){if(Ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dy){e:{try{Ph(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:fI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&no.Z.h.call(this)}}It(no,Ct);var fI={2:"touch",3:"pen",4:"mouse"};no.prototype.h=function(){no.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),pI=0;function gI(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=r,this.key=++pI,this.ca=this.fa=!1}function Dl(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ml(t){this.src=t,this.g={},this.h=0}Ml.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Tu(t,e,s,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new gI(e,this.src,i,!!s,r),e.fa=n,t.push(e)),e};function Iu(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=ay(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Dl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tu(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==s)return r}return-1}var Lh="closure_lm_"+(1e6*Math.random()|0),Uc={};function py(t,e,n,s,r){if(s&&s.once)return my(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)py(t,e[i],n,s,r);return null}return n=Uh(n),t&&t[Io]?t.N(e,n,xo(s)?!!s.capture:!!s,r):gy(t,e,n,!1,s,r)}function gy(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=xo(r)?!!r.capture:!!r,a=$h(t);if(a||(t[Lh]=a=new Ml(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=mI(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)dI||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(vy(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mI(){function t(n){return e.call(t.src,t.listener,n)}var e=yI;return t}function my(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)my(t,e[i],n,s,r);return null}return n=Uh(n),t&&t[Io]?t.O(e,n,xo(s)?!!s.capture:!!s,r):gy(t,e,n,!0,s,r)}function yy(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)yy(t,e[i],n,s,r);else s=xo(s)?!!s.capture:!!s,n=Uh(n),t&&t[Io]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Tu(i,n,s,r),-1<n&&(Dl(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=$h(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tu(e,n,s,r)),(n=-1<t?e[t]:null)&&Fh(n))}function Fh(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Io])Iu(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(vy(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=$h(e))?(Iu(n,t),n.h==0&&(n.src=null,e[Lh]=null)):Dl(t)}}}function vy(t){return t in Uc?Uc[t]:Uc[t]="on"+t}function yI(t,e){if(t.ca)t=!0;else{e=new no(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&Fh(t),t=n.call(s,e)}return t}function $h(t){return t=t[Lh],t instanceof Ml?t:null}var Vc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uh(t){return typeof t=="function"?t:(t[Vc]||(t[Vc]=function(e){return t.handleEvent(e)}),t[Vc])}function gt(){Ds.call(this),this.i=new Ml(this),this.P=this,this.I=null}It(gt,Ds);gt.prototype[Io]=!0;gt.prototype.removeEventListener=function(t,e,n,s){yy(this,t,e,n,s)};function wt(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new Ct(e,t);else if(e instanceof Ct)e.target=e.target||t;else{var r=e;e=new Ct(s,t),uy(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=ra(o,s,!0,e)&&r}if(o=e.g=t,r=ra(o,s,!0,e)&&r,r=ra(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=ra(o,s,!1,e)&&r}gt.prototype.M=function(){if(gt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Dl(n[s]);delete t.g[e],t.h--}}this.I=null};gt.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};gt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ra(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Iu(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Vh=ae.JSON.stringify;function vI(){var t=wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class _I{constructor(){this.h=this.g=null}add(e,n){const s=_y.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var _y=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new wI,t=>t.reset());class wI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bI(t){ae.setTimeout(()=>{throw t},0)}function Bh(t,e){Su||EI(),ku||(Su(),ku=!0),wy.add(t,e)}var Su;function EI(){var t=ae.Promise.resolve(void 0);Su=function(){t.then(xI)}}var ku=!1,wy=new _I;function xI(){for(var t;t=vI();){try{t.h.call(t.g)}catch(n){bI(n)}var e=_y;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ku=!1}function Rl(t,e){gt.call(this),this.h=t||1,this.g=e||ae,this.j=_t(this.kb,this),this.l=Date.now()}It(Rl,gt);H=Rl.prototype;H.da=!1;H.S=null;H.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wt(this,"tick"),this.da&&(jh(this),this.start()))}};H.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jh(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}H.M=function(){Rl.Z.M.call(this),jh(this),delete this.g};function Hh(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function by(t){t.g=Hh(()=>{t.g=null,t.i&&(t.i=!1,by(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class II extends Ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:by(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(t){Ds.call(this),this.h=t,this.g={}}It(so,Ds);var bp=[];function Ey(t,e,n,s){Array.isArray(n)||(n&&(bp[0]=n.toString()),n=bp);for(var r=0;r<n.length;r++){var i=py(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function xy(t){Nh(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fh(e)},t),t.g={}}so.prototype.M=function(){so.Z.M.call(this),xy(this)};so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ol(){this.g=!0}Ol.prototype.Aa=function(){this.g=!1};function TI(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function SI(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Mr(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CI(t,n)+(s?" "+s:"")})}function kI(t,e){t.info(function(){return"TIMEOUT: "+e})}Ol.prototype.info=function(){};function CI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Vh(n)}catch{return e}}var gr={},Ep=null;function Nl(){return Ep=Ep||new gt}gr.Ma="serverreachability";function Iy(t){Ct.call(this,gr.Ma,t)}It(Iy,Ct);function ro(t){const e=Nl();wt(e,new Iy(e))}gr.STAT_EVENT="statevent";function Ty(t,e){Ct.call(this,gr.STAT_EVENT,t),this.stat=e}It(Ty,Ct);function Pt(t){const e=Nl();wt(e,new Ty(e,t))}gr.Na="timingevent";function Sy(t,e){Ct.call(this,gr.Na,t),this.size=e}It(Sy,Ct);function To(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}var Pl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ky={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yh(){}Yh.prototype.h=null;function xp(t){return t.h||(t.h=t.i())}function Cy(){}var So={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wh(){Ct.call(this,"d")}It(Wh,Ct);function zh(){Ct.call(this,"c")}It(zh,Ct);var Cu;function Ll(){}It(Ll,Yh);Ll.prototype.g=function(){return new XMLHttpRequest};Ll.prototype.i=function(){return{}};Cu=new Ll;function ko(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new so(this),this.P=AI,t=Eu?125:void 0,this.W=new Rl(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ay}function Ay(){this.i=null,this.g="",this.h=!1}var AI=45e3,Au={},Wa={};H=ko.prototype;H.setTimeout=function(t){this.P=t};function Du(t,e,n){t.K=1,t.v=$l(Qn(e)),t.s=n,t.U=!0,Dy(t,null)}function Dy(t,e){t.F=Date.now(),Co(t),t.A=Qn(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Fy(n.h,"t",s),t.C=0,n=t.l.H,t.h=new Ay,t.g=s0(t.l,n?e:null,!t.s),0<t.O&&(t.L=new II(_t(t.Ia,t,t.g),t.O)),Ey(t.V,t.g,"readystatechange",t.gb),e=t.H?cy(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ro(),TI(t.j,t.u,t.A,t.m,t.X,t.s)}H.gb=function(t){t=t.target;const e=this.L;e&&$n(t)==3?e.l():this.Ia(t)};H.Ia=function(t){try{if(t==this.g)e:{const u=$n(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||Eu||this.g&&(this.h.h||this.g.ga()||kp(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?ro(3):ro(2)),Fl(this);var n=this.g.ba();this.N=n;t:if(My(this)){var s=kp(this.g);t="";var r=s.length,i=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qs(this),$i(this);var o="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,SI(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ha(a)){var c=a;break t}}c=null}if(n=c)Mr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mu(this,n);else{this.i=!1,this.o=3,Pt(12),qs(this),$i(this);break e}}this.U?(Ry(this,u,o),Eu&&this.i&&u==3&&(Ey(this.V,this.W,"tick",this.fb),this.W.start())):(Mr(this.j,this.m,o,null),Mu(this,o)),u==4&&qs(this),this.i&&!this.I&&(u==4?Zy(this.l,this):(this.i=!1,Co(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Pt(12)):(this.o=0,Pt(13)),qs(this),$i(this)}}}catch{}finally{}};function My(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Ry(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=DI(t,n),r==Wa){e==4&&(t.o=4,Pt(14),s=!1),Mr(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Au){t.o=4,Pt(15),Mr(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Mr(t.j,t.m,r,null),Mu(t,r);My(t)&&r!=Wa&&r!=Au&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),td(e),e.L=!0,Pt(11))):(Mr(t.j,t.m,n,"[Invalid Chunked Response]"),qs(t),$i(t))}H.fb=function(){if(this.g){var t=$n(this.g),e=this.g.ga();this.C<e.length&&(Fl(this),Ry(this,t,e),this.i&&t!=4&&Co(this))}};function DI(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Wa:(n=Number(e.substring(n,s)),isNaN(n)?Au:(s+=1,s+n>e.length?Wa:(e=e.substr(s,n),t.C=s+n,e)))}H.cancel=function(){this.I=!0,qs(this)};function Co(t){t.Y=Date.now()+t.P,Oy(t,t.P)}function Oy(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=To(_t(t.eb,t),e)}function Fl(t){t.B&&(ae.clearTimeout(t.B),t.B=null)}H.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(kI(this.j,this.A),this.K!=2&&(ro(),Pt(17)),qs(this),this.o=2,$i(this)):Oy(this,this.Y-t)};function $i(t){t.l.G==0||t.I||Zy(t.l,t)}function qs(t){Fl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,jh(t.W),xy(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Mu(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ru(n.i,t))){if(n.I=t.N,!t.J&&Ru(n.i,t)&&n.G==3){try{var s=n.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ga(n),Bl(n);else break e;ed(n),Pt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=To(_t(n.ab,n),6e3));if(1>=Vy(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ks(n,11)}else if((t.J||n.g==t)&&Ga(n),!Ha(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=s.i;!i.g&&(Ot(y,"spdy")||Ot(y,"quic")||Ot(y,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Gh(i,i.h),i.h=null))}if(s.D){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(s.sa=w,Je(s.F,s.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=t;if(s.oa=n0(s,s.H?s.la:null,s.W),o.J){By(s.i,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(Fl(a),Co(a)),s.g=o}else Xy(s);0<n.l.length&&jl(n)}else c[0]!="stop"&&c[0]!="close"||Ks(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ks(n,7):Zh(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}ro(4)}catch{}}function MI(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(bu(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function qh(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bu(t)||typeof t=="string")ly(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(bu(t)||typeof t=="string"){n=[];for(var s=t.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,t)n[s++]=r;s=MI(t),r=s.length;for(var i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}}function ui(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof ui)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}H=ui.prototype;H.R=function(){Kh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};H.T=function(){return Kh(this),this.g.concat()};function Kh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];or(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)s=t.g[e],or(r,s)||(t.g[n++]=s,r[s]=1),e++;t.g.length=n}}H.get=function(t,e){return or(this.h,t)?this.h[t]:e};H.set=function(t,e){or(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};H.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);t.call(e,i,r,this)}};function or(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Ny=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function RI(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ar(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ar){this.g=e!==void 0?e:t.g,za(this,t.j),this.s=t.s,qa(this,t.i),Ka(this,t.m),this.l=t.l,e=t.h;var n=new io;n.i=e.i,e.g&&(n.g=new ui(e.g),n.h=e.h),Ip(this,n),this.o=t.o}else t&&(n=String(t).match(Ny))?(this.g=!!e,za(this,n[1]||"",!0),this.s=Ui(n[2]||""),qa(this,n[3]||"",!0),Ka(this,n[4]),this.l=Ui(n[5]||"",!0),Ip(this,n[6]||"",!0),this.o=Ui(n[7]||"")):(this.g=!!e,this.h=new io(null,this.g))}ar.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ai(e,Tp,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ai(e,Tp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Ai(n,n.charAt(0)=="/"?FI:LI,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ai(n,UI)),t.join("")};function Qn(t){return new ar(t)}function za(t,e,n){t.j=n?Ui(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function qa(t,e,n){t.i=n?Ui(e,!0):e}function Ka(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ip(t,e,n){e instanceof io?(t.h=e,VI(t.h,t.g)):(n||(e=Ai(e,$I)),t.h=new io(e,t.g))}function Je(t,e,n){t.h.set(e,n)}function $l(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function OI(t){return t instanceof ar?Qn(t):new ar(t,void 0)}function NI(t,e,n,s){var r=new ar(null,void 0);return t&&za(r,t),e&&qa(r,e),n&&Ka(r,n),s&&(r.l=s),r}function Ui(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ai(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PI(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Tp=/[#\/\?@]/g,LI=/[#\?:]/g,FI=/[#\?]/g,$I=/[#\?@]/g,UI=/#/g;function io(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ms(t){t.g||(t.g=new ui,t.h=0,t.i&&RI(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=io.prototype;H.add=function(t,e){Ms(this),this.i=null,t=hi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Py(t,e){Ms(t),e=hi(t,e),or(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,or(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Kh(t)))}function Ly(t,e){return Ms(t),e=hi(t,e),or(t.g.h,e)}H.forEach=function(t,e){Ms(this),this.g.forEach(function(n,s){ly(n,function(r){t.call(e,r,s,this)},this)},this)};H.T=function(){Ms(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var r=t[s],i=0;i<r.length;i++)n.push(e[s]);return n};H.R=function(t){Ms(this);var e=[];if(typeof t=="string")Ly(this,t)&&(e=gp(e,this.g.get(hi(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=gp(e,t[n])}return e};H.set=function(t,e){return Ms(this),this.i=null,t=hi(this,t),Ly(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Fy(t,e,n){Py(t,e),0<n.length&&(t.i=null,t.g.set(hi(t,e),Oh(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),t.push(o)}}return this.i=t.join("&")};function hi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VI(t,e){e&&!t.j&&(Ms(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(Py(this,s),Fy(this,r,n))},t)),t.j=e}var BI=class{constructor(t,e){this.h=t,this.g=e}};function $y(t){this.l=t||jI,ae.PerformanceNavigationTiming?(t=ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ae.g&&ae.g.Ea&&ae.g.Ea()&&ae.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jI=10;function Uy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Vy(t){return t.h?1:t.g?t.g.size:0}function Ru(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gh(t,e){t.g?t.g.add(e):t.h=e}function By(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$y.prototype.cancel=function(){if(this.i=jy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Oh(t.i)}function Qh(){}Qh.prototype.stringify=function(t){return ae.JSON.stringify(t,void 0)};Qh.prototype.parse=function(t){return ae.JSON.parse(t,void 0)};function HI(){this.g=new Qh}function YI(t,e,n){const s=n||"";try{qh(t,function(r,i){let o=r;xo(r)&&(o=Vh(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function WI(t,e){const n=new Ol;if(ae.Image){const s=new Image;s.onload=sa(ia,n,s,"TestLoadImage: loaded",!0,e),s.onerror=sa(ia,n,s,"TestLoadImage: error",!1,e),s.onabort=sa(ia,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=sa(ia,n,s,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function ia(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Ao(t){this.l=t.$b||null,this.j=t.ib||!1}It(Ao,Yh);Ao.prototype.g=function(){return new Ul(this.l,this.j)};Ao.prototype.i=function(t){return function(){return t}}({});function Ul(t,e){gt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Xh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It(Ul,gt);var Xh=0;H=Ul.prototype;H.open=function(t,e){if(this.readyState!=Xh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,oo(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ae).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=Xh};H.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,oo(this)),this.g&&(this.readyState=3,oo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hy(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Hy(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}H.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Do(this):oo(this),this.readyState==3&&Hy(this)}};H.Ua=function(t){this.g&&(this.response=this.responseText=t,Do(this))};H.Ta=function(t){this.g&&(this.response=t,Do(this))};H.ha=function(){this.g&&Do(this)};function Do(t){t.readyState=4,t.l=null,t.j=null,t.A=null,oo(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function oo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zI=ae.JSON.parse;function it(t){gt.call(this),this.headers=new ui,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yy,this.K=this.L=!1}It(it,gt);var Yy="",qI=/^https?$/i,KI=["POST","PUT"];H=it.prototype;H.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cu.g(),this.C=this.u?xp(this.u):xp(Cu),this.g.onreadystatechange=_t(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Sp(this,i);return}t=n||"";const r=new ui(this.headers);s&&qh(s,function(i,o){r.set(o,i)}),s=iI(r.T()),n=ae.FormData&&t instanceof ae.FormData,!(0<=ay(KI,e))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qy(this),0<this.B&&((this.K=GI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.pa,this)):this.A=Hh(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Sp(this,i)}};function GI(t){return Xr&&uI()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function QI(t){return t.toLowerCase()=="content-type"}H.pa=function(){typeof Rh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wt(this,"timeout"),this.abort(8))};function Sp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Wy(t),Vl(t)}function Wy(t){t.D||(t.D=!0,wt(t,"complete"),wt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wt(this,"complete"),wt(this,"abort"),Vl(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vl(this,!0)),it.Z.M.call(this)};H.Fa=function(){this.s||(this.F||this.v||this.l?zy(this):this.cb())};H.cb=function(){zy(this)};function zy(t){if(t.h&&typeof Rh<"u"&&(!t.C[1]||$n(t)!=4||t.ba()!=2)){if(t.v&&$n(t)==4)Hh(t.Fa,0,t);else if(wt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(Ny)[1]||null;if(!r&&ae.self&&ae.self.location){var i=ae.self.location.protocol;r=i.substr(0,i.length-1)}s=!qI.test(r?r.toLowerCase():"")}n=s}if(n)wt(t,"complete"),wt(t,"success");else{t.m=6;try{var o=2<$n(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",Wy(t)}}finally{Vl(t)}}}}function Vl(t,e){if(t.g){qy(t);const n=t.g,s=t.C[0]?ja:null;t.g=null,t.C=null,e||wt(t,"ready");try{n.onreadystatechange=s}catch{}}}function qy(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}function $n(t){return t.g?t.g.readyState:0}H.ba=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};H.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zI(e)}};function kp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Yy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}H.Da=function(){return this.m};H.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function XI(t){let e="";return Nh(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Jh(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=XI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Je(t,e,n))}function Ii(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ky(t){this.za=0,this.l=[],this.h=new Ol,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ii("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ii("baseRetryDelayMs",5e3,t),this.$a=Ii("retryDelaySeedMs",1e4,t),this.Ya=Ii("forwardChannelMaxRetries",2,t),this.ra=Ii("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new $y(t&&t.concurrentRequestLimit),this.Ca=new HI,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}H=Ky.prototype;H.ma=8;H.G=1;function Zh(t){if(Gy(t),t.G==3){var e=t.V++,n=Qn(t.F);Je(n,"SID",t.J),Je(n,"RID",e),Je(n,"TYPE","terminate"),Mo(t,n),e=new ko(t,t.h,e,void 0),e.K=2,e.v=$l(Qn(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon&&(n=ae.navigator.sendBeacon(e.v.toString(),"")),!n&&ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=s0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Co(e)}t0(t)}H.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Bl(t){t.g&&(td(t),t.g.cancel(),t.g=null)}function Gy(t){Bl(t),t.u&&(ae.clearTimeout(t.u),t.u=null),Ga(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ae.clearTimeout(t.m),t.m=null)}function Bc(t,e){t.l.push(new BI(t.Za++,e)),t.G==3&&jl(t)}function jl(t){Uy(t.i)||t.m||(t.m=!0,Bh(t.Ha,t),t.C=0)}function JI(t,e){return Vy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=To(_t(t.Ha,t,e),e0(t,t.C)),t.C++,!0)}H.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new ko(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=cy(i),uy(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Qy(this,r,e),n=Qn(this.F),Je(n,"RID",t),Je(n,"CVER",22),this.D&&Je(n,"X-HTTP-Session-Id",this.D),Mo(this,n),this.o&&i&&Jh(n,this.o,i),Gh(this.i,r),this.Ra&&Je(n,"TYPE","init"),this.ja?(Je(n,"$req",e),Je(n,"SID","null"),r.$=!0,Du(r,n,null)):Du(r,n,e),this.G=2}}else this.G==3&&(t?Cp(this,t):this.l.length==0||Uy(this.i)||Cp(this))};function Cp(t,e){var n;e?n=e.m:n=t.V++;const s=Qn(t.F);Je(s,"SID",t.J),Je(s,"RID",n),Je(s,"AID",t.U),Mo(t,s),t.o&&t.s&&Jh(s,t.o,t.s),n=new ko(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Qy(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gh(t.i,n),Du(n,s,e)}function Mo(t,e){t.j&&qh({},function(n,s){Je(e,s,n)})}function Qy(t,e,n){n=Math.min(t.l.length,n);var s=t.j?_t(t.j.Oa,t.j,t):null;e:{var r=t.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{YI(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,s}function Xy(t){t.g||t.u||(t.Y=1,Bh(t.Ga,t),t.A=0)}function ed(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=To(_t(t.Ga,t),e0(t,t.A)),t.A++,!0)}H.Ga=function(){if(this.u=null,Jy(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=To(_t(this.bb,this),t)}};H.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pt(10),Bl(this),Jy(this))};function td(t){t.B!=null&&(ae.clearTimeout(t.B),t.B=null)}function Jy(t){t.g=new ko(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Qn(t.oa);Je(e,"RID","rpc"),Je(e,"SID",t.J),Je(e,"CI",t.N?"0":"1"),Je(e,"AID",t.U),Mo(t,e),Je(e,"TYPE","xmlhttp"),t.o&&t.s&&Jh(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=$l(Qn(e)),n.s=null,n.U=!0,Dy(n,t)}H.ab=function(){this.v!=null&&(this.v=null,Bl(this),ed(this),Pt(19))};function Ga(t){t.v!=null&&(ae.clearTimeout(t.v),t.v=null)}function Zy(t,e){var n=null;if(t.g==e){Ga(t),td(t),t.g=null;var s=2}else if(Ru(t.i,e))n=e.D,By(t.i,e),s=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=Nl(),wt(s,new Sy(s,n)),jl(t)}else Xy(t);else if(r=e.o,r==3||r==0&&0<t.I||!(s==1&&JI(t,e)||s==2&&ed(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Ks(t,5);break;case 4:Ks(t,10);break;case 3:Ks(t,6);break;default:Ks(t,2)}}}function e0(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ks(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var s=_t(t.jb,t);n||(n=new ar("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||za(n,"https"),$l(n)),WI(n.toString(),s)}else Pt(2);t.G=0,t.j&&t.j.va(e),t0(t),Gy(t)}H.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pt(2)):(this.h.info("Failed to ping google.com"),Pt(1))};function t0(t){t.G=0,t.I=-1,t.j&&((jy(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Oh(t.l),t.l.length=0),t.j.ua())}function n0(t,e,n){let s=OI(n);if(s.i!="")e&&qa(s,e+"."+s.i),Ka(s,s.m);else{const r=ae.location;s=NI(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Nh(t.aa,function(r,i){Je(s,i,r)}),e=t.D,n=t.sa,e&&n&&Je(s,e,n),Je(s,"VER",t.ma),Mo(t,s),s}function s0(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new it(new Ao({ib:!0})):new it(t.qa),e.L=t.H,e}function r0(){}H=r0.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Oa=function(){};function Qa(){if(Xr&&!(10<=Number(hI)))throw Error("Environmental error: no available transport.")}Qa.prototype.g=function(t,e){return new Qt(t,e)};function Qt(t,e){gt.call(this),this.g=new Ky(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ha(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ha(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new di(this)}It(Qt,gt);Qt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bh(_t(t.hb,t,e))),Pt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=n0(t,null,t.W),jl(t)};Qt.prototype.close=function(){Zh(this.g)};Qt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Bc(this.g,e)}else this.v?(e={},e.__data__=Vh(t),Bc(this.g,e)):Bc(this.g,t)};Qt.prototype.M=function(){this.g.j=null,delete this.j,Zh(this.g),delete this.g,Qt.Z.M.call(this)};function i0(t){Wh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}It(i0,Wh);function o0(){zh.call(this),this.status=1}It(o0,zh);function di(t){this.g=t}It(di,r0);di.prototype.xa=function(){wt(this.g,"a")};di.prototype.wa=function(t){wt(this.g,new i0(t))};di.prototype.va=function(t){wt(this.g,new o0)};di.prototype.ua=function(){wt(this.g,"b")};Qa.prototype.createWebChannel=Qa.prototype.g;Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;Pl.NO_ERROR=0;Pl.TIMEOUT=8;Pl.HTTP_ERROR=6;ky.COMPLETE="complete";Cy.EventType=So;So.OPEN="a";So.CLOSE="b";So.ERROR="c";So.MESSAGE="d";gt.prototype.listen=gt.prototype.N;it.prototype.listenOnce=it.prototype.O;it.prototype.getLastError=it.prototype.La;it.prototype.getLastErrorCode=it.prototype.Da;it.prototype.getStatus=it.prototype.ba;it.prototype.getResponseJson=it.prototype.Qa;it.prototype.getResponseText=it.prototype.ga;it.prototype.send=it.prototype.ea;var ZI=function(){return new Qa},eT=function(){return Nl()},jc=Pl,tT=ky,nT=gr,Ap={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sT=Ao,oa=Cy,rT=it;const Dp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Ch("@firebase/firestore");function Mp(){return lr.logLevel}function K(t,...e){if(lr.logLevel<=Ne.DEBUG){const n=e.map(nd);lr.debug(`Firestore (${fi}): ${t}`,...n)}}function Ts(t,...e){if(lr.logLevel<=Ne.ERROR){const n=e.map(nd);lr.error(`Firestore (${fi}): ${t}`,...n)}}function Rp(t,...e){if(lr.logLevel<=Ne.WARN){const n=e.map(nd);lr.warn(`Firestore (${fi}): ${t}`,...n)}}function nd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function Ye(t,e){t||he()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class aT{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new iT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Bt(e)}}class lT{constructor(e,n,s){this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class cT{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new lT(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const s=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.p=n.token,new uT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=dT(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function Pe(t,e){return t<e?-1:t>e?1:0}function Jr(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new lt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new lt(0,0))}static max(){return new Ee(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,s){n===void 0?n=0:n>e.length&&he(),s===void 0?s=e.length-n:s>e.length-n&&he(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ao.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ao?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends ao{construct(e,n,s){return new qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new j(E.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const fT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends ao{construct(e,n,s){return new St(e,n,s)}static isValidIdentifier(e){return fT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new j(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new j(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new j(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(qe.fromString(e))}static fromName(e){return new Z(qe.fromString(e).popFirst(5))}static empty(){return new Z(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new qe(e.slice()))}}function pT(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ee.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new Ss(r,Z.empty(),e)}function gT(t){return new Ss(t.readTime,t.key,-1)}class Ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(Ee.min(),Z.empty(),-1)}static max(){return new Ss(Ee.max(),Z.empty(),-1)}}function mT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==yT)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,s)=>{n(e)})}static reject(e){return new C((n,s)=>{s(e)})}static waitFor(e){return new C((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=C.resolve(!1);for(const s of e)n=n.next(r=>r?C.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new C((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new C((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Oo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.it(s),this.rt=s=>n.writeSequenceNumber(s))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sd.ot=-1;class ht{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aa(this.root,e,this.comparator,!0)}}class aa{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:mt.RED,this.left=r!=null?r:mt.EMPTY,this.right=i!=null?i:mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new mt(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return mt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,n,s,r){return this}insert(t,e,n){return new mt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Np(this.data.getIterator())}getIteratorFrom(e){return new Np(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class Np{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new nn([])}unionWith(e){let n=new ct(St.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=_T.exec(t);if(Ye(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function u0(t){const e=t.mapValue.fields.__previous_value__;return c0(e)?u0(e):e}function lo(t){const e=ks(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s,r,i,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ei{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ei("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ei&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return t==null}function Xa(t){return t===0&&1/t==-1/0}function bT(t){return typeof t=="number"&&Number.isInteger(t)&&!Xa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c0(t)?4:ET(t)?9007199254740991:10:he()}function kn(t,e){if(t===e)return!0;const n=cr(t);if(n!==cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lo(t).isEqual(lo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=ks(s.timestampValue),o=ks(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Zr(s.bytesValue).isEqual(Zr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return rt(s.geoPointValue.latitude)===rt(r.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return rt(s.integerValue)===rt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=rt(s.doubleValue),o=rt(r.doubleValue);return i===o?Xa(i)===Xa(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Jr(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Op(i)!==Op(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!kn(i[a],o[a])))return!1;return!0}(t,e);default:return he()}}function co(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function ti(t,e){if(t===e)return 0;const n=cr(t),s=cr(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=rt(r.integerValue||r.doubleValue),a=rt(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Pp(t.timestampValue,e.timestampValue);case 4:return Pp(lo(t),lo(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Zr(r),a=Zr(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Pe(o[l],a[l]);if(c!==0)return c}return Pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=Pe(rt(r.latitude),rt(i.latitude));return o!==0?o:Pe(rt(r.longitude),rt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ti(o[l],a[l]);if(c)return c}return Pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===la.mapValue&&i===la.mapValue)return 0;if(r===la.mapValue)return 1;if(i===la.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=Pe(a[u],c[u]);if(h!==0)return h;const f=ti(o[a[u]],l[c[u]]);if(f!==0)return f}return Pe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function Pp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=ks(t),s=ks(e),r=Pe(n.seconds,s.seconds);return r!==0?r:Pe(n.nanos,s.nanos)}function Fr(t){return Ou(t)}function Ou(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=ks(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Ou(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ou(s.fields[a])}`;return i+"}"}(t.mapValue):he();var e,n}function Lp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nu(t){return!!t&&"integerValue"in t}function rd(t){return!!t&&"arrayValue"in t}function Fp(t){return!!t&&"nullValue"in t}function $p(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ya(t){return!!t&&"mapValue"in t}function Vi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Vi(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ET(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ya(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vi(n)}setAll(e){let n=St.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Vi(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());ya(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ya(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){mr(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new jt(Vi(this.value))}}function h0(t){const e=[];return mr(t.fields,(n,s)=>{const r=new St([n]);if(ya(s)){const i=h0(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,s,r,i,o){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new yt(e,0,Ee.min(),Ee.min(),jt.empty(),0)}static newFoundDocument(e,n,s){return new yt(e,1,n,Ee.min(),s,0)}static newNoDocument(e,n){return new yt(e,2,n,Ee.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,Ee.min(),jt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null}}function Up(t,e=null,n=[],s=[],r=null,i=null,o=null){return new xT(t,e,n,s,r,i,o)}function id(t){const e=fe(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>{return(r=s).field.canonicalString()+r.op.toString()+Fr(r.value);var r}).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Hl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fr(s)).join(",")),e.ut=n}return e.ut}function IT(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${Fr(s.value)}`;var s}).join(", ")}]`),Hl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Fr(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Fr(n)).join(",")),`Target(${e})`}function od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!RT(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],s=e.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!kn(n.value,s.value))return!1;var n,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bp(t.startAt,e.startAt)&&Bp(t.endAt,e.endAt)}function Pu(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Lt extends class{}{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,s):new TT(e,n,s):n==="array-contains"?new CT(e,s):n==="in"?new AT(e,s):n==="not-in"?new DT(e,s):n==="array-contains-any"?new MT(e,s):new Lt(e,n,s)}static ct(e,n,s){return n==="in"?new ST(e,s):new kT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(ti(n,this.value)):n!==null&&cr(this.value)===cr(n)&&this.at(ti(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class TT extends Lt{constructor(e,n,s){super(e,n,s),this.key=Z.fromName(s.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.at(n)}}class ST extends Lt{constructor(e,n){super(e,"in",n),this.keys=d0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kT extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=d0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function d0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Z.fromName(s.referenceValue))}class CT extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rd(n)&&co(n.arrayValue,this.value)}}class AT extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&co(this.value.arrayValue,n)}}class DT extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!co(this.value.arrayValue,n)}}class MT extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>co(this.value.arrayValue,s))}}class Ja{constructor(e,n){this.position=e,this.inclusive=n}}class Bi{constructor(e,n="asc"){this.field=e,this.dir=n}}function RT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Vp(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Z.comparator(Z.fromName(o.referenceValue),n.key):s=ti(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}}function OT(t,e,n,s,r,i,o,a){return new No(t,e,n,s,r,i,o,a)}function ad(t){return new No(t)}function NT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function p0(t){for(const e of t.filters)if(e.ht())return e.field;return null}function g0(t){return t.collectionGroup!==null}function uo(t){const e=fe(t);if(e.lt===null){e.lt=[];const n=p0(e),s=f0(e);if(n!==null&&s===null)n.isKeyField()||e.lt.push(new Bi(n)),e.lt.push(new Bi(St.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.lt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Bi(St.keyField(),i))}}}return e.lt}function ur(t){const e=fe(t);if(!e.ft)if(e.limitType==="F")e.ft=Up(e.path,e.collectionGroup,uo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of uo(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Bi(i.field,o))}const s=e.endAt?new Ja(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ja(e.startAt.position,e.startAt.inclusive):null;e.ft=Up(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.ft}function m0(t,e,n){return new No(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yl(t,e){return od(ur(t),ur(e))&&t.limitType===e.limitType}function y0(t){return`${id(ur(t))}|lt:${t.limitType}`}function Lu(t){return`Query(target=${IT(ur(t))}; limitType=${t.limitType})`}function ld(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Vp(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,uo(n),s)||n.endAt&&!function(r,i,o){const a=Vp(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,uo(n),s))}(t,e)}function PT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v0(t){return(e,n)=>{let s=!1;for(const r of uo(t)){const i=LT(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function LT(t,e,n){const s=t.field.isKeyField()?Z.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?ti(a,l):he()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xa(e)?"-0":e}}function w0(t){return{integerValue:""+t}}function FT(t,e){return bT(e)?w0(e):_0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this._=void 0}}function $T(t,e,n){return t instanceof Za?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof ho?E0(t,e):t instanceof fo?x0(t,e):function(s,r){const i=b0(s,r),o=jp(i)+jp(s._t);return Nu(i)&&Nu(s._t)?w0(o):_0(s.wt,o)}(t,e)}function UT(t,e,n){return t instanceof ho?E0(t,e):t instanceof fo?x0(t,e):n}function b0(t,e){return t instanceof el?Nu(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Za extends Wl{}class ho extends Wl{constructor(e){super(),this.elements=e}}function E0(t,e){const n=I0(e);for(const s of t.elements)n.some(r=>kn(r,s))||n.push(s);return{arrayValue:{values:n}}}class fo extends Wl{constructor(e){super(),this.elements=e}}function x0(t,e){let n=I0(e);for(const s of t.elements)n=n.filter(r=>!kn(r,s));return{arrayValue:{values:n}}}class el extends Wl{constructor(e,n){super(),this.wt=e,this._t=n}}function jp(t){return rt(t.integerValue||t.doubleValue)}function I0(t){return rd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VT(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof ho&&s instanceof ho||n instanceof fo&&s instanceof fo?Jr(n.elements,s.elements,kn):n instanceof el&&s instanceof el?kn(n._t,s._t):n instanceof Za&&s instanceof Za}(t.transform,e.transform)}class BT{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function va(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zl{}function T0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ql(t.key,Ft.none()):new Po(t.key,t.data,Ft.none());{const n=t.data,s=jt.empty();let r=new ct(St.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Rs(t.key,s,new nn(r.toArray()),Ft.none())}}function jT(t,e,n){t instanceof Po?function(s,r,i){const o=s.value.clone(),a=Yp(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(s,r,i){if(!va(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Yp(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(S0(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function ji(t,e,n,s){return t instanceof Po?function(r,i,o,a){if(!va(r.precondition,i))return o;const l=r.value.clone(),c=Wp(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof Rs?function(r,i,o,a){if(!va(r.precondition,i))return o;const l=Wp(r.fieldTransforms,a,i),c=i.data;return c.setAll(S0(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return va(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function HT(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=b0(s.transform,r||null);i!=null&&(n===null&&(n=jt.empty()),n.set(s.field,i))}return n||null}function Hp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Jr(n,s,(r,i)=>VT(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Po extends zl{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rs extends zl{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function S0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Yp(t,e,n){const s=new Map;Ye(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,UT(o,a,n[r]))}return s}function Wp(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,$T(i,o,e))}return s}class ql extends zl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YT extends zl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,ke;function zT(t){switch(t){default:return he();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function k0(t){if(t===void 0)return Ts("GRPC error has no .code"),E.UNKNOWN;switch(t){case st.OK:return E.OK;case st.CANCELLED:return E.CANCELLED;case st.UNKNOWN:return E.UNKNOWN;case st.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case st.INTERNAL:return E.INTERNAL;case st.UNAVAILABLE:return E.UNAVAILABLE;case st.UNAUTHENTICATED:return E.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case st.NOT_FOUND:return E.NOT_FOUND;case st.ALREADY_EXISTS:return E.ALREADY_EXISTS;case st.PERMISSION_DENIED:return E.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case st.ABORTED:return E.ABORTED;case st.OUT_OF_RANGE:return E.OUT_OF_RANGE;case st.UNIMPLEMENTED:return E.UNIMPLEMENTED;case st.DATA_LOSS:return E.DATA_LOSS;default:return he()}}(ke=st||(st={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return l0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new ht(Z.comparator);function Xn(){return qT}const C0=new ht(Z.comparator);function Di(...t){let e=C0;for(const n of t)e=e.insert(n.key,n);return e}function A0(t){let e=C0;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return Hi()}function D0(){return Hi()}function Hi(){return new pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const KT=new ht(Z.comparator),GT=new ct(Z.comparator);function Se(...t){let e=GT;for(const n of t)e=e.add(n);return e}const QT=new ct(Pe);function M0(){return QT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const s=new Map;return s.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,n)),new Kl(Ee.min(),s,M0(),Xn(),Se())}}class Lo{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Lo(xt.EMPTY_BYTE_STRING,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,s,r){this.gt=e,this.removedTargetIds=n,this.key=s,this.yt=r}}class R0{constructor(e,n){this.targetId=e,this.It=n}}class O0{constructor(e,n,s=xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class zp{constructor(){this.Tt=0,this.Et=Kp(),this.At=xt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Se(),n=Se(),s=Se();return this.Et.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:he()}}),new Lo(this.At,this.Rt,e,n,s)}Dt(){this.bt=!1,this.Et=Kp()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class XT{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Xn(),this.Bt=qp(),this.Lt=new ct(Pe)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const s=this.Qt(n);switch(e.state){case 0:this.jt(n)&&s.Vt(e.resumeToken);break;case 1:s.kt(),s.Pt||s.Dt(),s.Vt(e.resumeToken);break;case 2:s.kt(),s.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(s.Ot(),s.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),s.Vt(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((s,r)=>{this.jt(r)&&n(r)})}zt(e){const n=e.targetId,s=e.It.count,r=this.Ht(n);if(r){const i=r.target;if(Pu(i))if(s===0){const o=new Z(i.path);this.Kt(n,o,yt.newNoDocument(o,Ee.min()))}else Ye(s===1);else this.Jt(n)!==s&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((i,o)=>{const a=this.Ht(o);if(a){if(i.current&&Pu(a.target)){const l=new Z(a.target.path);this.$t.get(l)!==null||this.Xt(o,l)||this.Kt(o,l,yt.newNoDocument(l,e))}i.vt&&(n.set(o,i.St()),i.Dt())}});let s=Se();this.Bt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ht(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.$t.forEach((i,o)=>o.setReadTime(e));const r=new Kl(e,n,this.Lt,this.$t,s);return this.$t=Xn(),this.Bt=qp(),this.Lt=new ct(Pe),r}qt(e,n){if(!this.jt(e))return;const s=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,s),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,s){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,n)?r.Ct(n,1):r.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),s&&(this.$t=this.$t.insert(n,s))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new zp,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new ct(Pe),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new zp),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function qp(){return new ht(Z.comparator)}function Kp(){return new ht(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ZT=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class eS{constructor(e,n){this.databaseId=e,this.dt=n}}function tl(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(t,e){return t.dt?e.toBase64():e.toUint8Array()}function tS(t,e){return tl(t,e.toTimestamp())}function Wn(t){return Ye(!!t),Ee.fromTimestamp(function(e){const n=ks(e);return new lt(n.seconds,n.nanos)}(t))}function cd(t,e){return function(n){return new qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function P0(t){const e=qe.fromString(t);return Ye($0(e)),e}function Fu(t,e){return cd(t.databaseId,e.path)}function Hc(t,e){const n=P0(e);if(n.get(1)!==t.databaseId.projectId)throw new j(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(L0(n))}function $u(t,e){return cd(t.databaseId,e)}function nS(t){const e=P0(t);return e.length===4?qe.emptyPath():L0(e)}function Uu(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L0(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gp(t,e,n){return{name:Fu(t,e),fields:n.value.mapValue.fields}}function sS(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.dt?(Ye(c===void 0||typeof c=="string"),xt.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Uint8Array),xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?E.UNKNOWN:k0(l.code);return new j(c,l.message||"")}(o);n=new O0(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Hc(t,s.document.name),i=Wn(s.document.updateTime),o=new jt({mapValue:{fields:s.document.fields}}),a=yt.newFoundDocument(r,i,o),l=s.targetIds||[],c=s.removedTargetIds||[];n=new _a(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Hc(t,s.document),i=s.readTime?Wn(s.readTime):Ee.min(),o=yt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new _a([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Hc(t,s.document),i=s.removedTargetIds||[];n=new _a([],i,r,null)}else{if(!("filter"in e))return he();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new WT(r),o=s.targetId;n=new R0(o,i)}}return n}function rS(t,e){let n;if(e instanceof Po)n={update:Gp(t,e.key,e.value)};else if(e instanceof ql)n={delete:Fu(t,e.key)};else if(e instanceof Rs)n={update:Gp(t,e.key,e.data),updateMask:pS(e.fieldMask)};else{if(!(e instanceof YT))return he();n={verify:Fu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Za)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ho)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof fo)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof el)return{fieldPath:i.field.canonicalString(),increment:o._t};throw he()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:tS(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:he()}(t,e.precondition)),n}function iS(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Wn(s.updateTime):Wn(r);return i.isEqual(Ee.min())&&(i=Wn(r)),new BT(i,s.transformResults||[])}(n,e))):[]}function oS(t,e){return{documents:[$u(t,e.path)]}}function aS(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=$u(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$u(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if($p(h.value))return{unaryFilter:{field:Ir(h.field),op:"IS_NAN"}};if(Fp(h.value))return{unaryFilter:{field:Ir(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if($p(h.value))return{unaryFilter:{field:Ir(h.field),op:"IS_NOT_NAN"}};if(Fp(h.value))return{unaryFilter:{field:Ir(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ir(h.field),op:hS(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Ir(u.field),direction:uS(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,c){return l.dt||Hl(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function lS(t){let e=nS(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ye(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=F0(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Bi(Rr(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Hl(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Ja(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Ja(f,h)}(n.endAt)),OT(e,r,o,i,a,"F",l,c)}function cS(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(t){return t?t.unaryFilter!==void 0?[fS(t)]:t.fieldFilter!==void 0?[dS(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>F0(e)).reduce((e,n)=>e.concat(n)):he():[]}function uS(t){return JT[t]}function hS(t){return ZT[t]}function Ir(t){return{fieldPath:t.canonicalString()}}function Rr(t){return St.fromServerFormat(t.fieldPath)}function dS(t){return Lt.create(Rr(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(t.fieldFilter.op),t.fieldFilter.value)}function fS(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Rr(t.unaryFilter.field);return Lt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Rr(t.unaryFilter.field);return Lt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rr(t.unaryFilter.field);return Lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Rr(t.unaryFilter.field);return Lt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return he()}}function pS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&jT(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ji(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ji(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=D0();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=T0(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,(n,s)=>Hp(n,s))&&Jr(this.baseMutations,e.baseMutations,(n,s)=>Hp(n,s))}}class ud{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ye(e.mutations.length===s.length);let r=KT;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new ud(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,s,r,i=Ee.min(),o=Ee.min(),a=xt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.ne=e}}function vS(t){const e=lS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ze=new wS}addToCollectionParentIndex(e,n){return this.ze.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Ss.min())}updateCollectionGroup(e,n,s){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class wS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ct(qe.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ct(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ni(0)}static Rn(){return new ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.changes=new pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?C.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.getBaseDocument(e,n,s))).next(r=>(s!==null&&ji(s.mutation,r,nn.empty(),lt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Se()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Se()){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Di();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Se()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Xn();const o=Hi(),a=Hi();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Rs)?i=i.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),ji(u.mutation,c,u.mutation.getFieldMask(),lt.now()))}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new ES(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Hi();let r=new ht((o,a)=>o-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||nn.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||Se()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=D0();u.forEach(f=>{if(!i.has(f)){const g=T0(n.get(f),s.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return C.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):C.resolve(Gs());let a=-1,l=i;return o.next(c=>C.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?C.resolve():this.getBaseDocument(e,u,h).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Se())).next(u=>({batchId:a,changes:A0(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(s=>{let r=Di();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Di();return this.indexManager.getCollectionParents(e,r).next(o=>C.forEach(o,a=>{const l=function(c,u){return new No(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId))).next(i=>{i.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,yt.newInvalidDocument(c)))});let o=Di();return r.forEach((a,l)=>{const c=i.get(a);c!==void 0&&ji(c.mutation,l,nn.empty(),lt.now()),ld(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,s){return s===null||s.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):C.resolve(yt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return C.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var s;return this.Jn.set(n.id,{id:(s=n).id,version:s.version,createTime:Wn(s.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(s){return{name:s.name,query:vS(s.bundledQuery),readTime:Wn(s.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.overlays=new ht(Z.comparator),this.Xn=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return C.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.ie(e,n,i)}),C.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Xn.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Xn.delete(s)),C.resolve()}getOverlaysForCollection(e,n,s){const r=Gs(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new ht((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Gs(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Gs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return C.resolve(a)}ie(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Xn.get(r.largestBatchId).delete(s.key);this.Xn.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new mS(n,s));let i=this.Xn.get(n);i===void 0&&(i=Se(),this.Xn.set(n,i)),this.Xn.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.Zn=new ct(dt.ts),this.es=new ct(dt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const s=new dt(e,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.rs(new dt(e,n))}os(e,n){e.forEach(s=>this.removeReference(s,n))}us(e){const n=new Z(new qe([])),s=new dt(n,e),r=new dt(n,e+1),i=[];return this.es.forEachInRange([s,r],o=>{this.rs(o),i.push(o.key)}),i}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new Z(new qe([])),s=new dt(n,e),r=new dt(n,e+1);let i=Se();return this.es.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new dt(e,0),s=this.Zn.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class dt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return Z.comparator(e.key,n.key)||Pe(e.ls,n.ls)}static ns(e,n){return Pe(e.ls,n.ls)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new ct(dt.ts)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gS(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.ds=this.ds.add(new dt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ws(s),i=r<0?0:r;return C.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new dt(n,0),r=new dt(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([s,r],o=>{const a=this._s(o.ls);i.push(a)}),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ct(Pe);return n.forEach(r=>{const i=new dt(r,0),o=new dt(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,o],a=>{s=s.add(a.ls)})}),C.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Z.isDocumentKey(i)||(i=i.child(""));const o=new dt(new Z(i),0);let a=new ct(Pe);return this.ds.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.ls)),!0)},o),C.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(s=>{const r=this._s(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ye(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.ds;return C.forEach(n.mutations,r=>{const i=new dt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=s})}In(e){}containsKey(e,n){const s=new dt(n,0),r=this.ds.firstAfterOrEqual(s);return C.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.ps=e,this.docs=new ht(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ps(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return C.resolve(s?s.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let s=Xn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():yt.newInvalidDocument(r))}),C.resolve(s)}getAllFromCollection(e,n,s){let r=Xn();const i=new Z(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||mT(gT(l),s)<=0||(r=r.insert(l.key,l.mutableCopy()))}return C.resolve(r)}getAllFromCollectionGroup(e,n,s,r){he()}Is(e,n){return C.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new CS(this)}getSize(e){return C.resolve(this.size)}}class CS extends bS{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.zn.addEntry(e,r)):this.zn.removeEntry(s)}),C.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.persistence=e,this.Ts=new pi(n=>id(n),od),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Es=0,this.As=new hd,this.targetCount=0,this.Rs=ni.An()}forEachTarget(e,n){return this.Ts.forEach((s,r)=>n(r)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Es&&(this.Es=n),C.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new ni(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.vn(n),C.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),C.waitFor(i).next(()=>r)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const s=this.Ts.get(n)||null;return C.resolve(s)}addMatchingKeys(e,n,s){return this.As.ss(n,s),C.resolve()}removeMatchingKeys(e,n,s){this.As.os(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),C.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),C.resolve()}getMatchingKeysForTargetId(e,n){const s=this.As.hs(n);return C.resolve(s)}containsKey(e,n){return C.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.bs={},this.overlays={},this.Ps=new sd(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new AS(this),this.indexManager=new _S,this.remoteDocumentCache=function(s){return new kS(s)}(s=>this.referenceDelegate.Ss(s)),this.wt=new yS(n),this.Ds=new IS(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.bs[e.toKey()];return s||(s=new SS(n,this.referenceDelegate),this.bs[e.toKey()]=s),s}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,s){K("MemoryPersistence","Starting transaction:",e);const r=new MS(this.Ps.next());return this.referenceDelegate.Cs(),s(r).next(i=>this.referenceDelegate.xs(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ns(e,n){return C.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,n)))}}class MS extends vT{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.ks=new hd,this.Os=null}static Ms(e){return new dd(e)}get Fs(){if(this.Os)return this.Os;throw he()}addReference(e,n,s){return this.ks.addReference(s,n),this.Fs.delete(s.toString()),C.resolve()}removeReference(e,n,s){return this.ks.removeReference(s,n),this.Fs.add(s.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),C.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(r=>this.Fs.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Fs.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Fs,s=>{const r=Z.fromPath(s);return this.$s(e,r).next(i=>{i||n.removeEntry(r,Ee.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(s=>{s?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return C.or([()=>C.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Pi=s,this.vi=r}static Vi(e,n){let s=Se(),r=Se();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new fd(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ci(e,n).next(i=>i||this.xi(e,n,r,s)).next(i=>i||this.Ni(e,n))}Ci(e,n){return C.resolve(null)}xi(e,n,s,r){return NT(n)||r.isEqual(Ee.min())?this.Ni(e,n):this.Di.getDocuments(e,s).next(i=>{const o=this.ki(n,i);return this.Oi(n,o,s,r)?this.Ni(e,n):(Mp()<=Ne.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lu(n)),this.Mi(e,o,n,pT(r,-1)))})}ki(e,n){let s=new ct(v0(e));return n.forEach((r,i)=>{ld(e,i)&&(s=s.add(i))}),s}Oi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,n){return Mp()<=Ne.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Lu(n)),this.Di.getDocumentsMatchingQuery(e,n,Ss.min())}Mi(e,n,s,r){return this.Di.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,s,r){this.persistence=e,this.Fi=n,this.wt=r,this.$i=new ht(Pe),this.Bi=new pi(i=>id(i),od),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(s)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xS(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function NS(t,e,n,s){return new OS(t,e,n,s)}async function U0(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.qi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=Se();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}function PS(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=C.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(a,g)).next(y=>{const w=l.docVersions.get(g);Ye(w!==null),y.version.compareTo(w)<0&&(u.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=Se();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function V0(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function LS(t,e){const n=fe(t),s=e.snapshotVersion;let r=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});r=n.$i;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?g=g.withResumeToken(xt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,s)),r=r.insert(h,g),function(y,w,_){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,u)&&a.push(n.Vs.updateTargetData(i,g))});let l=Xn(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(FS(i,o,e.documentUpdates).next(u=>{l=u.Gi,c=u.Qi})),!s.isEqual(Ee.min())){const u=n.Vs.getLastRemoteSnapshotVersion(i).next(h=>n.Vs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return C.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.$i=r,i))}function FS(t,e,n){let s=Se(),r=Se();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Xn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Gi:o,Qi:r}})}function $S(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function US(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Vs.getTargetData(s,e).next(i=>i?(r=i,C.resolve(r)):n.Vs.allocateTargetId(s).next(o=>(r=new tr(e,o,0,s.currentSequenceNumber),n.Vs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.$i.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(s.targetId,s),n.Bi.set(e,s.targetId)),s})}async function Vu(t,e,n){const s=fe(t),r=s.$i.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Oo(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.$i=s.$i.remove(e),s.Bi.delete(r.target)}function Qp(t,e,n){const s=fe(t);let r=Ee.min(),i=Se();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=fe(a),h=u.Bi.get(c);return h!==void 0?C.resolve(u.$i.get(h)):u.Vs.getTargetData(l,c)}(s,o,ur(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Fi.getDocumentsMatchingQuery(o,e,n?r:Ee.min(),n?i:Se())).next(a=>(VS(s,PT(e),a),{documents:a,ji:i})))}function VS(t,e,n){let s=Ee.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Li.set(e,s)}class Xp{constructor(){this.activeTargetIds=M0()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BS{constructor(){this.Fr=new Xp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,s){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Xp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,s,r,i){const o=this.oo(e,n);K("RestConnection","Sending: ",o,s);const a={};return this.uo(a,r,i),this.co(e,o,a,s).then(l=>(K("RestConnection","Received: ",l),l),l=>{throw Rp("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",s),l})}ao(e,n,s,r,i,o){return this.ro(e,n,s,r,i)}uo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+fi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}oo(e,n){const s=HS[e];return`${this.so}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,s,r){return new Promise((i,o)=>{const a=new rT;a.listenOnce(tT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case jc.NO_ERROR:const c=a.getResponseJson();K("Connection","XHR received:",JSON.stringify(c)),i(c);break;case jc.TIMEOUT:K("Connection",'RPC "'+e+'" timed out'),o(new j(E.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const u=a.getStatus();if(K("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(y)>=0?y:E.UNKNOWN}(h.status);o(new j(f,h.message))}else o(new j(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new j(E.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{K("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,s,15)})}ho(e,n,s){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ZI(),o=eT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new sT({})),this.uo(a.initMessageHeaders,n,s),Xm()||Zm()||LE()||ey()||FE()||Jm()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");K("Connection","Creating WebChannel: "+l,a);const c=i.createWebChannel(l,a);let u=!1,h=!1;const f=new YS({jr:y=>{h?K("Connection","Not sending because WebChannel is closed:",y):(u||(K("Connection","Opening WebChannel transport."),c.open(),u=!0),K("Connection","WebChannel sending:",y),c.send(y))},Wr:()=>c.close()}),g=(y,w,_)=>{y.listen(w,S=>{try{_(S)}catch(L){setTimeout(()=>{throw L},0)}})};return g(c,oa.EventType.OPEN,()=>{h||K("Connection","WebChannel transport opened.")}),g(c,oa.EventType.CLOSE,()=>{h||(h=!0,K("Connection","WebChannel transport closed"),f.eo())}),g(c,oa.EventType.ERROR,y=>{h||(h=!0,Rp("Connection","WebChannel transport errored:",y),f.eo(new j(E.UNAVAILABLE,"The operation could not be completed")))}),g(c,oa.EventType.MESSAGE,y=>{var w;if(!h){const _=y.data[0];Ye(!!_);const S=_,L=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(L){K("Connection","WebChannel received error:",L);const q=L.status;let Y=function(J){const b=st[J];if(b!==void 0)return k0(b)}(q),F=L.message;Y===void 0&&(Y=E.INTERNAL,F="Unknown error status: "+q+" with message "+L.message),h=!0,f.eo(new j(Y,F)),c.close()}else K("Connection","WebChannel received:",_),f.no(_)}}),g(o,nT.STAT_EVENT,y=>{y.stat===Ap.PROXY?K("Connection","Detected buffering proxy"):y.stat===Ap.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function Yc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){return new eS(t,!0)}class B0{constructor(e,n,s=1e3,r=1.5,i=6e4){this.js=e,this.timerId=n,this.lo=s,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),r=Math.max(0,n-s);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,s,r,i,o,a,l){this.js=e,this.Ao=s,this.Ro=r,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new B0(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===E.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Po===n&&this.Uo(s,r)},s=>{e(()=>{const r=new j(E.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(r)})})}Uo(e,n){const s=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{s(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{s(()=>this.qo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zS extends j0{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.wt=i}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=sS(this.wt,e),s=function(r){if(!("targetChange"in r))return Ee.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?Ee.min():i.readTime?Wn(i.readTime):Ee.min()}(e);return this.listener.Go(n,s)}Qo(e){const n={};n.database=Uu(this.wt),n.addTarget=function(r,i){let o;const a=i.target;return o=Pu(a)?{documents:oS(r,a)}:{query:aS(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=N0(r,i.resumeToken):i.snapshotVersion.compareTo(Ee.min())>0&&(o.readTime=tl(r,i.snapshotVersion.toTimestamp())),o}(this.wt,e);const s=cS(this.wt,e);s&&(n.labels=s),this.Mo(n)}jo(e){const n={};n.database=Uu(this.wt),n.removeTarget=e,this.Mo(n)}}class qS extends j0{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=iS(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.Jo(s,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Uu(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>rS(this.wt,s))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=s,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new j(E.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ro(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(E.UNKNOWN,r.toString())})}ao(e,n,s,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ao(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(E.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class GS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ts(n),this.su=!1):K("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(o=>{s.enqueueAndForget(async()=>{yr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l.lu.add(4),await Fo(l),l._u.set("Unknown"),l.lu.delete(4),await Ql(l)}(this))})}),this._u=new GS(s,r)}}async function Ql(t){if(yr(t))for(const e of t.fu)await e(!0)}async function Fo(t){for(const e of t.fu)await e(!1)}function H0(t,e){const n=fe(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),md(n)?gd(n):gi(n).Co()&&pd(n,e))}function Y0(t,e){const n=fe(t),s=gi(n);n.hu.delete(e),s.Co()&&W0(n,e),n.hu.size===0&&(s.Co()?s.ko():yr(n)&&n._u.set("Unknown"))}function pd(t,e){t.wu.Nt(e.targetId),gi(t).Qo(e)}function W0(t,e){t.wu.Nt(e),gi(t).jo(e)}function gd(t){t.wu=new XT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),gi(t).start(),t._u.iu()}function md(t){return yr(t)&&!gi(t).Do()&&t.hu.size>0}function yr(t){return fe(t).lu.size===0}function z0(t){t.wu=void 0}async function XS(t){t.hu.forEach((e,n)=>{pd(t,e)})}async function JS(t,e){z0(t),md(t)?(t._u.uu(e),gd(t)):t._u.set("Unknown")}async function ZS(t,e,n){if(t._u.set("Online"),e instanceof O0&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.hu.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.hu.delete(o),s.wu.removeTarget(o))}(t,e)}catch(s){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nl(t,s)}else if(e instanceof _a?t.wu.Ut(e):e instanceof R0?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Ee.min()))try{const s=await V0(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.wu.Yt(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.hu.get(l);c&&r.hu.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=r.hu.get(a);if(!l)return;r.hu.set(a,l.withResumeToken(xt.EMPTY_BYTE_STRING,l.snapshotVersion)),W0(r,a);const c=new tr(l.target,a,1,l.sequenceNumber);pd(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){K("RemoteStore","Failed to raise snapshot:",s),await nl(t,s)}}async function nl(t,e,n){if(!Oo(e))throw e;t.lu.add(1),await Fo(t),t._u.set("Offline"),n||(n=()=>V0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Ql(t)})}function q0(t,e){return e().catch(n=>nl(t,n,e))}async function Xl(t){const e=fe(t),n=Cs(e);let s=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;ek(e);)try{const r=await $S(e.localStore,s);if(r===null){e.au.length===0&&n.ko();break}s=r.batchId,tk(e,r)}catch(r){await nl(e,r)}K0(e)&&G0(e)}function ek(t){return yr(t)&&t.au.length<10}function tk(t,e){t.au.push(e);const n=Cs(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function K0(t){return yr(t)&&!Cs(t).Do()&&t.au.length>0}function G0(t){Cs(t).start()}async function nk(t){Cs(t).Xo()}async function sk(t){const e=Cs(t);for(const n of t.au)e.Ho(n.mutations)}async function rk(t,e,n){const s=t.au.shift(),r=ud.from(s,e,n);await q0(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Xl(t)}async function ik(t,e){e&&Cs(t).zo&&await async function(n,s){if(r=s.code,zT(r)&&r!==E.ABORTED){const i=n.au.shift();Cs(n).No(),await q0(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xl(n)}var r}(t,e),K0(t)&&G0(t)}async function Zp(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const s=yr(n);n.lu.add(3),await Fo(n),s&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Ql(n)}async function ok(t,e){const n=fe(t);e?(n.lu.delete(2),await Ql(n)):e||(n.lu.add(2),await Fo(n),n._u.set("Unknown"))}function gi(t){return t.mu||(t.mu=function(e,n,s){const r=fe(e);return r.tu(),new zS(n,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,s)}(t.datastore,t.asyncQueue,{zr:XS.bind(null,t),Jr:JS.bind(null,t),Go:ZS.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),md(t)?gd(t):t._u.set("Unknown")):(await t.mu.stop(),z0(t))})),t.mu}function Cs(t){return t.gu||(t.gu=function(e,n,s){const r=fe(e);return r.tu(),new qS(n,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,s)}(t.datastore,t.asyncQueue,{zr:nk.bind(null,t),Jr:ik.bind(null,t),Yo:sk.bind(null,t),Jo:rk.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await Xl(t)):(await t.gu.stop(),t.au.length>0&&(K("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new yd(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),Oo(t))return new j(E.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Z.comparator(n.key,s.key):(n,s)=>Z.comparator(n.key,s.key),this.keyedMap=Di(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new $r(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $r;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.yu=new ht(Z.comparator)}track(e){const n=e.doc.key,s=this.yu.get(n);s?e.type!==0&&s.type===3?this.yu=this.yu.insert(n,e):e.type===3&&s.type!==1?this.yu=this.yu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.yu=this.yu.remove(n):e.type===1&&s.type===2?this.yu=this.yu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):he():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,s)=>{e.push(s)}),e}}class si{constructor(e,n,s,r,i,o,a,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,s,r){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new si(e,n,$r.emptySet(n),i,s,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.Iu=void 0,this.listeners=[]}}class lk{constructor(){this.queries=new pi(e=>y0(e),Yl),this.onlineState="Unknown",this.Tu=new Set}}async function Q0(t,e){const n=fe(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new ak),r)try{i.Iu=await n.onListen(s)}catch(o){const a=vd(o,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Eu(n.onlineState),i.Iu&&e.Au(i.Iu)&&_d(n)}async function X0(t,e){const n=fe(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function ck(t,e){const n=fe(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Au(r)&&(s=!0);o.Iu=r}}s&&_d(n)}function uk(t,e,n){const s=fe(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function _d(t){t.Tu.forEach(e=>{e.next()})}class J0{constructor(e,n,s){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new si(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Du||!s)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=si.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.key=e}}class ev{constructor(e){this.key=e}}class hk{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Se(),this.mutatedKeys=Se(),this.Lu=v0(e),this.Uu=new $r(this.Lu)}get qu(){return this.Fu}Ku(e,n){const s=n?n.Gu:new eg,r=n?n.Uu:this.Uu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),g=ld(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;f&&g?f.data.isEqual(g.data)?y!==w&&(s.track({type:3,doc:g}),_=!0):this.Qu(f,g)||(s.track({type:2,doc:g}),_=!0,(l&&this.Lu(g,l)>0||c&&this.Lu(g,c)<0)&&(a=!0)):!f&&g?(s.track({type:0,doc:g}),_=!0):f&&!g&&(s.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=w?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Uu:o,Gu:s,Oi:a,mutatedKeys:i}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort((c,u)=>function(h,f){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(h)-g(f)}(c.type,u.type)||this.Lu(c.doc,u.doc)),this.ju(s);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,l=a!==this.$u;return this.$u=a,i.length!==0||l?{snapshot:new si(this.query,e.Uu,r,i,e.mutatedKeys,a===0,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new eg,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Se(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const n=[];return e.forEach(s=>{this.Bu.has(s)||n.push(new ev(s))}),this.Bu.forEach(s=>{e.has(s)||n.push(new Z0(s))}),n}Ju(e){this.Fu=e.ji,this.Bu=Se();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return si.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class dk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fk{constructor(e){this.key=e,this.Xu=!1}}class pk{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new pi(a=>y0(a),Yl),this.ec=new Map,this.nc=new Set,this.sc=new ht(Z.comparator),this.ic=new Map,this.rc=new hd,this.oc={},this.uc=new Map,this.cc=ni.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function gk(t,e){const n=Tk(t);let s,r;const i=n.tc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.Yu();else{const o=await US(n.localStore,ur(e));n.isPrimaryClient&&H0(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await mk(n,e,s,a==="current")}return r}async function mk(t,e,n,s){t.hc=(u,h,f)=>async function(g,y,w,_){let S=y.view.Ku(w);S.Oi&&(S=await Qp(g.localStore,y.query,!1).then(({documents:Y})=>y.view.Ku(Y,S)));const L=_&&_.targetChanges.get(y.targetId),q=y.view.applyChanges(S,g.isPrimaryClient,L);return ng(g,y.targetId,q.zu),q.snapshot}(t,u,h,f);const r=await Qp(t.localStore,e,!0),i=new hk(e,r.ji),o=i.Ku(r.documents),a=Lo.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline"),l=i.applyChanges(o,t.isPrimaryClient,a);ng(t,n,l.zu);const c=new dk(e,n,i);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function yk(t,e){const n=fe(t),s=n.tc.get(e),r=n.ec.get(s.targetId);if(r.length>1)return n.ec.set(s.targetId,r.filter(i=>!Yl(i,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Vu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Y0(n.remoteStore,s.targetId),Bu(n,s.targetId)}).catch(Ro)):(Bu(n,s.targetId),await Vu(n.localStore,s.targetId,!0))}async function vk(t,e,n){const s=Sk(t);try{const r=await function(i,o){const a=fe(i),l=lt.now(),c=o.reduce((f,g)=>f.add(g.key),Se());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Xn(),y=Se();return a.Ui.getEntries(f,c).next(w=>{g=w,g.forEach((_,S)=>{S.isValidDocument()||(y=y.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(w=>{u=w;const _=[];for(const S of o){const L=HT(S,u.get(S.key).overlayedDocument);L!=null&&_.push(new Rs(S.key,L,h0(L.value.mapValue),Ft.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,_,o)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(f,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:A0(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.oc[i.currentUser.toKey()];l||(l=new ht(Pe)),l=l.insert(o,a),i.oc[i.currentUser.toKey()]=l}(s,r.batchId,n),await $o(s,r.changes),await Xl(s.remoteStore)}catch(r){const i=vd(r,"Failed to persist write");n.reject(i)}}async function tv(t,e){const n=fe(t);try{const s=await LS(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.ic.get(i);o&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Xu=!0:r.modifiedDocuments.size>0?Ye(o.Xu):r.removedDocuments.size>0&&(Ye(o.Xu),o.Xu=!1))}),await $o(n,s,e)}catch(s){await Ro(s)}}function tg(t,e,n){const s=fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.tc.forEach((i,o)=>{const a=o.view.Eu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=fe(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Eu(o)&&(l=!0)}),l&&_d(a)}(s.eventManager,e),r.length&&s.Zu.Go(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _k(t,e,n){const s=fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.ic.get(e),i=r&&r.key;if(i){let o=new ht(Z.comparator);o=o.insert(i,yt.newNoDocument(i,Ee.min()));const a=Se().add(i),l=new Kl(Ee.min(),new Map,new ct(Pe),o,a);await tv(s,l),s.sc=s.sc.remove(i),s.ic.delete(e),wd(s)}else await Vu(s.localStore,e,!1).then(()=>Bu(s,e,n)).catch(Ro)}async function wk(t,e){const n=fe(t),s=e.batch.batchId;try{const r=await PS(n.localStore,e);sv(n,s,null),nv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $o(n,r)}catch(r){await Ro(r)}}async function bk(t,e,n){const s=fe(t);try{const r=await function(i,o){const a=fe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ye(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);sv(s,e,n),nv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await $o(s,r)}catch(r){await Ro(r)}}function nv(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function sv(t,e,n){const s=fe(t);let r=s.oc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.oc[s.currentUser.toKey()]=r}}function Bu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ec.get(e))t.tc.delete(s),n&&t.Zu.lc(s,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(s=>{t.rc.containsKey(s)||rv(t,s)})}function rv(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(Y0(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),wd(t))}function ng(t,e,n){for(const s of n)s instanceof Z0?(t.rc.addReference(s.key,e),Ek(t,s)):s instanceof ev?(K("SyncEngine","Document no longer in limbo: "+s.key),t.rc.removeReference(s.key,e),t.rc.containsKey(s.key)||rv(t,s.key)):he()}function Ek(t,e){const n=e.key,s=n.path.canonicalString();t.sc.get(n)||t.nc.has(s)||(K("SyncEngine","New document in limbo: "+n),t.nc.add(s),wd(t))}function wd(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new Z(qe.fromString(e)),s=t.cc.next();t.ic.set(s,new fk(n)),t.sc=t.sc.insert(n,s),H0(t.remoteStore,new tr(ur(ad(n.path)),s,2,sd.ot))}}async function $o(t,e,n){const s=fe(t),r=[],i=[],o=[];s.tc.isEmpty()||(s.tc.forEach((a,l)=>{o.push(s.hc(l,e,n).then(c=>{if(c){s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=fd.Vi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.Zu.Go(r),await async function(a,l){const c=fe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>C.forEach(l,h=>C.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>C.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Oo(u))throw u;K("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.$i.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);c.$i=c.$i.insert(h,y)}}}(s.localStore,i))}async function xk(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const s=await U0(n.localStore,e);n.currentUser=e,function(r,i){r.uc.forEach(o=>{o.forEach(a=>{a.reject(new j(E.CANCELLED,i))})}),r.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $o(n,s.Ki)}}function Ik(t,e){const n=fe(t),s=n.ic.get(e);if(s&&s.Xu)return Se().add(s.key);{let r=Se();const i=n.ec.get(e);if(!i)return r;for(const o of i){const a=n.tc.get(o);r=r.unionWith(a.view.qu)}return r}}function Tk(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_k.bind(null,e),e.Zu.Go=ck.bind(null,e.eventManager),e.Zu.lc=uk.bind(null,e.eventManager),e}function Sk(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bk.bind(null,e),e}class kk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Gl(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return NS(this.persistence,new RS,e.initialUser,this.wt)}_c(e){return new DS(dd.Ms,this.wt)}dc(e){return new BS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ck{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xk.bind(null,this.syncEngine),await ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new lk}createDatastore(e){const n=Gl(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new WS(r));var r;return function(i,o,a,l){return new KS(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>tg(this.syncEngine,a,0),o=Jp.V()?new Jp:new jS,new QS(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new pk(s,r,i,o,a,l);return c&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);K("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Fo(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Bt.UNAUTHENTICATED,this.clientId=a0.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{K("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(K("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dk(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await U0(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Mk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rk(t);K("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>Zp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zp(e.remoteStore,i)),t.onlineComponents=e}async function Rk(t){return t.offlineComponents||(K("FirestoreClient","Using default OfflineComponentProvider"),await Dk(t,new kk)),t.offlineComponents}async function ov(t){return t.onlineComponents||(K("FirestoreClient","Using default OnlineComponentProvider"),await Mk(t,new Ck)),t.onlineComponents}function Ok(t){return ov(t).then(e=>e.syncEngine)}async function av(t){const e=await ov(t),n=e.eventManager;return n.onListen=gk.bind(null,e.syncEngine),n.onUnlisten=yk.bind(null,e.syncEngine),n}function Nk(t,e,n={}){const s=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new iv({next:h=>{i.enqueueAndForget(()=>X0(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new j(E.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new j(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new J0(ad(o.path),c,{includeMetadataChanges:!0,Du:!0});return Q0(r,u)}(await av(t),t.asyncQueue,e,n,s)),s.promise}function Pk(t,e,n={}){const s=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new iv({next:h=>{i.enqueueAndForget(()=>X0(r,u)),h.fromCache&&a.source==="server"?l.reject(new j(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new J0(o,c,{includeMetadataChanges:!0,Du:!0});return Q0(r,u)}(await av(t),t.asyncQueue,e,n,s)),s.promise}const sg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){if(!n)throw new j(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lk(t,e,n,s){if(e===!0&&s===!0)throw new j(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rg(t){if(!Z.isDocumentKey(t))throw new j(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ig(t){if(Z.isDocumentKey(t))throw new j(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jl(t);throw new j(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Fk(t,e){if(e<=0)throw new j(E.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new j(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Lk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,s){this._authCredentials=n,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new og({}),this._settingsFrozen=!1,e instanceof ei?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new j(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ei(r.options.projectId)}(e))}get app(){if(!this._app)throw new j(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new og(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new oT;switch(n.type){case"gapi":const s=n.client;return Ye(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new cT(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new j(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=sg.get(e);n&&(K("ComponentProvider","Removing Datastore"),sg.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class mi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class bs extends mi{constructor(e,n,s){super(e,n,ad(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Z(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function xn(t,e,...n){if(t=Et(t),lv("collection","path",e),t instanceof bd){const s=qe.fromString(e,...n);return ig(s),new bs(t,null,s)}{if(!(t instanceof $t||t instanceof bs))throw new j(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(qe.fromString(e,...n));return ig(s),new bs(t.firestore,null,s)}}function kt(t,e,...n){if(t=Et(t),arguments.length===1&&(e=a0.I()),lv("doc","path",e),t instanceof bd){const s=qe.fromString(e,...n);return rg(s),new $t(t,null,new Z(s))}{if(!(t instanceof $t||t instanceof bs))throw new j(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(qe.fromString(e,...n));return rg(s),new $t(t.firestore,t instanceof bs?t.converter:null,new Z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new B0(this,"async_queue_retry"),this.Kc=()=>{const n=Yc();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Yc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Yc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new Yn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Oo(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(s=>{this.Bc=s,this.Lc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Ts("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Lc=!1,s))));return this.Oc=n,n}enqueueAfterDelay(e,n,s){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const r=yd.createAndSchedule(this,e,n,s,i=>this.Wc(i));return this.$c.push(r),r}Gc(){this.Bc&&he()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class Os extends bd{constructor(e,n,s){super(e,n,s),this.type="firestore",this._queue=new $k,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cv(this),this._firestoreClient.terminate()}}function Uk(t=ry()){return Mh(t,"firestore").getImmediate()}function Zl(t){return t._firestoreClient||cv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cv(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new wT(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ak(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(xt.fromBase64String(e))}catch(n){throw new j(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=/^__.*__$/;class Bk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Po(e,this.data,n,this.fieldTransforms)}}class uv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Id{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.wt=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ta({path:s,na:!1});return r.sa(e),r}ia(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ta({path:s,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return sl(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(hv(this.Zc)&&Vk.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class jk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=s||Gl(e)}aa(e,n,s,r=!1){return new Id({Zc:e,methodName:n,ca:s,path:St.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Vo(t){const e=t._freezeSettings(),n=Gl(t._databaseId);return new jk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Td(t,e,n,s,r,i={}){const o=t.aa(i.merge||i.mergeFields?2:0,e,n,r);Sd("Data must be an object, but it was:",o,s);const a=pv(s,o);let l,c;if(i.merge)l=new nn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=ju(e,h,n);if(!o.contains(f))throw new j(E.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);mv(u,f)||u.push(f)}l=new nn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Bk(new jt(a),l,c)}class ec extends Ed{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ec}}function dv(t,e,n,s){const r=t.aa(1,e,n);Sd("Data must be an object, but it was:",r,s);const i=[],o=jt.empty();mr(s,(l,c)=>{const u=kd(e,l,n);c=Et(c);const h=r.ia(u);if(c instanceof ec)i.push(u);else{const f=Bo(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new nn(i);return new uv(o,a,r.fieldTransforms)}function fv(t,e,n,s,r,i){const o=t.aa(1,e,n),a=[ju(e,s,n)],l=[r];if(i.length%2!=0)throw new j(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(ju(e,i[f])),l.push(i[f+1]);const c=[],u=jt.empty();for(let f=a.length-1;f>=0;--f)if(!mv(c,a[f])){const g=a[f];let y=l[f];y=Et(y);const w=o.ia(g);if(y instanceof ec)c.push(g);else{const _=Bo(y,w);_!=null&&(c.push(g),u.set(g,_))}}const h=new nn(c);return new uv(u,h,o.fieldTransforms)}function Hk(t,e,n,s=!1){return Bo(n,t.aa(s?4:3,e))}function Bo(t,e){if(gv(t=Et(t)))return Sd("Unsupported field value:",e,t),pv(t,e);if(t instanceof Ed)return function(n,s){if(!hv(s.Zc))throw s.oa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.oa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Bo(o,s.ra(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=Et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return FT(s.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=lt.fromDate(n);return{timestampValue:tl(s.wt,r)}}if(n instanceof lt){const r=new lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tl(s.wt,r)}}if(n instanceof xd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ri)return{bytesValue:N0(s.wt,n._byteString)};if(n instanceof $t){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.oa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cd(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.oa(`Unsupported field value: ${Jl(n)}`)}(t,e)}function pv(t,e){const n={};return l0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(t,(s,r)=>{const i=Bo(r,e.ea(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function gv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof xd||t instanceof ri||t instanceof $t||t instanceof Ed)}function Sd(t,e,n){if(!gv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Jl(n);throw s==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+s)}}function ju(t,e,n){if((e=Et(e))instanceof Uo)return e._internalPath;if(typeof e=="string")return kd(t,e);throw sl("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yk=new RegExp("[~\\*/\\[\\]]");function kd(t,e,n){if(e.search(Yk)>=0)throw sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uo(...e.split("."))._internalPath}catch{throw sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sl(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new j(E.INVALID_ARGUMENT,a+t+l)}function mv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wk extends yv{data(){return super.data()}}function Cd(t,e){return typeof e=="string"?kd(t,e):e instanceof Uo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vv extends yv{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class wa extends vv{data(e={}){return super.data(e)}}class zk{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Mi(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new wa(this._firestore,this._userDataWriter,s.key,s,new Mi(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>({type:"added",doc:new wa(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Mi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:i++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new wa(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Mi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:qk(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}function rl(t,...e){for(const n of e)t=n._apply(t);return t}class Gk extends _v{constructor(e,n,s){super(),this.fa=e,this.da=n,this._a=s,this.type="where"}_apply(e){const n=Vo(e.firestore),s=function(r,i,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new j(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){lg(u,c);const g=[];for(const y of u)g.push(ag(a,r,y));h={arrayValue:{values:g}}}else h=ag(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||lg(u,c),h=Hk(o,i,u,c==="in"||c==="not-in");const f=Lt.create(l,c,h);return function(g,y){if(y.ht()){const _=p0(g);if(_!==null&&!_.isEqual(y.field))throw new j(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${y.field.toString()}'`);const S=f0(g);S!==null&&Jk(g,y.field,S)}const w=function(_,S){for(const L of _.filters)if(S.indexOf(L.op)>=0)return L.op;return null}(g,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(y.op));if(w!==null)throw w===y.op?new j(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${y.op.toString()}' filter.`):new j(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${y.op.toString()}' filters with '${w.toString()}' filters.`)}(r,f),f}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new mi(e.firestore,e.converter,function(r,i){const o=r.filters.concat([i]);return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,s))}}function Ur(t,e,n){const s=e,r=Cd("where",t);return new Gk(r,s,n)}class Qk extends _v{constructor(e,n,s){super(),this.type=e,this.ma=n,this.ga=s}_apply(e){return new mi(e.firestore,e.converter,m0(e._query,this.ma,this.ga))}}function Xk(t){return Fk("limit",t),new Qk("limit",t,"F")}function ag(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new j(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g0(e)&&n.indexOf("/")!==-1)throw new j(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(qe.fromString(n));if(!Z.isDocumentKey(s))throw new j(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lp(t,new Z(s))}if(n instanceof $t)return Lp(t,n._key);throw new j(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jl(n)}.`)}function lg(t,e){if(!Array.isArray(t)||t.length===0)throw new j(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new j(E.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Jk(t,e,n){if(!n.isEqual(e))throw new j(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{convertValue(e,n="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){const s={};return mr(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new xd(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=u0(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const n=ks(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=qe.fromString(e);Ye($0(s));const r=new ei(s.get(1),s.get(3)),i=new Z(s.popFirst(5));return r.isEqual(n)||Ts(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vo(e)}set(e,n,s){this._verifyNotCommitted();const r=Wc(e,this._firestore),i=Ad(r.converter,n,s),o=Td(this._dataReader,"WriteBatch.set",r._key,i,r.converter!==null,s);return this._mutations.push(o.toMutation(r._key,Ft.none())),this}update(e,n,s,...r){this._verifyNotCommitted();const i=Wc(e,this._firestore);let o;return o=typeof(n=Et(n))=="string"||n instanceof Uo?fv(this._dataReader,"WriteBatch.update",i._key,n,s,r):dv(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wc(e,this._firestore);return this._mutations=this._mutations.concat(new ql(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new j(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wc(t,e){if((t=Et(t)).firestore!==e)throw new j(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){t=fn(t,$t);const e=fn(t.firestore,Os);return Nk(Zl(e),t._key).then(n=>sC(e,t,n))}class wv extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function Un(t){t=fn(t,mi);const e=fn(t.firestore,Os),n=Zl(e),s=new wv(e);return Kk(t._query),Pk(n,t._query).then(r=>new zk(e,s,t,r))}function jo(t,e,n){t=fn(t,$t);const s=fn(t.firestore,Os),r=Ad(t.converter,e,n);return Ho(s,[Td(Vo(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ft.none())])}function po(t,e,n,...s){t=fn(t,$t);const r=fn(t.firestore,Os),i=Vo(r);let o;return o=typeof(e=Et(e))=="string"||e instanceof Uo?fv(i,"updateDoc",t._key,e,n,s):dv(i,"updateDoc",t._key,e),Ho(r,[o.toMutation(t._key,Ft.exists(!0))])}function Dd(t){return Ho(fn(t.firestore,Os),[new ql(t._key,Ft.none())])}function nC(t,e){const n=fn(t.firestore,Os),s=kt(t),r=Ad(t.converter,e);return Ho(n,[Td(Vo(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Ft.exists(!1))]).then(()=>s)}function Ho(t,e){return function(n,s){const r=new Yn;return n.asyncQueue.enqueueAndForget(async()=>vk(await Ok(n),s,r)),r.promise}(Zl(t),e)}function sC(t,e,n){const s=n.docs.get(e._key),r=new wv(t);return new vv(t,r,e._key,s,new Mi(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){return Zl(t=fn(t,Os)),new eC(t,e=>Ho(t,e))}(function(t,e=!0){(function(n){fi=n})(Eo),Qr(new rr("firestore",(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),i=new Os(r,new aT(n.getProvider("auth-internal")),new hT(n.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC")),ws(Dp,"3.4.12",t),ws(Dp,"3.4.12","esm2017")})();var iC="firebase",oC="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(iC,oC,"app");function Md(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function bv(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=bv,Ev=new wo("auth","Firebase",bv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Ch("@firebase/auth");function ba(t,...e){cg.logLevel<=Ne.ERROR&&cg.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw Rd(t,...e)}function In(t,...e){return Rd(t,...e)}function xv(t,e,n){const s=Object.assign(Object.assign({},aC()),{[e]:n});return new wo("auth","Firebase",s).create(e,{appName:t.name})}function lC(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Cn(t,"argument-error"),xv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rd(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ev.create(t,...e)}function ue(t,e,...n){if(!t)throw Rd(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ba(e),new Error(e)}function Jn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new Map;function Bn(t){Jn(t instanceof Function,"Expected a class definition");let e=ug.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ug.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e){const n=Mh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Va(i,e!=null?e:{}))return r;Cn(r,"already-initialized")}return n.initialize({options:e})}function uC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hC(){return hg()==="http:"||hg()==="https:"}function hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hC()||Jm()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=Xm()||Zm()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Yo(3e4,6e4);function mC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tc(t,e,n,s,r={}){return Tv(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=bo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Iv.fetch()(Sv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Tv(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},pC),e);try{const r=new vC(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ca(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ca(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ca(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ca(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xv(t,u,c);Cn(t,u)}}catch(r){if(r instanceof pr)throw r;Cn(t,"network-request-failed")}}async function yC(t,e,n,s,r={}){const i=await tc(t,e,n,s,r);return"mfaPendingCredential"in i&&Cn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Sv(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?Od(t.config,r):`${t.config.apiScheme}://${r}`}class vC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(In(this.auth,"network-request-failed")),gC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ca(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=In(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e){return tc(t,"POST","/v1/accounts:delete",e)}async function wC(t,e){return tc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bC(t,e=!1){const n=Et(t),s=await n.getIdToken(e),r=Nd(s);ue(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Yi(zc(r.auth_time)),issuedAtTime:Yi(zc(r.iat)),expirationTime:Yi(zc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zc(t){return Number(t)*1e3}function Nd(t){var e;const[n,s,r]=t.split(".");if(n===void 0||s===void 0||r===void 0)return ba("JWT malformed, contained fewer than 3 sections"),null;try{const i=NE(s);return i?JSON.parse(i):(ba("Failed to decode base64 JWT payload"),null)}catch(i){return ba("Caught error parsing JWT payload as JSON",(e=i)===null||e===void 0?void 0:e.toString()),null}}function EC(t){const e=Nd(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&xC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function xC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yi(this.lastLoginAt),this.creationTime=Yi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){var e;const n=t.auth,s=await t.getIdToken(),r=await go(t,wC(n,{idToken:s}));ue(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?kC(i.providerUserInfo):[],a=SC(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function TC(t){const e=Et(t);await il(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SC(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function kC(t){return t.map(e=>{var{providerId:n}=e,s=Md(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e){const n=await Tv(t,{},async()=>{const s=bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=Sv(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Iv.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await CC(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new mo;return s&&(ue(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ue(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=Md(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await go(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bC(this,e)}reload(){return TC(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await il(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await go(this,_C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,l,c,u;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,L=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:Y,isAnonymous:F,providerData:J,stsTokenManager:b}=n;ue(q&&b,e,"internal-error");const D=mo.fromJSON(this.name,b);ue(typeof q=="string",e,"internal-error"),as(h,e.name),as(f,e.name),ue(typeof Y=="boolean",e,"internal-error"),ue(typeof F=="boolean",e,"internal-error"),as(g,e.name),as(y,e.name),as(w,e.name),as(_,e.name),as(S,e.name),as(L,e.name);const V=new nr({uid:q,auth:e,email:f,emailVerified:Y,displayName:h,isAnonymous:F,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:D,createdAt:S,lastLoginAt:L});return J&&Array.isArray(J)&&(V.providerData=J.map(ee=>Object.assign({},ee))),_&&(V._redirectEventId=_),V}static async _fromIdTokenResponse(e,n,s=!1){const r=new mo;r.updateFromServerResponse(n);const i=new nr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await il(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cv.type="NONE";const dg=Cv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t,e,n){return`firebase:${t}:${e}:${n}`}class Vr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Ea(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ea("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Vr(Bn(dg),e,s);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=r[0]||Bn(dg);const o=Ea(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=nr._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Vr(i,e,s):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Vr(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Av(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ov(e))return"Blackberry";if(Nv(e))return"Webos";if(Pd(e))return"Safari";if((e.includes("chrome/")||Dv(e))&&!e.includes("edge/"))return"Chrome";if(Rv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Av(t=pt()){return/firefox\//i.test(t)}function Pd(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dv(t=pt()){return/crios\//i.test(t)}function Mv(t=pt()){return/iemobile/i.test(t)}function Rv(t=pt()){return/android/i.test(t)}function Ov(t=pt()){return/blackberry/i.test(t)}function Nv(t=pt()){return/webos/i.test(t)}function nc(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AC(t=pt()){var e;return nc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DC(){return ey()&&document.documentMode===10}function Pv(t=pt()){return nc(t)||Rv(t)||Nv(t)||Ov(t)||/windows phone/i.test(t)||Mv(t)}function MC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t,e=[]){let n;switch(t){case"Browser":n=fg(pt());break;case"Worker":n=`${fg(pt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=r)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pg(this),this.idTokenSubscription=new pg(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ev,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Vr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await il(e)}catch(s){if(((n=s)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Et(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Vr.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function Ld(t){return Et(t)}class pg{constructor(e){this.auth=e,this.observer=null,this.addObserver=YE(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(t,e){return yC(t,"POST","/v1/accounts:signInWithIdp",mC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="http://localhost";class hr extends Fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=Md(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new hr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Br(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Br(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Br(e,n)}buildRequest(){const e={requestUri:NC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Fd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Wo{constructor(){super("facebook.com")}static credential(e){return hr._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hr._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return an.credential(n,s)}catch{return null}}}an.GOOGLE_SIGN_IN_METHOD="google.com";an.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Wo{constructor(){super("github.com")}static credential(e){return hr._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Wo{constructor(){super("twitter.com")}static credential(e,n){return hr._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await nr._fromIdTokenResponse(e,s,r),o=gg(s);return new ii({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=gg(s);return new ii({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function gg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends pr{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,ol.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new ol(e,n,s,r)}}function $v(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ol._fromErrorAndOperation(t,i,e,s):i})}async function PC(t,e,n=!1){const s=await go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ii._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t,e,n=!1){var s;const{auth:r}=t,i="reauthenticate";try{const o=await go(t,$v(r,i,e,t),n);ue(o.idToken,r,"internal-error");const a=Nd(o.idToken);ue(a,r,"internal-error");const{sub:l}=a;return ue(t.uid===l,r,"user-mismatch"),ii._forOperation(t,i,o)}catch(o){throw((s=o)===null||s===void 0?void 0:s.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t,e,n=!1){const s="signIn",r=await $v(t,s,e),i=await ii._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}function $C(t,e,n,s){return Et(t).onAuthStateChanged(e,n,s)}function UC(t){return Et(t).signOut()}const al="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(al,"1"),this.storage.removeItem(al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){const t=pt();return Pd(t)||nc(t)}const BC=1e3,jC=10;class Vv extends Uv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=VC()&&MC(),this.fallbackToPolling=Pv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);DC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,jC):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vv.type="LOCAL";const HC=Vv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends Uv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bv.type="SESSION";const jv=Bv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new sc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await YC(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=$d("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function zC(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function qC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GC(){return Hv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firebaseLocalStorageDb",QC=1,ll="firebaseLocalStorage",Wv="fbase_key";class zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rc(t,e){return t.transaction([ll],e?"readwrite":"readonly").objectStore(ll)}function XC(){const t=indexedDB.deleteDatabase(Yv);return new zo(t).toPromise()}function Yu(){const t=indexedDB.open(Yv,QC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ll,{keyPath:Wv})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ll)?e(s):(s.close(),await XC(),e(await Yu()))})})}async function mg(t,e,n){const s=rc(t,!0).put({[Wv]:e,value:n});return new zo(s).toPromise()}async function JC(t,e){const n=rc(t,!1).get(e),s=await new zo(n).toPromise();return s===void 0?null:s.value}function yg(t,e){const n=rc(t,!0).delete(e);return new zo(n).toPromise()}const ZC=800,e2=3;class zv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>e2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sc._getInstance(GC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new WC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);!s||((e=s[0])===null||e===void 0?void 0:e.fulfilled)&&((n=s[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yu();return await mg(e,al,"1"),await yg(e,al),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mg(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=rc(r,!1).getAll();return new zo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zv.type="LOCAL";const t2=zv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function s2(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=In("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",n2().appendChild(s)})}function r2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e){return e?Bn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Br(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Br(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Br(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i2(t){return FC(t.auth,new Ud(t),t.bypassAuthState)}function o2(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),LC(n,new Ud(t),t.bypassAuthState)}async function a2(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),PC(n,new Ud(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:Cn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Yo(2e3,1e4);async function c2(t,e,n){const s=Ld(t);lC(t,e,Fd);const r=qv(s,n);return new Qs(s,"signInViaPopup",e,r).executeNotNull()}class Qs extends Kv{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=$d();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,l2.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="pendingRedirect",xa=new Map;class h2 extends Kv{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xa.get(this.auth._key());if(!e){try{const s=await d2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xa.set(this.auth._key(),e)}return this.bypassAuthState||xa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(t,e){const n=g2(e),s=p2(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function f2(t,e){xa.set(t._key(),e)}function p2(t){return Bn(t._redirectPersistence)}function g2(t){return Ea(u2,t.config.apiKey,t.name)}async function m2(t,e,n=!1){const s=Ld(t),r=qv(s,e),o=await new h2(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=10*60*1e3;class v2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Gv(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(In(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(vg(e))}saveEventToCache(e){this.cachedEventUids.add(vg(e)),this.lastProcessedEventTime=Date.now()}}function vg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t,e={}){return tc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E2=/^https?/;async function x2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w2(t);for(const n of e)try{if(I2(n))return}catch{}Cn(t,"unauthorized-domain")}function I2(t){const e=Hu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!E2.test(n))return!1;if(b2.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Yo(3e4,6e4);function _g(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S2(t){return new Promise((e,n)=>{var s,r,i;function o(){_g(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_g(),n(In(t,"network-request-failed"))},timeout:T2.get()})}if(!((r=(s=Tn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=Tn().gapi)===null||i===void 0)&&i.load)o();else{const a=r2("iframefcb");return Tn()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},s2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ia=null,e})}let Ia=null;function k2(t){return Ia=Ia||S2(t),Ia}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Yo(5e3,15e3),A2="__/auth/iframe",D2="emulator/auth/iframe",M2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Od(e,D2):`https://${t.config.authDomain}/${A2}`,s={apiKey:e.apiKey,appName:t.name,v:Eo},r=R2.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${bo(s).slice(1)}`}async function N2(t){const e=await k2(t),n=Tn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:O2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M2,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Tn().setTimeout(()=>{i(o)},C2.get());function l(){Tn().clearTimeout(a),r(s)}s.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L2=500,F2=600,$2="_blank",U2="http://localhost";class wg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V2(t,e,n,s=L2,r=F2){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},P2),{width:s.toString(),height:r.toString(),top:i,left:o}),c=pt().toLowerCase();n&&(a=Dv(c)?$2:n),Av(c)&&(e=e||U2,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(AC(c)&&a!=="_self")return B2(e||"",a),new wg(null);const h=window.open(e||"",a,u);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new wg(h)}function B2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="__/auth/handler",H2="emulator/auth/handler";function bg(t,e,n,s,r,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Eo,eventId:r};if(e instanceof Fd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(i||{}))o[l]=c}if(e instanceof Wo){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${Y2(t)}?${bo(a).slice(1)}`}function Y2({config:t}){return t.emulator?Od(t,H2):`https://${t.authDomain}/${j2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jv,this._completeRedirectFn=m2,this._overrideRedirectResult=f2}async _openPopup(e,n,s,r){var i;Jn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=bg(e,n,s,Hu(),r);return V2(e,o,$d())}async _openRedirect(e,n,s,r){return await this._originValidation(e),zC(bg(e,n,s,Hu(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Jn(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await N2(e),s=new v2(e);return n.register("authEvent",r=>(ue(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qc,{type:qc},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[qc];o!==void 0&&n(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pv()||Pd()||nc()}}const z2=W2;var Eg="@firebase/auth",xg="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{var r;e(((r=s)===null||r===void 0?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function G2(t){Qr(new rr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=s.options;return((a,l)=>{ue(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),ue(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lv(t)},u=new OC(a,l,c);return uC(u,n),u})(s,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qr(new rr("auth-internal",e=>{const n=Ld(e.getProvider("auth").getImmediate());return(s=>new q2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Eg,xg,K2(t)),ws(Eg,xg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t=ry()){const e=Mh(t,"auth");return e.isInitialized()?e.getImmediate():cC(t,{popupRedirectResolver:z2,persistence:[t2,HC,jv]})}G2("Browser");const Q2={apiKey:"AIzaSyAStJCaI-NlxZufpRC-eiaGxTbDsOCETgk",authDomain:"moneylee.firebaseapp.com",projectId:"moneylee",storageBucket:"moneylee.appspot.com",messagingSenderId:"288288661557",appId:"1:288288661557:web:a6f75c19c60d2a1d36917c"},X2=new an,J2=Hx(Q2),Be=Uk(J2);cl();const Z2=d("h3",{class:"text-3xl font-medium text-gray-700"},"Dashboard",-1),eA=wh('<div class="mt-4"><div class="flex flex-wrap -mx-6"><div class="w-full px-6 sm:w-1/2 xl:w-1/3"><div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm"><div class="p-3 bg-indigo-600 bg-opacity-75 rounded-full"><svg class="w-8 h-8 text-white" viewBox="0 0 28 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.08889C18.2 11.5373 16.3196 13.5222 14 13.5222C11.6804 13.5222 9.79999 11.5373 9.79999 9.08889C9.79999 6.64043 11.6804 4.65556 14 4.65556C16.3196 4.65556 18.2 6.64043 18.2 9.08889Z" fill="currentColor"></path><path d="M25.2 12.0444C25.2 13.6768 23.9464 15 22.4 15C20.8536 15 19.6 13.6768 19.6 12.0444C19.6 10.4121 20.8536 9.08889 22.4 9.08889C23.9464 9.08889 25.2 10.4121 25.2 12.0444Z" fill="currentColor"></path><path d="M19.6 22.3889C19.6 19.1243 17.0927 16.4778 14 16.4778C10.9072 16.4778 8.39999 19.1243 8.39999 22.3889V26.8222H19.6V22.3889Z" fill="currentColor"></path><path d="M8.39999 12.0444C8.39999 13.6768 7.14639 15 5.59999 15C4.05359 15 2.79999 13.6768 2.79999 12.0444C2.79999 10.4121 4.05359 9.08889 5.59999 9.08889C7.14639 9.08889 8.39999 10.4121 8.39999 12.0444Z" fill="currentColor"></path><path d="M22.4 26.8222V22.3889C22.4 20.8312 22.0195 19.3671 21.351 18.0949C21.6863 18.0039 22.0378 17.9556 22.4 17.9556C24.7197 17.9556 26.6 19.9404 26.6 22.3889V26.8222H22.4Z" fill="currentColor"></path><path d="M6.64896 18.0949C5.98058 19.3671 5.59999 20.8312 5.59999 22.3889V26.8222H1.39999V22.3889C1.39999 19.9404 3.2804 17.9556 5.59999 17.9556C5.96219 17.9556 6.31367 18.0039 6.64896 18.0949Z" fill="currentColor"></path></svg></div><div class="mx-5"><h4 class="text-2xl font-semibold text-gray-700">8,282</h4><div class="text-gray-500">New Users</div></div></div></div><div class="w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 sm:mt-0"><div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm"><div class="p-3 bg-blue-600 bg-opacity-75 rounded-full"><svg class="w-8 h-8 text-white" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.19999 1.4C3.4268 1.4 2.79999 2.02681 2.79999 2.8C2.79999 3.57319 3.4268 4.2 4.19999 4.2H5.9069L6.33468 5.91114C6.33917 5.93092 6.34409 5.95055 6.34941 5.97001L8.24953 13.5705L6.99992 14.8201C5.23602 16.584 6.48528 19.6 8.97981 19.6H21C21.7731 19.6 22.4 18.9732 22.4 18.2C22.4 17.4268 21.7731 16.8 21 16.8H8.97983L10.3798 15.4H19.6C20.1303 15.4 20.615 15.1004 20.8521 14.6261L25.0521 6.22609C25.2691 5.79212 25.246 5.27673 24.991 4.86398C24.7357 4.45123 24.2852 4.2 23.8 4.2H8.79308L8.35818 2.46044C8.20238 1.83722 7.64241 1.4 6.99999 1.4H4.19999Z" fill="currentColor"></path><path d="M22.4 23.1C22.4 24.2598 21.4598 25.2 20.3 25.2C19.1403 25.2 18.2 24.2598 18.2 23.1C18.2 21.9402 19.1403 21 20.3 21C21.4598 21 22.4 21.9402 22.4 23.1Z" fill="currentColor"></path><path d="M9.1 25.2C10.2598 25.2 11.2 24.2598 11.2 23.1C11.2 21.9402 10.2598 21 9.1 21C7.9402 21 7 21.9402 7 23.1C7 24.2598 7.9402 25.2 9.1 25.2Z" fill="currentColor"></path></svg></div><div class="mx-5"><h4 class="text-2xl font-semibold text-gray-700">200,521</h4><div class="text-gray-500">Total Orders</div></div></div></div><div class="w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 xl:mt-0"><div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm"><div class="p-3 bg-pink-600 bg-opacity-75 rounded-full"><svg class="w-8 h-8 text-white" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 11.2H21L22.4 23.8H5.59998L6.99998 11.2Z" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path><path d="M9.79999 8.4C9.79999 6.08041 11.6804 4.2 14 4.2C16.3196 4.2 18.2 6.08041 18.2 8.4V12.6C18.2 14.9197 16.3196 16.8 14 16.8C11.6804 16.8 9.79999 14.9197 9.79999 12.6V8.4Z" stroke="currentColor" stroke-width="2"></path></svg></div><div class="mx-5"><h4 class="text-2xl font-semibold text-gray-700">215,542</h4><div class="text-gray-500">Available Products</div></div></div></div></div></div><div class="mt-8"></div>',2),tA={class:"flex flex-col mt-8"},nA={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},sA={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},rA={class:"min-w-full"},iA=d("thead",null,[d("tr",null,[d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Name "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Title "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Status "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Role "),d("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50"})])],-1),oA={class:"bg-white"},aA={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},lA={class:"flex items-center"},cA=d("div",{class:"flex-shrink-0 w-10 h-10"},[d("img",{class:"w-10 h-10 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})],-1),uA={class:"ml-4"},hA={class:"text-sm font-medium leading-5 text-gray-900"},dA={class:"text-sm leading-5 text-gray-500"},fA={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},pA={class:"text-sm leading-5 text-gray-900"},gA={class:"text-sm leading-5 text-gray-500"},mA={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},yA={class:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},vA={class:"px-6 py-4 text-sm leading-5 text-gray-500 border-b border-gray-200 whitespace-nowrap"},_A=d("td",{class:"px-6 py-4 text-sm font-medium leading-5 text-right border-b border-gray-200 whitespace-nowrap"},[d("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},"Edit")],-1),wA=ot({setup(t){const e={name:"John Doe",email:"john@example.com",title:"Software Engineer",title2:"Web dev",status:"Active",role:"Owner"},n=async()=>{try{const r=await nC(xn(Be,"users"),{first:"Ada",last:"Lovelace",born:1815});console.log("Document written with ID: ",r.id)}catch(r){console.error("Error adding document: ",r)}},s=ie([...Array(10).keys()].map(()=>e));return(r,i)=>(Q(),oe("div",null,[Z2,d("button",{onClick:n},"Add Data"),eA,d("div",tA,[d("div",nA,[d("div",sA,[d("table",rA,[iA,d("tbody",oA,[(Q(!0),oe(ze,null,Is(s.value,(o,a)=>(Q(),oe("tr",{key:a},[d("td",aA,[d("div",lA,[cA,d("div",uA,[d("div",hA,ye(o.name),1),d("div",dA,ye(o.email),1)])])]),d("td",fA,[d("div",pA,ye(o.title),1),d("div",gA,ye(o.title2),1)]),d("td",mA,[d("span",yA,ye(o.status),1)]),d("td",vA,ye(o.role),1),_A]))),128))])])])])])]))}});var bA=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Qv;const ic=t=>Qv=t,Xv=Symbol();function Wu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Wi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Wi||(Wi={}));function EA(){const t=Fg(!0),e=t.run(()=>ie({}));let n=[],s=[];const r=Wr({install(i){ic(r),r._a=i,i.provide(Xv,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!bA?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Jv=()=>{};function Ig(t,e,n,s=Jv){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Eh()&&mh(r),r}function Tr(t,...e){t.slice().forEach(n=>{n(...e)})}function zu(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Wu(r)&&Wu(s)&&t.hasOwnProperty(n)&&!et(s)&&!ys(s)?t[n]=zu(r,s):t[n]=s}return t}const xA=Symbol();function IA(t){return!Wu(t)||!t.hasOwnProperty(xA)}const{assign:Pn}=Object;function TA(t){return!!(et(t)&&t.effect)}function SA(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Bw(n.state.value[t]);return Pn(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Wr(vt(()=>{ic(n);const g=n._s.get(t);return o[f].call(g,g)})),h),{}))}return l=Zv(t,c,e,n,s,!0),l.$reset=function(){const h=r?r():{};this.$patch(f=>{Pn(f,h)})},l}function Zv(t,e,n={},s,r,i){let o;const a=Pn({actions:{}},n),l={deep:!0};let c,u,h=Wr([]),f=Wr([]),g;const y=s.state.value[t];!i&&!y&&(s.state.value[t]={}),ie({});let w;function _(b){let D;c=u=!1,typeof b=="function"?(b(s.state.value[t]),D={type:Wi.patchFunction,storeId:t,events:g}):(zu(s.state.value[t],b),D={type:Wi.patchObject,payload:b,storeId:t,events:g});const V=w=Symbol();fr().then(()=>{w===V&&(c=!0)}),u=!0,Tr(h,D,s.state.value[t])}const S=Jv;function L(){o.stop(),h=[],f=[],s._s.delete(t)}function q(b,D){return function(){ic(s);const V=Array.from(arguments),ee=[],we=[];function U(_e){ee.push(_e)}function be(_e){we.push(_e)}Tr(f,{args:V,name:b,store:F,after:U,onError:be});let se;try{se=D.apply(this&&this.$id===t?this:F,V)}catch(_e){throw Tr(we,_e),_e}return se instanceof Promise?se.then(_e=>(Tr(ee,_e),_e)).catch(_e=>(Tr(we,_e),Promise.reject(_e))):(Tr(ee,se),se)}}const Y={_p:s,$id:t,$onAction:Ig.bind(null,f),$patch:_,$reset:S,$subscribe(b,D={}){const V=Ig(h,b,D.detached,()=>ee()),ee=o.run(()=>Ni(()=>s.state.value[t],we=>{(D.flush==="sync"?u:c)&&b({storeId:t,type:Wi.direct,events:g},we)},Pn({},l,D)));return V},$dispose:L},F=li(Pn({},Y));s._s.set(t,F);const J=s._e.run(()=>(o=Fg(),o.run(()=>e())));for(const b in J){const D=J[b];if(et(D)&&!TA(D)||ys(D))i||(y&&IA(D)&&(et(D)?D.value=y[b]:zu(D,y[b])),s.state.value[t][b]=D);else if(typeof D=="function"){const V=q(b,D);J[b]=V,a.actions[b]=D}}return Pn(F,J),Pn(Me(F),J),Object.defineProperty(F,"$state",{get:()=>s.state.value[t],set:b=>{_(D=>{Pn(D,b)})}}),s._p.forEach(b=>{Pn(F,o.run(()=>b({store:F,app:s._a,pinia:s,options:a})))}),y&&i&&n.hydrate&&n.hydrate(F.$state,y),c=!0,u=!0,F}function oc(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,l){const c=Eh();return a=a||c&&hn(Xv),a&&ic(a),a=Qv,a._s.has(s)||(i?Zv(s,e,r,a):SA(s,r,a)),a._s.get(s)}return o.$id=s,o}const e_=oc("user",{state:()=>({user:{}}),getters:{},actions:{async save(t){this.user=t}}}),kA={class:"flex items-center justify-center h-screen px-6 bg-gray-200"},CA=d("div",{class:"flex items-center justify-center"},[d("span",{class:"text-2xl font-semibold text-gray-700"},"Moneylee")],-1),AA=ot({setup(t){const e=e_(),n=Al();ie("johndoe@mail.com"),ie("@#!@#asdf1231!_!@#"),As(()=>{const r=cl();$C(r,i=>{i&&(e.save(i),n.push("/dashboard"))})});function s(){const r=cl();c2(r,X2).then(i=>{const o=an.credentialFromResult(i);o==null||o.accessToken;const a=i.user;e.save(a),n.push("/dashboard")}).catch(i=>{i.code,i.message,i.customData.email,an.credentialFromError(i)})}return(r,i)=>(Q(),oe("div",kA,[d("div",{class:"w-full max-w-sm p-6 bg-white rounded-md shadow-md"},[CA,d("div",{class:"mt-6"},[d("button",{onClick:s,class:"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500"},"Login with Google")])])]))}});//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var t_;function R(){return t_.apply(null,arguments)}function DA(t){t_=t}function pn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function sr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vd(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Re(t,e))return!1;return!0}function Vt(t){return t===void 0}function Zn(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function qo(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function n_(t,e){var n=[],s,r=t.length;for(s=0;s<r;++s)n.push(e(t[s],s));return n}function ps(t,e){for(var n in e)Re(e,n)&&(t[n]=e[n]);return Re(e,"toString")&&(t.toString=e.toString),Re(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Dn(t,e,n,s){return S_(t,e,n,s,!0).utc()}function MA(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function pe(t){return t._pf==null&&(t._pf=MA()),t._pf}var qu;Array.prototype.some?qu=Array.prototype.some:qu=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function Bd(t){if(t._isValid==null){var e=pe(t),n=qu.call(e.parsedDateParts,function(r){return r!=null}),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s}return t._isValid}function ac(t){var e=Dn(NaN);return t!=null?ps(pe(e),t):pe(e).userInvalidated=!0,e}var Tg=R.momentProperties=[],Kc=!1;function jd(t,e){var n,s,r,i=Tg.length;if(Vt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Vt(e._i)||(t._i=e._i),Vt(e._f)||(t._f=e._f),Vt(e._l)||(t._l=e._l),Vt(e._strict)||(t._strict=e._strict),Vt(e._tzm)||(t._tzm=e._tzm),Vt(e._isUTC)||(t._isUTC=e._isUTC),Vt(e._offset)||(t._offset=e._offset),Vt(e._pf)||(t._pf=pe(e)),Vt(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)s=Tg[n],r=e[s],Vt(r)||(t[s]=r);return t}function Ko(t){jd(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Kc===!1&&(Kc=!0,R.updateOffset(this),Kc=!1)}function gn(t){return t instanceof Ko||t!=null&&t._isAMomentObject!=null}function s_(t){R.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function sn(t,e){var n=!0;return ps(function(){if(R.deprecationHandler!=null&&R.deprecationHandler(null,t),n){var s=[],r,i,o,a=arguments.length;for(i=0;i<a;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(o in arguments[0])Re(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}s_(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Sg={};function r_(t,e){R.deprecationHandler!=null&&R.deprecationHandler(t,e),Sg[t]||(s_(e),Sg[t]=!0)}R.suppressDeprecationWarnings=!1;R.deprecationHandler=null;function Mn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function RA(t){var e,n;for(n in t)Re(t,n)&&(e=t[n],Mn(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ku(t,e){var n=ps({},t),s;for(s in e)Re(e,s)&&(sr(t[s])&&sr(e[s])?(n[s]={},ps(n[s],t[s]),ps(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)Re(t,s)&&!Re(e,s)&&sr(t[s])&&(n[s]=ps({},n[s]));return n}function Hd(t){t!=null&&this.set(t)}var Gu;Object.keys?Gu=Object.keys:Gu=function(t){var e,n=[];for(e in t)Re(t,e)&&n.push(e);return n};var OA={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function NA(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return Mn(s)?s.call(e,n):s}function An(t,e,n){var s=""+Math.abs(t),r=e-s.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+s}var Yd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ua=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gc={},jr={};function X(t,e,n,s){var r=s;typeof s=="string"&&(r=function(){return this[s]()}),t&&(jr[t]=r),e&&(jr[e[0]]=function(){return An(r.apply(this,arguments),e[1],e[2])}),n&&(jr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function PA(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function LA(t){var e=t.match(Yd),n,s;for(n=0,s=e.length;n<s;n++)jr[e[n]]?e[n]=jr[e[n]]:e[n]=PA(e[n]);return function(r){var i="",o;for(o=0;o<s;o++)i+=Mn(e[o])?e[o].call(r,t):e[o];return i}}function Ta(t,e){return t.isValid()?(e=i_(e,t.localeData()),Gc[e]=Gc[e]||LA(e),Gc[e](t)):t.localeData().invalidDate()}function i_(t,e){var n=5;function s(r){return e.longDateFormat(r)||r}for(ua.lastIndex=0;n>=0&&ua.test(t);)t=t.replace(ua,s),ua.lastIndex=0,n-=1;return t}var FA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $A(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Yd).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var UA="Invalid date";function VA(){return this._invalidDate}var BA="%d",jA=/\d{1,2}/;function HA(t){return this._ordinal.replace("%d",t)}var YA={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function WA(t,e,n,s){var r=this._relativeTime[n];return Mn(r)?r(t,e,n,s):r.replace(/%d/i,t)}function zA(t,e){var n=this._relativeTime[t>0?"future":"past"];return Mn(n)?n(e):n.replace(/%s/i,e)}var zi={};function Dt(t,e){var n=t.toLowerCase();zi[n]=zi[n+"s"]=zi[e]=t}function rn(t){return typeof t=="string"?zi[t]||zi[t.toLowerCase()]:void 0}function Wd(t){var e={},n,s;for(s in t)Re(t,s)&&(n=rn(s),n&&(e[n]=t[s]));return e}var o_={};function Mt(t,e){o_[t]=e}function qA(t){var e=[],n;for(n in t)Re(t,n)&&e.push({unit:n,priority:o_[n]});return e.sort(function(s,r){return s.priority-r.priority}),e}function lc(t){return t%4===0&&t%100!==0||t%400===0}function en(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function xe(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=en(e)),n}function yi(t,e){return function(n){return n!=null?(a_(this,t,n),R.updateOffset(this,e),this):ul(this,t)}}function ul(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function a_(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&lc(t.year())&&t.month()===1&&t.date()===29?(n=xe(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),pc(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function KA(t){return t=rn(t),Mn(this[t])?this[t]():this}function GA(t,e){if(typeof t=="object"){t=Wd(t);var n=qA(t),s,r=n.length;for(s=0;s<r;s++)this[n[s].unit](t[n[s].unit])}else if(t=rn(t),Mn(this[t]))return this[t](e);return this}var l_=/\d/,Xt=/\d\d/,c_=/\d{3}/,zd=/\d{4}/,cc=/[+-]?\d{6}/,Ge=/\d\d?/,u_=/\d\d\d\d?/,h_=/\d\d\d\d\d\d?/,uc=/\d{1,3}/,qd=/\d{1,4}/,hc=/[+-]?\d{1,6}/,vi=/\d+/,dc=/[+-]?\d+/,QA=/Z|[+-]\d\d:?\d\d/gi,fc=/Z|[+-]\d\d(?::?\d\d)?/gi,XA=/[+-]?\d+(\.\d{1,3})?/,Go=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,hl;hl={};function B(t,e,n){hl[t]=Mn(e)?e:function(s,r){return s&&n?n:e}}function JA(t,e){return Re(hl,t)?hl[t](e._strict,e._locale):new RegExp(ZA(t))}function ZA(t){return Wt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,r,i){return n||s||r||i}))}function Wt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Qu={};function Le(t,e){var n,s=e,r;for(typeof t=="string"&&(t=[t]),Zn(e)&&(s=function(i,o){o[e]=xe(i)}),r=t.length,n=0;n<r;n++)Qu[t[n]]=s}function Qo(t,e){Le(t,function(n,s,r,i){r._w=r._w||{},e(n,r._w,r,i)})}function eD(t,e,n){e!=null&&Re(Qu,t)&&Qu[t](e,n._a,n,t)}var At=0,jn=1,bn=2,at=3,cn=4,Hn=5,Xs=6,tD=7,nD=8;function sD(t,e){return(t%e+e)%e}var nt;Array.prototype.indexOf?nt=Array.prototype.indexOf:nt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function pc(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=sD(e,12);return t+=(e-n)/12,n===1?lc(t)?29:28:31-n%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1});X("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});X("MMMM",0,0,function(t){return this.localeData().months(this,t)});Dt("month","M");Mt("month",8);B("M",Ge);B("MM",Ge,Xt);B("MMM",function(t,e){return e.monthsShortRegex(t)});B("MMMM",function(t,e){return e.monthsRegex(t)});Le(["M","MM"],function(t,e){e[jn]=xe(t)-1});Le(["MMM","MMMM"],function(t,e,n,s){var r=n._locale.monthsParse(t,s,n._strict);r!=null?e[jn]=r:pe(n).invalidMonth=t});var rD="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),d_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),f_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,iD=Go,oD=Go;function aD(t,e){return t?pn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||f_).test(e)?"format":"standalone"][t.month()]:pn(this._months)?this._months:this._months.standalone}function lD(t,e){return t?pn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[f_.test(e)?"format":"standalone"][t.month()]:pn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function cD(t,e,n){var s,r,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)i=Dn([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(r=nt.call(this._shortMonthsParse,o),r!==-1?r:null):(r=nt.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=nt.call(this._shortMonthsParse,o),r!==-1?r:(r=nt.call(this._longMonthsParse,o),r!==-1?r:null)):(r=nt.call(this._longMonthsParse,o),r!==-1?r:(r=nt.call(this._shortMonthsParse,o),r!==-1?r:null))}function uD(t,e,n){var s,r,i;if(this._monthsParseExact)return cD.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=Dn([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function p_(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=xe(e);else if(e=t.localeData().monthsParse(e),!Zn(e))return t}return n=Math.min(t.date(),pc(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function g_(t){return t!=null?(p_(this,t),R.updateOffset(this,!0),this):ul(this,"Month")}function hD(){return pc(this.year(),this.month())}function dD(t){return this._monthsParseExact?(Re(this,"_monthsRegex")||m_.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Re(this,"_monthsShortRegex")||(this._monthsShortRegex=iD),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function fD(t){return this._monthsParseExact?(Re(this,"_monthsRegex")||m_.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Re(this,"_monthsRegex")||(this._monthsRegex=oD),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function m_(){function t(o,a){return a.length-o.length}var e=[],n=[],s=[],r,i;for(r=0;r<12;r++)i=Dn([2e3,r]),e.push(this.monthsShort(i,"")),n.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(e.sort(t),n.sort(t),s.sort(t),r=0;r<12;r++)e[r]=Wt(e[r]),n[r]=Wt(n[r]);for(r=0;r<24;r++)s[r]=Wt(s[r]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}X("Y",0,0,function(){var t=this.year();return t<=9999?An(t,4):"+"+t});X(0,["YY",2],0,function(){return this.year()%100});X(0,["YYYY",4],0,"year");X(0,["YYYYY",5],0,"year");X(0,["YYYYYY",6,!0],0,"year");Dt("year","y");Mt("year",1);B("Y",dc);B("YY",Ge,Xt);B("YYYY",qd,zd);B("YYYYY",hc,cc);B("YYYYYY",hc,cc);Le(["YYYYY","YYYYYY"],At);Le("YYYY",function(t,e){e[At]=t.length===2?R.parseTwoDigitYear(t):xe(t)});Le("YY",function(t,e){e[At]=R.parseTwoDigitYear(t)});Le("Y",function(t,e){e[At]=parseInt(t,10)});function qi(t){return lc(t)?366:365}R.parseTwoDigitYear=function(t){return xe(t)+(xe(t)>68?1900:2e3)};var y_=yi("FullYear",!0);function pD(){return lc(this.year())}function gD(t,e,n,s,r,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,s,r,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,s,r,i,o),a}function yo(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function dl(t,e,n){var s=7+e-n,r=(7+yo(t,0,s).getUTCDay()-e)%7;return-r+s-1}function v_(t,e,n,s,r){var i=(7+n-s)%7,o=dl(t,s,r),a=1+7*(e-1)+i+o,l,c;return a<=0?(l=t-1,c=qi(l)+a):a>qi(t)?(l=t+1,c=a-qi(t)):(l=t,c=a),{year:l,dayOfYear:c}}function vo(t,e,n){var s=dl(t.year(),e,n),r=Math.floor((t.dayOfYear()-s-1)/7)+1,i,o;return r<1?(o=t.year()-1,i=r+zn(o,e,n)):r>zn(t.year(),e,n)?(i=r-zn(t.year(),e,n),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function zn(t,e,n){var s=dl(t,e,n),r=dl(t+1,e,n);return(qi(t)-s+r)/7}X("w",["ww",2],"wo","week");X("W",["WW",2],"Wo","isoWeek");Dt("week","w");Dt("isoWeek","W");Mt("week",5);Mt("isoWeek",5);B("w",Ge);B("ww",Ge,Xt);B("W",Ge);B("WW",Ge,Xt);Qo(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=xe(t)});function mD(t){return vo(t,this._week.dow,this._week.doy).week}var yD={dow:0,doy:6};function vD(){return this._week.dow}function _D(){return this._week.doy}function wD(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function bD(t){var e=vo(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}X("d",0,"do","day");X("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});X("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});X("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});X("e",0,0,"weekday");X("E",0,0,"isoWeekday");Dt("day","d");Dt("weekday","e");Dt("isoWeekday","E");Mt("day",11);Mt("weekday",11);Mt("isoWeekday",11);B("d",Ge);B("e",Ge);B("E",Ge);B("dd",function(t,e){return e.weekdaysMinRegex(t)});B("ddd",function(t,e){return e.weekdaysShortRegex(t)});B("dddd",function(t,e){return e.weekdaysRegex(t)});Qo(["dd","ddd","dddd"],function(t,e,n,s){var r=n._locale.weekdaysParse(t,s,n._strict);r!=null?e.d=r:pe(n).invalidWeekday=t});Qo(["d","e","E"],function(t,e,n,s){e[s]=xe(t)});function ED(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function xD(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Kd(t,e){return t.slice(e,7).concat(t.slice(0,e))}var ID="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),__="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),TD="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),SD=Go,kD=Go,CD=Go;function AD(t,e){var n=pn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Kd(n,this._week.dow):t?n[t.day()]:n}function DD(t){return t===!0?Kd(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function MD(t){return t===!0?Kd(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function RD(t,e,n){var s,r,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)i=Dn([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(r=nt.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=nt.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=nt.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=nt.call(this._weekdaysParse,o),r!==-1||(r=nt.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=nt.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=nt.call(this._shortWeekdaysParse,o),r!==-1||(r=nt.call(this._weekdaysParse,o),r!==-1)?r:(r=nt.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=nt.call(this._minWeekdaysParse,o),r!==-1||(r=nt.call(this._weekdaysParse,o),r!==-1)?r:(r=nt.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function OD(t,e,n){var s,r,i;if(this._weekdaysParseExact)return RD.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=Dn([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function ND(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=ED(t,this.localeData()),this.add(t-e,"d")):e}function PD(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function LD(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=xD(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function FD(t){return this._weekdaysParseExact?(Re(this,"_weekdaysRegex")||Gd.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Re(this,"_weekdaysRegex")||(this._weekdaysRegex=SD),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function $D(t){return this._weekdaysParseExact?(Re(this,"_weekdaysRegex")||Gd.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Re(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kD),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function UD(t){return this._weekdaysParseExact?(Re(this,"_weekdaysRegex")||Gd.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Re(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=CD),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gd(){function t(u,h){return h.length-u.length}var e=[],n=[],s=[],r=[],i,o,a,l,c;for(i=0;i<7;i++)o=Dn([2e3,1]).day(i),a=Wt(this.weekdaysMin(o,"")),l=Wt(this.weekdaysShort(o,"")),c=Wt(this.weekdays(o,"")),e.push(a),n.push(l),s.push(c),r.push(a),r.push(l),r.push(c);e.sort(t),n.sort(t),s.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Qd(){return this.hours()%12||12}function VD(){return this.hours()||24}X("H",["HH",2],0,"hour");X("h",["hh",2],0,Qd);X("k",["kk",2],0,VD);X("hmm",0,0,function(){return""+Qd.apply(this)+An(this.minutes(),2)});X("hmmss",0,0,function(){return""+Qd.apply(this)+An(this.minutes(),2)+An(this.seconds(),2)});X("Hmm",0,0,function(){return""+this.hours()+An(this.minutes(),2)});X("Hmmss",0,0,function(){return""+this.hours()+An(this.minutes(),2)+An(this.seconds(),2)});function w_(t,e){X(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}w_("a",!0);w_("A",!1);Dt("hour","h");Mt("hour",13);function b_(t,e){return e._meridiemParse}B("a",b_);B("A",b_);B("H",Ge);B("h",Ge);B("k",Ge);B("HH",Ge,Xt);B("hh",Ge,Xt);B("kk",Ge,Xt);B("hmm",u_);B("hmmss",h_);B("Hmm",u_);B("Hmmss",h_);Le(["H","HH"],at);Le(["k","kk"],function(t,e,n){var s=xe(t);e[at]=s===24?0:s});Le(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Le(["h","hh"],function(t,e,n){e[at]=xe(t),pe(n).bigHour=!0});Le("hmm",function(t,e,n){var s=t.length-2;e[at]=xe(t.substr(0,s)),e[cn]=xe(t.substr(s)),pe(n).bigHour=!0});Le("hmmss",function(t,e,n){var s=t.length-4,r=t.length-2;e[at]=xe(t.substr(0,s)),e[cn]=xe(t.substr(s,2)),e[Hn]=xe(t.substr(r)),pe(n).bigHour=!0});Le("Hmm",function(t,e,n){var s=t.length-2;e[at]=xe(t.substr(0,s)),e[cn]=xe(t.substr(s))});Le("Hmmss",function(t,e,n){var s=t.length-4,r=t.length-2;e[at]=xe(t.substr(0,s)),e[cn]=xe(t.substr(s,2)),e[Hn]=xe(t.substr(r))});function BD(t){return(t+"").toLowerCase().charAt(0)==="p"}var jD=/[ap]\.?m?\.?/i,HD=yi("Hours",!0);function YD(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var E_={calendar:OA,longDateFormat:FA,invalidDate:UA,ordinal:BA,dayOfMonthOrdinalParse:jA,relativeTime:YA,months:rD,monthsShort:d_,week:yD,weekdays:ID,weekdaysMin:TD,weekdaysShort:__,meridiemParse:jD},Xe={},Ti={},_o;function WD(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function kg(t){return t&&t.toLowerCase().replace("_","-")}function zD(t){for(var e=0,n,s,r,i;e<t.length;){for(i=kg(t[e]).split("-"),n=i.length,s=kg(t[e+1]),s=s?s.split("-"):null;n>0;){if(r=gc(i.slice(0,n).join("-")),r)return r;if(s&&s.length>=n&&WD(i,s)>=n-1)break;n--}e++}return _o}function qD(t){return t.match("^[^/\\\\]*$")!=null}function gc(t){var e=null,n;if(Xe[t]===void 0&&typeof Ca<"u"&&Ca&&Ca.exports&&qD(t))try{e=_o._abbr,n=require,n("./locale/"+t),Es(e)}catch{Xe[t]=null}return Xe[t]}function Es(t,e){var n;return t&&(Vt(e)?n=ts(t):n=Xd(t,e),n?_o=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),_o._abbr}function Xd(t,e){if(e!==null){var n,s=E_;if(e.abbr=t,Xe[t]!=null)r_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Xe[t]._config;else if(e.parentLocale!=null)if(Xe[e.parentLocale]!=null)s=Xe[e.parentLocale]._config;else if(n=gc(e.parentLocale),n!=null)s=n._config;else return Ti[e.parentLocale]||(Ti[e.parentLocale]=[]),Ti[e.parentLocale].push({name:t,config:e}),null;return Xe[t]=new Hd(Ku(s,e)),Ti[t]&&Ti[t].forEach(function(r){Xd(r.name,r.config)}),Es(t),Xe[t]}else return delete Xe[t],null}function KD(t,e){if(e!=null){var n,s,r=E_;Xe[t]!=null&&Xe[t].parentLocale!=null?Xe[t].set(Ku(Xe[t]._config,e)):(s=gc(t),s!=null&&(r=s._config),e=Ku(r,e),s==null&&(e.abbr=t),n=new Hd(e),n.parentLocale=Xe[t],Xe[t]=n),Es(t)}else Xe[t]!=null&&(Xe[t].parentLocale!=null?(Xe[t]=Xe[t].parentLocale,t===Es()&&Es(t)):Xe[t]!=null&&delete Xe[t]);return Xe[t]}function ts(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return _o;if(!pn(t)){if(e=gc(t),e)return e;t=[t]}return zD(t)}function GD(){return Gu(Xe)}function Jd(t){var e,n=t._a;return n&&pe(t).overflow===-2&&(e=n[jn]<0||n[jn]>11?jn:n[bn]<1||n[bn]>pc(n[At],n[jn])?bn:n[at]<0||n[at]>24||n[at]===24&&(n[cn]!==0||n[Hn]!==0||n[Xs]!==0)?at:n[cn]<0||n[cn]>59?cn:n[Hn]<0||n[Hn]>59?Hn:n[Xs]<0||n[Xs]>999?Xs:-1,pe(t)._overflowDayOfYear&&(e<At||e>bn)&&(e=bn),pe(t)._overflowWeeks&&e===-1&&(e=tD),pe(t)._overflowWeekday&&e===-1&&(e=nD),pe(t).overflow=e),t}var QD=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,XD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,JD=/Z|[+-]\d\d(?::?\d\d)?/,ha=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Qc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ZD=/^\/?Date\((-?\d+)/i,eM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,tM={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function x_(t){var e,n,s=t._i,r=QD.exec(s)||XD.exec(s),i,o,a,l,c=ha.length,u=Qc.length;if(r){for(pe(t).iso=!0,e=0,n=c;e<n;e++)if(ha[e][1].exec(r[1])){o=ha[e][0],i=ha[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(r[3]){for(e=0,n=u;e<n;e++)if(Qc[e][1].exec(r[3])){a=(r[2]||" ")+Qc[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(r[4])if(JD.exec(r[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),ef(t)}else t._isValid=!1}function nM(t,e,n,s,r,i){var o=[sM(t),d_.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function sM(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function rM(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function iM(t,e,n){if(t){var s=__.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(s!==r)return pe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function oM(t,e,n){if(t)return tM[t];if(e)return 0;var s=parseInt(n,10),r=s%100,i=(s-r)/100;return i*60+r}function I_(t){var e=eM.exec(rM(t._i)),n;if(e){if(n=nM(e[4],e[3],e[2],e[5],e[6],e[7]),!iM(e[1],n,t))return;t._a=n,t._tzm=oM(e[8],e[9],e[10]),t._d=yo.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),pe(t).rfc2822=!0}else t._isValid=!1}function aM(t){var e=ZD.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(x_(t),t._isValid===!1)delete t._isValid;else return;if(I_(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:R.createFromInputFallback(t)}R.createFromInputFallback=sn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Dr(t,e,n){return t!=null?t:e!=null?e:n}function lM(t){var e=new Date(R.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Zd(t){var e,n,s=[],r,i,o;if(!t._d){for(r=lM(t),t._w&&t._a[bn]==null&&t._a[jn]==null&&cM(t),t._dayOfYear!=null&&(o=Dr(t._a[At],r[At]),(t._dayOfYear>qi(o)||t._dayOfYear===0)&&(pe(t)._overflowDayOfYear=!0),n=yo(o,0,t._dayOfYear),t._a[jn]=n.getUTCMonth(),t._a[bn]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[at]===24&&t._a[cn]===0&&t._a[Hn]===0&&t._a[Xs]===0&&(t._nextDay=!0,t._a[at]=0),t._d=(t._useUTC?yo:gD).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[at]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(pe(t).weekdayMismatch=!0)}}function cM(t){var e,n,s,r,i,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,n=Dr(e.GG,t._a[At],vo(Ke(),1,4).year),s=Dr(e.W,1),r=Dr(e.E,1),(r<1||r>7)&&(l=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,c=vo(Ke(),i,o),n=Dr(e.gg,t._a[At],c.year),s=Dr(e.w,c.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+i,(e.e<0||e.e>6)&&(l=!0)):r=i),s<1||s>zn(n,i,o)?pe(t)._overflowWeeks=!0:l!=null?pe(t)._overflowWeekday=!0:(a=v_(n,s,r,i,o),t._a[At]=a.year,t._dayOfYear=a.dayOfYear)}R.ISO_8601=function(){};R.RFC_2822=function(){};function ef(t){if(t._f===R.ISO_8601){x_(t);return}if(t._f===R.RFC_2822){I_(t);return}t._a=[],pe(t).empty=!0;var e=""+t._i,n,s,r,i,o,a=e.length,l=0,c,u;for(r=i_(t._f,t._locale).match(Yd)||[],u=r.length,n=0;n<u;n++)i=r[n],s=(e.match(JA(i,t))||[])[0],s&&(o=e.substr(0,e.indexOf(s)),o.length>0&&pe(t).unusedInput.push(o),e=e.slice(e.indexOf(s)+s.length),l+=s.length),jr[i]?(s?pe(t).empty=!1:pe(t).unusedTokens.push(i),eD(i,s,t)):t._strict&&!s&&pe(t).unusedTokens.push(i);pe(t).charsLeftOver=a-l,e.length>0&&pe(t).unusedInput.push(e),t._a[at]<=12&&pe(t).bigHour===!0&&t._a[at]>0&&(pe(t).bigHour=void 0),pe(t).parsedDateParts=t._a.slice(0),pe(t).meridiem=t._meridiem,t._a[at]=uM(t._locale,t._a[at],t._meridiem),c=pe(t).era,c!==null&&(t._a[At]=t._locale.erasConvertYear(c,t._a[At])),Zd(t),Jd(t)}function uM(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function hM(t){var e,n,s,r,i,o,a=!1,l=t._f.length;if(l===0){pe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<l;r++)i=0,o=!1,e=jd({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],ef(e),Bd(e)&&(o=!0),i+=pe(e).charsLeftOver,i+=pe(e).unusedTokens.length*10,pe(e).score=i,a?i<s&&(s=i,n=e):(s==null||i<s||o)&&(s=i,n=e,o&&(a=!0));ps(t,n||e)}function dM(t){if(!t._d){var e=Wd(t._i),n=e.day===void 0?e.date:e.day;t._a=n_([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),Zd(t)}}function fM(t){var e=new Ko(Jd(T_(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function T_(t){var e=t._i,n=t._f;return t._locale=t._locale||ts(t._l),e===null||n===void 0&&e===""?ac({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),gn(e)?new Ko(Jd(e)):(qo(e)?t._d=e:pn(n)?hM(t):n?ef(t):pM(t),Bd(t)||(t._d=null),t))}function pM(t){var e=t._i;Vt(e)?t._d=new Date(R.now()):qo(e)?t._d=new Date(e.valueOf()):typeof e=="string"?aM(t):pn(e)?(t._a=n_(e.slice(0),function(n){return parseInt(n,10)}),Zd(t)):sr(e)?dM(t):Zn(e)?t._d=new Date(e):R.createFromInputFallback(t)}function S_(t,e,n,s,r){var i={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(sr(t)&&Vd(t)||pn(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=n,i._i=t,i._f=e,i._strict=s,fM(i)}function Ke(t,e,n,s){return S_(t,e,n,s,!1)}var gM=sn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:ac()}),mM=sn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ke.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:ac()});function k_(t,e){var n,s;if(e.length===1&&pn(e[0])&&(e=e[0]),!e.length)return Ke();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function yM(){var t=[].slice.call(arguments,0);return k_("isBefore",t)}function vM(){var t=[].slice.call(arguments,0);return k_("isAfter",t)}var _M=function(){return Date.now?Date.now():+new Date},Si=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wM(t){var e,n=!1,s,r=Si.length;for(e in t)if(Re(t,e)&&!(nt.call(Si,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<r;++s)if(t[Si[s]]){if(n)return!1;parseFloat(t[Si[s]])!==xe(t[Si[s]])&&(n=!0)}return!0}function bM(){return this._isValid}function EM(){return mn(NaN)}function mc(t){var e=Wd(t),n=e.year||0,s=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=wM(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+r+s*3+n*12,this._data={},this._locale=ts(),this._bubble()}function Sa(t){return t instanceof mc}function Xu(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function xM(t,e,n){var s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),i=0,o;for(o=0;o<s;o++)(n&&t[o]!==e[o]||!n&&xe(t[o])!==xe(e[o]))&&i++;return i+r}function C_(t,e){X(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+An(~~(n/60),2)+e+An(~~n%60,2)})}C_("Z",":");C_("ZZ","");B("Z",fc);B("ZZ",fc);Le(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=tf(fc,t)});var IM=/([\+\-]|\d\d)/gi;function tf(t,e){var n=(e||"").match(t),s,r,i;return n===null?null:(s=n[n.length-1]||[],r=(s+"").match(IM)||["-",0,0],i=+(r[1]*60)+xe(r[2]),i===0?0:r[0]==="+"?i:-i)}function nf(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(gn(t)||qo(t)?t.valueOf():Ke(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),R.updateOffset(n,!1),n):Ke(t).local()}function Ju(t){return-Math.round(t._d.getTimezoneOffset())}R.updateOffset=function(){};function TM(t,e,n){var s=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=tf(fc,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(r=Ju(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?M_(this,mn(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,R.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Ju(this)}function SM(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function kM(t){return this.utcOffset(0,t)}function CM(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ju(this),"m")),this}function AM(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=tf(QA,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function DM(t){return this.isValid()?(t=t?Ke(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function MM(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function RM(){if(!Vt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return jd(t,this),t=T_(t),t._a?(e=t._isUTC?Dn(t._a):Ke(t._a),this._isDSTShifted=this.isValid()&&xM(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function OM(){return this.isValid()?!this._isUTC:!1}function NM(){return this.isValid()?this._isUTC:!1}function A_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var PM=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,LM=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function mn(t,e){var n=t,s=null,r,i,o;return Sa(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Zn(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=PM.exec(t))?(r=s[1]==="-"?-1:1,n={y:0,d:xe(s[bn])*r,h:xe(s[at])*r,m:xe(s[cn])*r,s:xe(s[Hn])*r,ms:xe(Xu(s[Xs]*1e3))*r}):(s=LM.exec(t))?(r=s[1]==="-"?-1:1,n={y:Us(s[2],r),M:Us(s[3],r),w:Us(s[4],r),d:Us(s[5],r),h:Us(s[6],r),m:Us(s[7],r),s:Us(s[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=FM(Ke(n.from),Ke(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new mc(n),Sa(t)&&Re(t,"_locale")&&(i._locale=t._locale),Sa(t)&&Re(t,"_isValid")&&(i._isValid=t._isValid),i}mn.fn=mc.prototype;mn.invalid=EM;function Us(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Cg(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function FM(t,e){var n;return t.isValid()&&e.isValid()?(e=nf(e,t),t.isBefore(e)?n=Cg(t,e):(n=Cg(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function D_(t,e){return function(n,s){var r,i;return s!==null&&!isNaN(+s)&&(r_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=s,s=i),r=mn(n,s),M_(this,r,t),this}}function M_(t,e,n,s){var r=e._milliseconds,i=Xu(e._days),o=Xu(e._months);!t.isValid()||(s=s==null?!0:s,o&&p_(t,ul(t,"Month")+o*n),i&&a_(t,"Date",ul(t,"Date")+i*n),r&&t._d.setTime(t._d.valueOf()+r*n),s&&R.updateOffset(t,i||o))}var $M=D_(1,"add"),UM=D_(-1,"subtract");function R_(t){return typeof t=="string"||t instanceof String}function VM(t){return gn(t)||qo(t)||R_(t)||Zn(t)||jM(t)||BM(t)||t===null||t===void 0}function BM(t){var e=sr(t)&&!Vd(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,o=s.length;for(r=0;r<o;r+=1)i=s[r],n=n||Re(t,i);return e&&n}function jM(t){var e=pn(t),n=!1;return e&&(n=t.filter(function(s){return!Zn(s)&&R_(t)}).length===0),e&&n}function HM(t){var e=sr(t)&&!Vd(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<s.length;r+=1)i=s[r],n=n||Re(t,i);return e&&n}function YM(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function WM(t,e){arguments.length===1&&(arguments[0]?VM(arguments[0])?(t=arguments[0],e=void 0):HM(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ke(),s=nf(n,this).startOf("day"),r=R.calendarFormat(this,s)||"sameElse",i=e&&(Mn(e[r])?e[r].call(this,n):e[r]);return this.format(i||this.localeData().calendar(r,this,Ke(n)))}function zM(){return new Ko(this)}function qM(t,e){var n=gn(t)?t:Ke(t);return this.isValid()&&n.isValid()?(e=rn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function KM(t,e){var n=gn(t)?t:Ke(t);return this.isValid()&&n.isValid()?(e=rn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function GM(t,e,n,s){var r=gn(t)?t:Ke(t),i=gn(e)?e:Ke(e);return this.isValid()&&r.isValid()&&i.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(s[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function QM(t,e){var n=gn(t)?t:Ke(t),s;return this.isValid()&&n.isValid()?(e=rn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function XM(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function JM(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ZM(t,e,n){var s,r,i;if(!this.isValid())return NaN;if(s=nf(t,this),!s.isValid())return NaN;switch(r=(s.utcOffset()-this.utcOffset())*6e4,e=rn(e),e){case"year":i=ka(this,s)/12;break;case"month":i=ka(this,s);break;case"quarter":i=ka(this,s)/3;break;case"second":i=(this-s)/1e3;break;case"minute":i=(this-s)/6e4;break;case"hour":i=(this-s)/36e5;break;case"day":i=(this-s-r)/864e5;break;case"week":i=(this-s-r)/6048e5;break;default:i=this-s}return n?i:en(i)}function ka(t,e){if(t.date()<e.date())return-ka(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),r,i;return e-s<0?(r=t.clone().add(n-1,"months"),i=(e-s)/(s-r)):(r=t.clone().add(n+1,"months"),i=(e-s)/(r-s)),-(n+i)||0}R.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";R.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function eR(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function tR(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Ta(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Mn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ta(n,"Z")):Ta(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function nR(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,r,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+s+r+i)}function sR(t){t||(t=this.isUtc()?R.defaultFormatUtc:R.defaultFormat);var e=Ta(this,t);return this.localeData().postformat(e)}function rR(t,e){return this.isValid()&&(gn(t)&&t.isValid()||Ke(t).isValid())?mn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function iR(t){return this.from(Ke(),t)}function oR(t,e){return this.isValid()&&(gn(t)&&t.isValid()||Ke(t).isValid())?mn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function aR(t){return this.to(Ke(),t)}function O_(t){var e;return t===void 0?this._locale._abbr:(e=ts(t),e!=null&&(this._locale=e),this)}var N_=sn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function P_(){return this._locale}var fl=1e3,Hr=60*fl,pl=60*Hr,L_=(365*400+97)*24*pl;function Yr(t,e){return(t%e+e)%e}function F_(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-L_:new Date(t,e,n).valueOf()}function $_(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-L_:Date.UTC(t,e,n)}function lR(t){var e,n;if(t=rn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$_:F_,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Yr(e+(this._isUTC?0:this.utcOffset()*Hr),pl);break;case"minute":e=this._d.valueOf(),e-=Yr(e,Hr);break;case"second":e=this._d.valueOf(),e-=Yr(e,fl);break}return this._d.setTime(e),R.updateOffset(this,!0),this}function cR(t){var e,n;if(t=rn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$_:F_,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=pl-Yr(e+(this._isUTC?0:this.utcOffset()*Hr),pl)-1;break;case"minute":e=this._d.valueOf(),e+=Hr-Yr(e,Hr)-1;break;case"second":e=this._d.valueOf(),e+=fl-Yr(e,fl)-1;break}return this._d.setTime(e),R.updateOffset(this,!0),this}function uR(){return this._d.valueOf()-(this._offset||0)*6e4}function hR(){return Math.floor(this.valueOf()/1e3)}function dR(){return new Date(this.valueOf())}function fR(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function pR(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function gR(){return this.isValid()?this.toISOString():null}function mR(){return Bd(this)}function yR(){return ps({},pe(this))}function vR(){return pe(this).overflow}function _R(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr");X("NN",0,0,"eraAbbr");X("NNN",0,0,"eraAbbr");X("NNNN",0,0,"eraName");X("NNNNN",0,0,"eraNarrow");X("y",["y",1],"yo","eraYear");X("y",["yy",2],0,"eraYear");X("y",["yyy",3],0,"eraYear");X("y",["yyyy",4],0,"eraYear");B("N",sf);B("NN",sf);B("NNN",sf);B("NNNN",DR);B("NNNNN",MR);Le(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var r=n._locale.erasParse(t,s,n._strict);r?pe(n).era=r:pe(n).invalidEra=t});B("y",vi);B("yy",vi);B("yyy",vi);B("yyyy",vi);B("yo",RR);Le(["y","yy","yyy","yyyy"],At);Le(["yo"],function(t,e,n,s){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[At]=n._locale.eraYearOrdinalParse(t,r):e[At]=parseInt(t,10)});function wR(t,e){var n,s,r,i=this._eras||ts("en")._eras;for(n=0,s=i.length;n<s;++n){switch(typeof i[n].since){case"string":r=R(i[n].since).startOf("day"),i[n].since=r.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":r=R(i[n].until).startOf("day").valueOf(),i[n].until=r.valueOf();break}}return i}function bR(t,e,n){var s,r,i=this.eras(),o,a,l;for(t=t.toUpperCase(),s=0,r=i.length;s<r;++s)if(o=i[s].name.toUpperCase(),a=i[s].abbr.toUpperCase(),l=i[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[s];break;case"NNNN":if(o===t)return i[s];break;case"NNNNN":if(l===t)return i[s];break}else if([o,a,l].indexOf(t)>=0)return i[s]}function ER(t,e){var n=t.since<=t.until?1:-1;return e===void 0?R(t.since).year():R(t.since).year()+(e-t.offset)*n}function xR(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function IR(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function TR(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function SR(){var t,e,n,s,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=r[t].since<=r[t].until?1:-1,s=this.clone().startOf("day").valueOf(),r[t].since<=s&&s<=r[t].until||r[t].until<=s&&s<=r[t].since)return(this.year()-R(r[t].since).year())*n+r[t].offset;return this.year()}function kR(t){return Re(this,"_erasNameRegex")||rf.call(this),t?this._erasNameRegex:this._erasRegex}function CR(t){return Re(this,"_erasAbbrRegex")||rf.call(this),t?this._erasAbbrRegex:this._erasRegex}function AR(t){return Re(this,"_erasNarrowRegex")||rf.call(this),t?this._erasNarrowRegex:this._erasRegex}function sf(t,e){return e.erasAbbrRegex(t)}function DR(t,e){return e.erasNameRegex(t)}function MR(t,e){return e.erasNarrowRegex(t)}function RR(t,e){return e._eraYearOrdinalRegex||vi}function rf(){var t=[],e=[],n=[],s=[],r,i,o=this.eras();for(r=0,i=o.length;r<i;++r)e.push(Wt(o[r].name)),t.push(Wt(o[r].abbr)),n.push(Wt(o[r].narrow)),s.push(Wt(o[r].name)),s.push(Wt(o[r].abbr)),s.push(Wt(o[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100});X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function yc(t,e){X(0,[t,t.length],0,e)}yc("gggg","weekYear");yc("ggggg","weekYear");yc("GGGG","isoWeekYear");yc("GGGGG","isoWeekYear");Dt("weekYear","gg");Dt("isoWeekYear","GG");Mt("weekYear",1);Mt("isoWeekYear",1);B("G",dc);B("g",dc);B("GG",Ge,Xt);B("gg",Ge,Xt);B("GGGG",qd,zd);B("gggg",qd,zd);B("GGGGG",hc,cc);B("ggggg",hc,cc);Qo(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=xe(t)});Qo(["gg","GG"],function(t,e,n,s){e[s]=R.parseTwoDigitYear(t)});function OR(t){return U_.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function NR(t){return U_.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function PR(){return zn(this.year(),1,4)}function LR(){return zn(this.isoWeekYear(),1,4)}function FR(){var t=this.localeData()._week;return zn(this.year(),t.dow,t.doy)}function $R(){var t=this.localeData()._week;return zn(this.weekYear(),t.dow,t.doy)}function U_(t,e,n,s,r){var i;return t==null?vo(this,s,r).year:(i=zn(t,s,r),e>i&&(e=i),UR.call(this,t,e,n,s,r))}function UR(t,e,n,s,r){var i=v_(t,e,n,s,r),o=yo(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}X("Q",0,"Qo","quarter");Dt("quarter","Q");Mt("quarter",7);B("Q",l_);Le("Q",function(t,e){e[jn]=(xe(t)-1)*3});function VR(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}X("D",["DD",2],"Do","date");Dt("date","D");Mt("date",9);B("D",Ge);B("DD",Ge,Xt);B("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Le(["D","DD"],bn);Le("Do",function(t,e){e[bn]=xe(t.match(Ge)[0])});var V_=yi("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear");Dt("dayOfYear","DDD");Mt("dayOfYear",4);B("DDD",uc);B("DDDD",c_);Le(["DDD","DDDD"],function(t,e,n){n._dayOfYear=xe(t)});function BR(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}X("m",["mm",2],0,"minute");Dt("minute","m");Mt("minute",14);B("m",Ge);B("mm",Ge,Xt);Le(["m","mm"],cn);var jR=yi("Minutes",!1);X("s",["ss",2],0,"second");Dt("second","s");Mt("second",15);B("s",Ge);B("ss",Ge,Xt);Le(["s","ss"],Hn);var HR=yi("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)});X(0,["SS",2],0,function(){return~~(this.millisecond()/10)});X(0,["SSS",3],0,"millisecond");X(0,["SSSS",4],0,function(){return this.millisecond()*10});X(0,["SSSSS",5],0,function(){return this.millisecond()*100});X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Dt("millisecond","ms");Mt("millisecond",16);B("S",uc,l_);B("SS",uc,Xt);B("SSS",uc,c_);var gs,B_;for(gs="SSSS";gs.length<=9;gs+="S")B(gs,vi);function YR(t,e){e[Xs]=xe(("0."+t)*1e3)}for(gs="S";gs.length<=9;gs+="S")Le(gs,YR);B_=yi("Milliseconds",!1);X("z",0,0,"zoneAbbr");X("zz",0,0,"zoneName");function WR(){return this._isUTC?"UTC":""}function zR(){return this._isUTC?"Coordinated Universal Time":""}var A=Ko.prototype;A.add=$M;A.calendar=WM;A.clone=zM;A.diff=ZM;A.endOf=cR;A.format=sR;A.from=rR;A.fromNow=iR;A.to=oR;A.toNow=aR;A.get=KA;A.invalidAt=vR;A.isAfter=qM;A.isBefore=KM;A.isBetween=GM;A.isSame=QM;A.isSameOrAfter=XM;A.isSameOrBefore=JM;A.isValid=mR;A.lang=N_;A.locale=O_;A.localeData=P_;A.max=mM;A.min=gM;A.parsingFlags=yR;A.set=GA;A.startOf=lR;A.subtract=UM;A.toArray=fR;A.toObject=pR;A.toDate=dR;A.toISOString=tR;A.inspect=nR;typeof Symbol<"u"&&Symbol.for!=null&&(A[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});A.toJSON=gR;A.toString=eR;A.unix=hR;A.valueOf=uR;A.creationData=_R;A.eraName=xR;A.eraNarrow=IR;A.eraAbbr=TR;A.eraYear=SR;A.year=y_;A.isLeapYear=pD;A.weekYear=OR;A.isoWeekYear=NR;A.quarter=A.quarters=VR;A.month=g_;A.daysInMonth=hD;A.week=A.weeks=wD;A.isoWeek=A.isoWeeks=bD;A.weeksInYear=FR;A.weeksInWeekYear=$R;A.isoWeeksInYear=PR;A.isoWeeksInISOWeekYear=LR;A.date=V_;A.day=A.days=ND;A.weekday=PD;A.isoWeekday=LD;A.dayOfYear=BR;A.hour=A.hours=HD;A.minute=A.minutes=jR;A.second=A.seconds=HR;A.millisecond=A.milliseconds=B_;A.utcOffset=TM;A.utc=kM;A.local=CM;A.parseZone=AM;A.hasAlignedHourOffset=DM;A.isDST=MM;A.isLocal=OM;A.isUtcOffset=NM;A.isUtc=A_;A.isUTC=A_;A.zoneAbbr=WR;A.zoneName=zR;A.dates=sn("dates accessor is deprecated. Use date instead.",V_);A.months=sn("months accessor is deprecated. Use month instead",g_);A.years=sn("years accessor is deprecated. Use year instead",y_);A.zone=sn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",SM);A.isDSTShifted=sn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",RM);function qR(t){return Ke(t*1e3)}function KR(){return Ke.apply(null,arguments).parseZone()}function j_(t){return t}var Oe=Hd.prototype;Oe.calendar=NA;Oe.longDateFormat=$A;Oe.invalidDate=VA;Oe.ordinal=HA;Oe.preparse=j_;Oe.postformat=j_;Oe.relativeTime=WA;Oe.pastFuture=zA;Oe.set=RA;Oe.eras=wR;Oe.erasParse=bR;Oe.erasConvertYear=ER;Oe.erasAbbrRegex=CR;Oe.erasNameRegex=kR;Oe.erasNarrowRegex=AR;Oe.months=aD;Oe.monthsShort=lD;Oe.monthsParse=uD;Oe.monthsRegex=fD;Oe.monthsShortRegex=dD;Oe.week=mD;Oe.firstDayOfYear=_D;Oe.firstDayOfWeek=vD;Oe.weekdays=AD;Oe.weekdaysMin=MD;Oe.weekdaysShort=DD;Oe.weekdaysParse=OD;Oe.weekdaysRegex=FD;Oe.weekdaysShortRegex=$D;Oe.weekdaysMinRegex=UD;Oe.isPM=BD;Oe.meridiem=YD;function gl(t,e,n,s){var r=ts(),i=Dn().set(s,e);return r[n](i,t)}function H_(t,e,n){if(Zn(t)&&(e=t,t=void 0),t=t||"",e!=null)return gl(t,e,n,"month");var s,r=[];for(s=0;s<12;s++)r[s]=gl(t,s,n,"month");return r}function of(t,e,n,s){typeof t=="boolean"?(Zn(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Zn(e)&&(n=e,e=void 0),e=e||"");var r=ts(),i=t?r._week.dow:0,o,a=[];if(n!=null)return gl(e,(n+i)%7,s,"day");for(o=0;o<7;o++)a[o]=gl(e,(o+i)%7,s,"day");return a}function GR(t,e){return H_(t,e,"months")}function QR(t,e){return H_(t,e,"monthsShort")}function XR(t,e,n){return of(t,e,n,"weekdays")}function JR(t,e,n){return of(t,e,n,"weekdaysShort")}function ZR(t,e,n){return of(t,e,n,"weekdaysMin")}Es("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=xe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});R.lang=sn("moment.lang is deprecated. Use moment.locale instead.",Es);R.langData=sn("moment.langData is deprecated. Use moment.localeData instead.",ts);var On=Math.abs;function eO(){var t=this._data;return this._milliseconds=On(this._milliseconds),this._days=On(this._days),this._months=On(this._months),t.milliseconds=On(t.milliseconds),t.seconds=On(t.seconds),t.minutes=On(t.minutes),t.hours=On(t.hours),t.months=On(t.months),t.years=On(t.years),this}function Y_(t,e,n,s){var r=mn(e,n);return t._milliseconds+=s*r._milliseconds,t._days+=s*r._days,t._months+=s*r._months,t._bubble()}function tO(t,e){return Y_(this,t,e,1)}function nO(t,e){return Y_(this,t,e,-1)}function Ag(t){return t<0?Math.floor(t):Math.ceil(t)}function sO(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,r,i,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Ag(Zu(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,r=en(t/1e3),s.seconds=r%60,i=en(r/60),s.minutes=i%60,o=en(i/60),s.hours=o%24,e+=en(o/24),l=en(W_(e)),n+=l,e-=Ag(Zu(l)),a=en(n/12),n%=12,s.days=e,s.months=n,s.years=a,this}function W_(t){return t*4800/146097}function Zu(t){return t*146097/4800}function rO(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=rn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+W_(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Zu(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function iO(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+xe(this._months/12)*31536e6:NaN}function ns(t){return function(){return this.as(t)}}var oO=ns("ms"),aO=ns("s"),lO=ns("m"),cO=ns("h"),uO=ns("d"),hO=ns("w"),dO=ns("M"),fO=ns("Q"),pO=ns("y");function gO(){return mn(this)}function mO(t){return t=rn(t),this.isValid()?this[t+"s"]():NaN}function vr(t){return function(){return this.isValid()?this._data[t]:NaN}}var yO=vr("milliseconds"),vO=vr("seconds"),_O=vr("minutes"),wO=vr("hours"),bO=vr("days"),EO=vr("months"),xO=vr("years");function IO(){return en(this.days()/7)}var Ln=Math.round,Or={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function TO(t,e,n,s,r){return r.relativeTime(e||1,!!n,t,s)}function SO(t,e,n,s){var r=mn(t).abs(),i=Ln(r.as("s")),o=Ln(r.as("m")),a=Ln(r.as("h")),l=Ln(r.as("d")),c=Ln(r.as("M")),u=Ln(r.as("w")),h=Ln(r.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=s,TO.apply(null,f)}function kO(t){return t===void 0?Ln:typeof t=="function"?(Ln=t,!0):!1}function CO(t,e){return Or[t]===void 0?!1:e===void 0?Or[t]:(Or[t]=e,t==="s"&&(Or.ss=e-1),!0)}function AO(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=Or,r,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},Or,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),r=this.localeData(),i=SO(this,!n,s,r),n&&(i=r.pastFuture(+this,i)),r.postformat(i)}var Xc=Math.abs;function Sr(t){return(t>0)-(t<0)||+t}function vc(){if(!this.isValid())return this.localeData().invalidDate();var t=Xc(this._milliseconds)/1e3,e=Xc(this._days),n=Xc(this._months),s,r,i,o,a=this.asSeconds(),l,c,u,h;return a?(s=en(t/60),r=en(s/60),t%=60,s%=60,i=en(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Sr(this._months)!==Sr(a)?"-":"",u=Sr(this._days)!==Sr(a)?"-":"",h=Sr(this._milliseconds)!==Sr(a)?"-":"",l+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(r||s||t?"T":"")+(r?h+r+"H":"")+(s?h+s+"M":"")+(t?h+o+"S":"")):"P0D"}var Ce=mc.prototype;Ce.isValid=bM;Ce.abs=eO;Ce.add=tO;Ce.subtract=nO;Ce.as=rO;Ce.asMilliseconds=oO;Ce.asSeconds=aO;Ce.asMinutes=lO;Ce.asHours=cO;Ce.asDays=uO;Ce.asWeeks=hO;Ce.asMonths=dO;Ce.asQuarters=fO;Ce.asYears=pO;Ce.valueOf=iO;Ce._bubble=sO;Ce.clone=gO;Ce.get=mO;Ce.milliseconds=yO;Ce.seconds=vO;Ce.minutes=_O;Ce.hours=wO;Ce.days=bO;Ce.weeks=IO;Ce.months=EO;Ce.years=xO;Ce.humanize=AO;Ce.toISOString=vc;Ce.toString=vc;Ce.toJSON=vc;Ce.locale=O_;Ce.localeData=P_;Ce.toIsoString=sn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vc);Ce.lang=N_;X("X",0,0,"unix");X("x",0,0,"valueOf");B("x",dc);B("X",XA);Le("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Le("x",function(t,e,n){n._d=new Date(xe(t))});//! moment.js
R.version="2.29.3";DA(Ke);R.fn=A;R.min=yM;R.max=vM;R.now=_M;R.utc=Dn;R.unix=qR;R.months=GR;R.isDate=qo;R.locale=Es;R.invalid=ac;R.duration=mn;R.isMoment=gn;R.weekdays=XR;R.parseZone=KR;R.localeData=ts;R.isDuration=Sa;R.monthsShort=QR;R.weekdaysMin=ZR;R.defineLocale=Xd;R.updateLocale=KD;R.locales=GD;R.weekdaysShort=JR;R.normalizeUnits=rn;R.relativeTimeRounding=kO;R.relativeTimeThreshold=CO;R.calendarFormat=YM;R.prototype=A;R.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Ht(t){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0)}function _c(t){const e=new Date().valueOf().toString();return`${t}_${e}`}const _i=oc("category",{state:()=>({categories:ie([])}),getters:{getCategory(t){return e=>t.categories.find(n=>n._id===e)},getCategoriesPicklist(t){return t.categories.flatMap(e=>e.isActive&&e.parentId?{label:e.name,value:e._id}:[])}},actions:{async load(){const t=await Un(xn(Be,"categories"));this.categories=[],t.forEach(e=>{this.categories.push(e.data())})},async getOrAddCategory(t){try{if(t._id)t=this.categories[this.categories.findIndex(e=>e._id===t._id)];else{t={...t,_id:_c("category"),isActive:!0};try{await jo(kt(Be,"categories",t._id),t),this.categories.push(t)}catch(e){console.error("Error adding document: ",e)}}return t}catch(e){console.log(e)}},async updateCategory(t){if(!t._id)return;const e=this.categories.findIndex(s=>s._id===t._id),n={...this.categories[e],...t};try{await po(kt(Be,"categories",n._id),n),this.categories[e]=n}catch(s){console.error("Error updating document: ",s)}},async delete(t){const e=this.categories.findIndex(n=>n._id===t);try{const n=this.categories[e];await Dd(kt(Be,"categories",n._id)),this.categories.splice(e,1)}catch(n){console.error("Error adding document: ",n)}}}}),DO=["onKeyup"],MO={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md"},RO=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),OO={class:"px-6 py-4 text-left modal-content"},NO={class:"flex items-center justify-between pb-3"},PO={class:"text-2xl font-bold"},LO=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),FO=[LO],$O=["onKeydown"],UO=ot({props:{options:null},emits:["close-modal","save"],setup(t,{emit:e}){const{options:n}=t,s=_i();let r=ie({});const i=ie(),o=ie(),a=()=>{e("close-modal")},l=async()=>{try{const u={...r.value,name:i.value};if(n.parentId&&(u.parentId=n.parentId),!await s.getOrAddCategory(u))return;n.categoryId&&await s.updateCategory(u),e("save"),a()}catch(u){console.log(u)}},c=async()=>{try{const u=s.categories.find(h=>h._id===n.categoryId);u&&await s.updateCategory({...u,isActive:!1}),e("save"),a()}catch(u){console.log(u)}};return As(()=>{if(n.categoryId){const u=s.categories.find(h=>h._id===n.categoryId);u&&(r.value=u,i.value=u.name)}fr(()=>{o&&o.value&&o.value.focus()})}),(u,h)=>(Q(),oe("div",{class:Tt("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:[Kt(a,["esc"]),Kt(l,["enter"])]},[d("div",{onClick:a,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",MO,[RO,d("div",OO,[d("div",NO,[d("p",PO,ye(t.options.parentId?"New":"Edit")+" Category",1),d("div",{class:"z-50 cursor-pointer modal-close",onClick:a},FO)]),ln(d("input",{type:"text",ref_key:"modalInput",ref:o,"onUpdate:modelValue":h[0]||(h[0]=f=>i.value=f),onKeydown:Kt(Fm(l,["stop"]),["enter"]),class:"form-input w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,40,$O),[[zs,i.value]]),d("div",{class:"flex justify-between pt-2"},[d("button",{onClick:c,class:"px-4 py-2 text-sm mr-2 text-red-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-red-400 focus:outline-none"}," Hide "),d("div",{class:"flex justify-end"},[d("button",{onClick:a,class:"px-4 py-2 text-sm mr-2 text-indigo-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none"}," Close "),d("button",{onClick:l,class:"px-4 py-2 text-sm font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Save ")])])])])],40,DO))}}),VO={class:"w-5/12 px-2 py-2 border-b border-gray-200 whitespace-nowrap text-left"},BO={class:"flex items-center"},jO={class:"px-2 pr-6"},HO={class:"text-sm font-medium leading-5 text-gray-700"},YO={class:"w-min px-2 py-2 border-b border-gray-200 whitespace-nowrap text-right"},WO=["onKeypress","onKeydown"],zO={class:"w-min px-2 py-2 border-b border-gray-200 whitespace-nowrap text-right"},qO={class:"inline-flex px-2 text-xs font-semibold leading-5 text-red-800 bg-red-100 rounded-full"},KO={class:"w-min px-2 py-2 border-b border-gray-200 whitespace-nowrap text-right"},GO=ot({props:["row"],emits:["update-category","row-select","save"],setup(t,{emit:e}){const{row:n}=t,s={...n},r=ie(),i=ie(!1),o=h=>{e("row-select",n,h.target.checked)},a=()=>{e("update-category")},l=()=>{i.value=!0,fr(()=>{r&&r.value&&r.value.focus()})},c=async()=>{const h=await Un(rl(xn(Be,"budgetRows"),Ur("budgetId","==",n.budgetId),Ur("categoryId","==",n.categoryId),Xk(1)));if(h.docs.length){const f=h.docs[0].data();await po(kt(Be,"budgetRows",f._id),{budgeted:s.budgeted})}else{const f=_c("budgetRow");await jo(kt(Be,"budgetRows",f),{_id:f,...s})}e("save"),i.value=!1},u=()=>{i.value=!1};return(h,f)=>{var g;return Q(),oe("tr",null,[d("td",VO,[d("div",BO,[d("div",jO,[d("input",{type:"checkbox","aria-label":"budget row checkbox",onChange:f[0]||(f[0]=y=>o(y))},null,32)]),d("div",HO,[d("span",{onClick:a,class:"hover:underline hover:cursor-pointer"},ye((g=t.row.category)==null?void 0:g.name),1)])])]),d("td",YO,[i.value?Gn("",!0):(Q(),oe("span",{key:0,onClick:l,class:"inline-flex px-2 text-xs font-semibold leading-5 text-indigo-800 bg-indigo-100 rounded-full"},ye(ce(Ht)(t.row.budgeted)),1)),i.value?ln((Q(),oe("input",{key:1,onFocus:f[1]||(f[1]=y=>y.target.select()),onKeypress:Kt(c,["enter"]),onKeydown:Kt(u,["esc"]),ref_key:"budgetedInput",ref:r,type:"number","onUpdate:modelValue":f[2]||(f[2]=y=>ce(s).budgeted=y),class:"w-20 h-6 text-xs font-semibold leading-5 text-indigo-800 bg-indigo-100 border-indigo-200 rounded-full"},null,40,WO)),[[zs,ce(s).budgeted]]):Gn("",!0)]),d("td",zO,[d("span",qO,ye(ce(Ht)(t.row.activity)),1)]),d("td",KO,[d("span",{class:Tt(["inline-flex px-2 text-xs font-semibold leading-5 rounded-full",t.row.balance<0?"text-red-800 bg-red-100":"text-green-800 bg-green-100"])},ye(ce(Ht)(t.row.balance)),3)])])}}}),_r=oc("account",{state:()=>({accountTypes:[{label:"Checking",value:"Checking"},{label:"Credit Card",value:"Credit Card"},{label:"Saving",value:"Saving"},{label:"Mortgage",value:"Mortgage"},{label:"Cash",value:"Cash"},{label:"Investiment",value:"Investiment"},{label:"Other",value:"Other"}],accounts:[]}),getters:{getAccount(t){return e=>t.accounts.find(n=>n._id===e)},getAccountsPicklist(t){return t.accounts.flatMap(e=>e.status==="Active"?{label:e.name,value:e._id}:[])},getSummaryValues(){return t=>{const n=Xo().getTransactionsByAccountId(t),s=n==null?void 0:n.filter(a=>a.cleared),r=n==null?void 0:n.filter(a=>!a.cleared),i=s==null?void 0:s.reduce((a,l)=>a+(l.inflow-l.outflow),0),o=r==null?void 0:r.reduce((a,l)=>a+(l.inflow-l.outflow),0);return{cleared:i||0,uncleared:o||0,total:(i||0)+(o||0)}}}},actions:{async load(){const t=await Un(xn(Be,"accounts"));this.accounts=[],t.forEach(e=>{this.accounts.push(e.data())})},async save(t){if(t._id){const e=this.accounts.findIndex(s=>s._id===t._id),n={...this.accounts[e],...t};await po(kt(Be,"accounts",n._id),n),this.accounts.splice(e,1,n)}else try{const e={_id:_c("account"),...t};await jo(kt(Be,"accounts",e._id),e),this.accounts.push(e)}catch(e){console.error("Error adding document: ",e)}},async delete(t){const e=this.accounts.findIndex(n=>n._id===t);try{const n=this.accounts[e];await Dd(kt(Be,"accounts",t)),this.accounts.splice(e,1)}catch(n){console.error("Error adding document: ",n)}}}}),Xo=oc("transaction",{state:()=>({transactions:[]}),getters:{getTransactionsByAccountId(t){const e=_i(),n=_r();return s=>t.transactions.filter(r=>r.accountId===s).map(r=>(r.accountId&&(r.account=n.getAccount(r.accountId)),r.categoryId&&(r.category=e.getCategory(r.categoryId)),r))},getTransactionsByMonth(t){return(e,n)=>t.transactions.filter(s=>{const r=R(s.date);return r.month()===e&&r.year()===n})}},actions:{async load(){const t=await Un(xn(Be,"transactions"));this.transactions=[],t.forEach(e=>{this.transactions.push(e.data())})},async save(t){const e=R(t.date);if(t={...t,day:e.date(),month:e.month(),year:e.year()},t._id){const n=this.transactions.findIndex(r=>r._id===t._id),s={...this.transactions[n],...t};await po(kt(Be,"transactions",s._id),s),this.transactions.splice(n,1,s)}else{const n={_id:_c("transaction"),...t};await jo(kt(Be,"transactions",n._id),n),this.transactions.push(n)}},async bulkSave(t){try{const e=rC(Be);t.forEach(n=>{const s=kt(Be,"transactions",n._id);e.update(s,{...n})}),await e.commit()}catch{}},async clear(t,e){const n=this.transactions.find(s=>s._id===t);if(n)try{n.cleared=e,await po(kt(Be,"transactions",n._id),n)}catch(s){console.error("Error adding document: ",s)}},async delete(t){const e=this.transactions.findIndex(n=>n._id===t);try{await Dd(kt(Be,"transactions",t)),this.transactions.splice(e,1)}catch(n){console.error("Error adding document: ",n)}}}}),QO={class:"flex justify-between"},XO={class:"w-full sm:w-1/1 xl:w-3/3"},JO={class:"flex justify-between px-5 py-6 bg-white rounded-md shadow-sm"},ZO={class:"flex items-center"},eN=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),tN=[eN],nN={class:"mx-5 flex flex-col justify-center items-center"},sN={class:"text-2xl font-semibold text-gray-700"},rN={class:"text-gray-500"},iN=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1),oN=[iN],aN={class:"flex self-end"},lN={class:"flex flex-col items-center mx-2"},cN={class:"rounded-full px-2 py-1"},uN=d("div",{class:"text-xs text-gray-500"},"Not budgeted last month",-1),hN={class:"flex flex-col items-center mx-2"},dN={class:"rounded-full px-2 py-1"},fN=d("div",{class:"text-xs text-gray-500"},"Overspent last month",-1),pN={class:"flex flex-col items-center mx-2"},gN={class:"rounded-full px-2 py-1"},mN=d("div",{class:"text-xs text-gray-500"},"Income this month",-1),yN={class:"flex flex-col items-center mx-2"},vN={class:"rounded-full px-2 py-1"},_N=d("div",{class:"text-xs text-gray-500"},"Budgeted this month",-1),wN={class:"flex flex-col items-center mx-2"},bN={class:"text-xs text-gray-500"},EN={class:"flex flex-col mt-6"},xN={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},IN={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},TN={class:"min-w-full table-auto"},SN={class:"flex items-center w-full px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"},kN=d("div",null,"Category",-1),CN=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),AN=[CN],DN=d("th",{class:"w-min px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Budgeted ",-1),MN=d("th",{class:"w-min px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Activity ",-1),RN=d("th",{class:"w-min px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Balance ",-1),ON={class:"bg-white"},NN={class:"bg-slate-100"},PN={class:"w-auto px-2 py-2 border-b border-gray-200 whitespace-nowrap text-left",colspan:"4"},LN={class:"flex justify-between"},FN={class:"flex items-center"},$N=["onClick"],UN={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 hover:fill-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},VN=d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1),BN=[VN],jN={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},HN=d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1),YN=[HN],WN={class:"text-sm font-bold leading-5 text-gray-900"},zN=["onClick"],qN={class:"px-2"},KN=["onClick"],GN=d("span",{class:"text-xs text-center"},"+ sub category",-1),QN=[GN],XN=ot({setup(t){const e=_i();Xo();const n=ie([]),s=ie(),r=ie(),i=ie(new Date().getMonth()),o=ie(new Date().getFullYear()),a=ie(),l=vt(()=>R().month(i.value).format("MMMM")),c=vt(()=>R().year(o.value).format("YYYY")),u=vt(()=>{var U;let b=0,D=0,V=0,ee=0,we=0;return a.value&&(b=a.value.reduce((be,se)=>be+(se.inflow||0),0)),(U=s.value)!=null&&U.rows&&(D=s.value.rows.flatMap(se=>se.children).reduce((se,_e)=>se+(_e.budgeted||0),0)),r.value&&(ee=r.value.income-r.value.budgeted,we=r.value.budgeted-r.value.outflow),V=ee+we+b-D,{income:b,budgeted:D,available:V,notBudgetLastMonth:ee,overspentLastMonth:we}}),h=async(b,D)=>{var ee,we;const V=await tC(kt(Be,"budgets",`budget_${D}_${b}`));if(V.exists())s.value=V.data();else try{s.value=await g(b,D)}catch(U){console.error("Error adding budget: ",U)}if(s.value&&s.value._id){const U=e.categories.filter(de=>de.isActive);let be=[];for(const de of U){const Te={budgetId:s.value._id,category:de,categoryId:de._id,children:[],budgeted:0,activity:0,balance:0};if(de.parentId){let ge=be.find(Ze=>Ze.categoryId===de.parentId);ge||(ge={...Te,categoryId:de.parentId,category:U.find(Ze=>Ze._id===de.parentId)},be.push(ge)),ge.children.push(Te)}else be.find(Ze=>Ze.categoryId===de._id)||be.push(Te)}s.value.rows=be;const se=await Un(rl(xn(Be,"budgetRows"),Ur("budgetId","==",s.value._id)));for(const de of se.docs){const Te=de.data();s.value.rows.forEach(ge=>{ge.children.forEach(Ze=>{Ze.categoryId===Te.categoryId&&(Ze.budgeted+=Te.budgeted,Ze.balance==0&&(Ze.balance=Te.budgeted))})})}const _e=await Un(rl(xn(Be,"transactions"),Ur("month","==",(ee=s.value)==null?void 0:ee.month),Ur("year","==",(we=s.value)==null?void 0:we.year)));a.value=[..._e.docs.map(de=>de.data())];for(const de of a.value)s.value.rows.forEach(Te=>{Te.children.forEach(ge=>{ge.categoryId===de.categoryId&&(ge.activity+=de.inflow-de.outflow,ge.balance+=ge.activity)})})}f()},f=async()=>{if(s.value){const D=(await Un(xn(Be,"transactions"))).docs.map(se=>se.data()).filter(se=>s.value&&R([se.year,se.month])<=R([s.value.year,s.value.month]).subtract(1,"month")),V=D.reduce((se,_e)=>se+(_e.inflow||0),0),ee=D.reduce((se,_e)=>se+(_e.outflow||0),0),be=(await Un(xn(Be,"budgetRows"))).docs.map(se=>se.data()).filter(se=>{var _e;return se.budgetId<((_e=s.value)==null?void 0:_e._id)}).reduce((se,_e)=>se+(_e.budgeted||0),0);r.value={income:V,outflow:ee,budgeted:be}}},g=async(b,D)=>{console.info("Creating budget ...");try{const V=`budget_${D}_${b}`,ee={_id:V,month:b,year:D};return await jo(kt(Be,"budgets",V),ee),ee}catch(V){console.error("Error adding document: ",V)}},y=b=>{const V=R([o.value,i.value]).add(b,"month");i.value=V.month(),o.value=V.year(),h(V.month(),V.year())};let w={};const _=b=>{var D;b&&(w.parentId=b),w.budgetId=(D=s.value)==null?void 0:D._id,w.categoryId=void 0,Y.value=!0},S=b=>{var D,V;b.categoryId&&(w.categoryId=b.categoryId,w.budgetId=(D=s.value)==null?void 0:D._id,w.parentId=(V=b.category)==null?void 0:V.parentId,Y.value=!0)},L=()=>{w.parentId=void 0,y(0)},q=(b,D)=>{console.log(b,D),D?n.value.push(b):n.value.splice(n.value.findIndex(V=>V._id===b._id),1)};vt(()=>n.value.reduce((b,D)=>({budgeted:b.budgeted+(D.budgeted||0),activity:b.activity+(D.activity||0),balance:b.balance+(D.balance||0)}),{budgeted:0,activity:0,balance:0}));const Y=ie(!1);ie(!1),ie(),ie();let F=ie({});const J=()=>{F.value={name:"",isActive:!0},Y.value=!1};return As(()=>{y(0)}),(b,D)=>{var V;return Q(),oe(ze,null,[Y.value?(Q(),Kn(UO,{key:0,options:ce(w),onCloseModal:J,onSave:L},null,8,["options"])):Gn("",!0),d("div",QO,[d("div",XO,[d("div",JO,[d("div",ZO,[d("button",{class:"px-2 h-10 w-10 rounded-full hover:bg-gray-100",onClick:D[0]||(D[0]=ee=>y(-1))},tN),d("div",nN,[d("h4",sN,ye(ce(l)),1),d("div",rN,ye(ce(c)),1)]),d("button",{class:"px-2 h-10 w-10 rounded-full hover:bg-gray-100",onClick:D[1]||(D[1]=ee=>y(1))},oN)]),d("div",aN,[d("div",lN,[d("div",cN,ye(ce(Ht)(ce(u).notBudgetLastMonth)),1),uN]),d("div",hN,[d("div",dN,ye(ce(Ht)(ce(u).overspentLastMonth)),1),fN]),d("div",pN,[d("div",gN,ye(ce(Ht)(ce(u).income)),1),mN]),d("div",yN,[d("div",vN,ye(ce(Ht)(ce(u).budgeted)),1),_N]),d("div",wN,[d("div",{class:Tt(["text-bold rounded-full px-2 py-1",ce(u).available<0?"text-red-800 bg-red-100":"text-green-800 bg-green-100"])},ye(ce(Ht)(ce(u).available)),3),d("div",bN,ye((ce(u).available||0)>=0?"Available to budget":"Overbudgeted"),1)])])])])]),d("div",EN,[d("div",xN,[d("div",IN,[d("table",TN,[d("thead",null,[d("tr",null,[d("th",SN,[kN,d("button",{class:"pl-2 brightness-150",onClick:D[2]||(D[2]=ee=>_(null))},AN)]),DN,MN,RN])]),d("tbody",ON,[(Q(!0),oe(ze,null,Is((V=s.value)==null?void 0:V.rows,(ee,we)=>{var U,be;return Q(),oe(ze,{key:we},[d("tr",NN,[d("td",PN,[d("div",LN,[d("div",FN,[d("div",{class:"px-2 cursor-pointer",onClick:se=>ee.isCollapsed=!ee.isCollapsed},[ee.isCollapsed?(Q(),oe("svg",UN,BN)):(Q(),oe("svg",jN,YN))],8,$N),d("div",WN,[d("span",{onClick:se=>S(ee),class:"hover:underline hover:cursor-pointer"},ye((U=ee.category)==null?void 0:U.name),9,zN)])]),d("div",null,[d("div",qN,[d("button",{class:"px-2 rounded opacity-20 hover:opacity-60",onClick:se=>{var _e;return _((_e=ee.category)==null?void 0:_e._id)}},QN,8,KN)])])])])]),((be=ee.children)==null?void 0:be.length)&&!ee.isCollapsed?(Q(!0),oe(ze,{key:0},Is(ee.children,(se,_e)=>(Q(),Kn(GO,{key:`${se.categoryId}_${se.budgetId}`,row:se,onUpdateCategory:de=>S(se),onRowSelect:q,onSave:D[3]||(D[3]=de=>y(0))},null,8,["row","onUpdateCategory"]))),128)):Gn("",!0)],64)}),128))])])])])])],64)}}}),JN={class:"block my-2"},ZN={class:"block mb-1 text-sm font-medium text-slate-700"},e4=["type","value"],t4=ot({props:["type","label","modelValue"],emits:["update:modelValue"],setup(t){return(e,n)=>(Q(),oe("label",JN,[d("span",ZN,ye(t.label),1),d("input",{type:t.type,value:t.modelValue,onInput:n[0]||(n[0]=s=>e.$emit("update:modelValue",s.target.value||"")),class:"form-input w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,40,e4)]))}}),n4=["onKeyup"],s4={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md"},r4=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),i4={class:"px-6 py-4 text-left modal-content"},o4={class:"flex items-center justify-between pb-3"},a4={class:"text-2xl font-bold"},l4=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),c4=[l4],u4={class:"block my-2"},h4=d("span",{class:"block mb-1 text-sm font-medium text-slate-700"},"Name",-1),d4={class:"block my-2"},f4=d("span",{class:"block mb-1 text-sm font-medium text-slate-700"},"Type",-1),p4=["value"],g4={class:"block my-2"},m4=d("span",{class:"block mb-1 text-sm font-medium text-slate-700"},"Status",-1),y4=d("option",{value:"Active"},"Active",-1),v4=d("option",{value:"Inactive"},"Inactive",-1),_4=[y4,v4],w4=ot({props:{account:null},emits:["close-modal"],setup(t,{emit:e}){const{account:n}=t,s=_r(),r=ie(n),i=ie(),o=()=>{e("close-modal")},a=vt(()=>n&&!!n._id),l=()=>{s.save({...n,...r.value}),o()},c=()=>{s.delete(n._id),o()};return As(()=>{fr(()=>{i&&i.value&&i.value.focus()})}),(u,h)=>(Q(),oe("div",{class:Tt("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:Kt(o,["esc"])},[d("div",{onClick:o,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",s4,[r4,d("div",i4,[d("div",o4,[d("p",a4,ye(ce(a)?"Edit":"New")+" Account",1),d("div",{class:"z-50 cursor-pointer modal-close",onClick:o},c4)]),d("form",null,[d("label",u4,[h4,ln(d("input",{type:"text",ref_key:"labelInput",ref:i,"onUpdate:modelValue":h[0]||(h[0]=f=>r.value.name=f),class:"form-input w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,512),[[zs,r.value.name]])]),d("label",d4,[f4,ln(d("select",{type:"text","onUpdate:modelValue":h[1]||(h[1]=f=>r.value.type=f),class:"form-select w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},[(Q(!0),oe(ze,null,Is(ce(s).accountTypes,(f,g)=>(Q(),oe("option",{value:f.value,key:f.value},ye(f.label),9,p4))),128))],512),[[Hf,r.value.type]])]),d("label",g4,[m4,ln(d("select",{type:"text","onUpdate:modelValue":h[2]||(h[2]=f=>r.value.status=f),class:"form-select w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},_4,512),[[Hf,r.value.status]])]),je(t4,{type:"number",label:"Starting balance",modelValue:r.value.balance,"onUpdate:modelValue":h[3]||(h[3]=f=>r.value.balance=f)},null,8,["modelValue"])]),d("div",{class:"flex justify-between pt-2"},[d("button",{onClick:c,class:"px-4 py-2 text-sm mr-2 text-red-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-red-400 focus:outline-none"}," Delete "),d("div",{class:"flex justify-end"},[d("button",{onClick:o,class:"px-4 py-2 text-sm mr-2 text-indigo-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none"}," Close "),d("button",{onClick:l,class:"px-4 py-2 text-sm font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Save ")])])])])],40,n4))}}),b4=d("h3",{class:"text-gray-700 text-3xl font-medium"},"Accounts",-1),E4={class:"mt-8"},x4={class:"flex flex-col mt-6"},I4={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},T4={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},S4={class:"min-w-full"},k4=d("thead",null,[d("tr",null,[d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Name "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Type "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Status "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Balance "),d("th",{class:"px-6 py-3 bg-gray-100 border-b border-gray-200"})])],-1),C4={class:"bg-white"},A4={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},D4={class:"flex items-center"},M4={class:"text-sm font-medium leading-5 text-gray-900"},R4=["onClick"],O4={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},N4={class:"text-sm leading-5 text-gray-900"},P4={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},L4={class:"px-6 py-4 text-sm leading-5 text-gray-500 border-b border-gray-200 whitespace-nowrap"},F4={class:"px-6 py-4 text-sm font-medium leading-5 text-right border-b border-gray-200 whitespace-nowrap"},$4=["onClick"],U4=ot({setup(t){const e=_r(),n=ie(!1),s=Al(),r={name:"",type:"",on_budget:!0,status:"Active",balance:0},i=ie(r),o=c=>{s.push({name:"AccountDetail",params:{id:c}})},a=()=>{i.value={...r},n.value=!0},l=c=>{i.value={...r,...c},n.value=!0};return(c,u)=>(Q(),oe(ze,null,[n.value?(Q(),Kn(w4,{key:0,account:i.value,onCloseModal:u[0]||(u[0]=h=>n.value=!1)},null,8,["account"])):Gn("",!0),d("div",{class:"flex justify-between full-width"},[b4,d("button",{onClick:a,class:"px-4 py-2 text-gray-200 bg-blue-800 rounded-md hover:bg-blue-700 focus:outline-none focus:bg-blue-700"}," New account ")]),d("div",E4,[d("div",x4,[d("div",I4,[d("div",T4,[d("table",S4,[k4,d("tbody",C4,[(Q(!0),oe(ze,null,Is(ce(e).accounts,(h,f)=>(Q(),oe("tr",{key:f},[d("td",A4,[d("div",D4,[d("div",M4,[d("span",{onClick:g=>o(h._id),class:"hover:underline hover:cursor-pointer"},ye(h.name),9,R4)])])]),d("td",O4,[d("div",N4,ye(h.type),1)]),d("td",P4,[d("span",{class:Tt(["inline-flex px-2 text-xs font-semibold leading-5 rounded-full",h.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},ye(h.status),3)]),d("td",L4,ye(ce(Ht)(h.balance)),1),d("td",F4,[d("button",{href:"#",class:"text-indigo-600 hover:text-indigo-900",onClick:g=>l(h)},"Edit",8,$4)])]))),128))])])])])])])],64))}}),V4=["onKeyup"],B4={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"#aaa"},j4=d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1),H4=[j4],Y4={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"#aaa"},W4=d("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),z4=[W4],q4=["value","onClick"],Dg=ot({props:["options","value"],emits:["select"],setup(t,{expose:e,emit:n}){const{options:s,value:r}=t,i=ie(!1),o=ie(s.find(f=>f.value===r)||{label:"Select a value",value:null}),a=f=>{o.value=f,i.value=!1,n("select",f.value)},l=()=>{i.value=!1},c=()=>{i.value=!i.value},u=f=>{f.target.focus()};return e({clearSelection:()=>{o.value={label:"Select a value",value:null}}}),(f,g)=>(Q(),oe("div",{id:"context",tabindex:"0",class:"menu relative text-sm cursor-pointer hover:bg-slate-50 rounded border-b-2 border-gray-300",onClick:g[0]||(g[0]=y=>u(y)),onKeyup:Kt(l,["esc"])},[d("div",{id:"context-menu",onClick:c,class:"w-full flex justify-between items-center p-2"},[d("span",null,ye(o.value.label),1),i.value?(Q(),oe("svg",Y4,z4)):(Q(),oe("svg",B4,H4))]),i.value?(Q(),oe("div",{key:0,id:"context-options",class:Tt(["options menu w-full fixed bg-white mt-2 rounded shadow-lg",o.value.value?"":"text-gray-500"])},[d("ul",null,[(Q(!0),oe(ze,null,Is(t.options,y=>(Q(),oe("li",{tabindex:"1",value:y.value,key:y.value,onClick:w=>a(y),class:"text-sm cursor-pointer p-3 hover:bg-slate-100 rounded"},ye(y.label),9,q4))),128))])],2)):Gn("",!0)],40,V4))}}),K4=["onKeydown"],G4={key:0,class:"text-center"},Q4=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),X4=[Q4],J4=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Z4=[J4],z_=ot({props:["transaction","accountId","hideSaveButton"],emits:["add-transaction","cancel"],setup(t,{emit:e}){const{transaction:n,accountId:s,hideSaveButton:r}=t,i=ie(),o=ie(),a=Xo(),l=_i(),c=_r(),u=ie(!1),h=ie(!r),f={date:R().format("YYYY-MM-DD"),day:new Date().getDay(),month:new Date().getMonth(),year:new Date().getFullYear(),accountId:s,categoryId:"",inflow:0,outflow:0,cleared:!1},g=ie(n||{...f}),y=async()=>{await a.save(g.value),e("add-transaction"),L(),q()},w=()=>{u.value=!1,e("cancel")},_=Y=>{g.value.categoryId=Y},S=Y=>{g.value.accountId=Y},L=()=>{g.value={...f},o&&o.value&&o.value.clearSelection()},q=()=>{i&&i.value&&i.value.focus()};return As(()=>{fr(()=>{q()})}),(Y,F)=>(Q(),oe("tr",{onKeydown:[Kt(w,["esc"]),Kt(Fm(y,["stop"]),["enter"])]},[d("td",null,[ln(d("input",{type:"date",ref_key:"dateInput",ref:i,"onUpdate:modelValue":F[0]||(F[0]=J=>g.value.date=J),class:"w-full text-sm leading-0 border-0 border-b-2 border-gray-300",placeholder:"Select date"},null,512),[[zs,g.value.date]])]),d("td",null,[je(Dg,{options:ce(c).getAccountsPicklist,value:g.value.accountId,onSelect:S},null,8,["options","value"])]),d("td",null,[ln(d("input",{type:"text",ref:"labelInput","onUpdate:modelValue":F[1]||(F[1]=J=>g.value.memo=J),class:"w-full text-sm leading-0 border-0 border-b-2 border-gray-300"},null,512),[[zs,g.value.memo]])]),d("td",null,[je(Dg,{ref_key:"categoryInput",ref:o,options:ce(l).getCategoriesPicklist,value:g.value.categoryId,onSelect:_},null,8,["options","value"])]),d("td",null,[ln(d("input",{type:"number","onUpdate:modelValue":F[2]||(F[2]=J=>g.value.inflow=J),class:"w-full text-sm text-right leading-0 border-0 border-b-2 border-gray-300"},null,512),[[zs,g.value.inflow]])]),d("td",null,[ln(d("input",{type:"number","onUpdate:modelValue":F[3]||(F[3]=J=>g.value.outflow=J),class:"w-full text-sm text-right leading-0 border-0 border-b-2 border-gray-300"},null,512),[[zs,g.value.outflow]])]),h.value?(Q(),oe("td",G4,[d("button",{onClick:w,class:"px-2 py-1 text-xs rounded text-red-400 hover:bg-gray-50"},X4),d("button",{onClick:y,class:"px-2 py-1 text-xs rounded text-teal-400 hover:bg-gray-50"},Z4)])):Gn("",!0)],40,K4))}}),eP=["onKeyup"],tP={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-4xl"},nP=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),sP={class:"px-6 py-4 text-left modal-content"},rP=d("p",{class:"text-2xl font-bold"},"Mass Edit",-1),iP=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),oP=[iP],aP={class:"min-full"},lP=ot({props:{transactions:null},emits:["close-modal","save"],setup(t,{emit:e}){const{transactions:n}=t,s=Xo(),r=ie([...n]),i=()=>{e("close-modal")},o=()=>{s.bulkSave(r.value),e("save"),i()};return(a,l)=>(Q(),oe("div",{class:Tt("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:Kt(i,["esc"])},[d("div",{onClick:i,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",tP,[nP,d("div",sP,[d("div",{class:"flex items-center justify-between pb-3"},[rP,d("div",{class:"z-50 cursor-pointer modal-close",onClick:i},oP)]),d("table",aP,[d("tbody",null,[(Q(!0),oe(ze,null,Is(r.value,c=>(Q(),oe("div",{key:c._id,class:"my-2"},[je(z_,{transaction:c,class:"w-full","hide-save-button":"true"},null,8,["transaction"])]))),128))])]),d("div",{class:"flex justify-end pt-2"},[d("button",{onClick:o,class:"px-4 py-2 text-sm font-sm tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Save ")])])])],40,eP))}}),cP={class:"flex flex-col"},uP={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},hP={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},dP={class:"min-w-full"},fP=d("thead",null,[d("tr",null,[d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Date "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Account "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Memo "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Category "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Inflow "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Outflow "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-center text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Cleared ")])],-1),pP={class:"bg-white"},gP={key:0,class:"text-center bg-gray-100 text-gray-400 text-sm"},mP={key:1,class:"",colspan:"8"},yP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),d("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1),vP=d("span",{class:"ml-1"},"Edit",-1),_P=[yP,vP],wP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})],-1),bP=d("span",{class:"ml-1"},"Clear",-1),EP=[wP,bP],xP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),IP=d("span",{class:"ml-1"},"Unclear",-1),TP=[xP,IP],SP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),kP=d("span",{class:"ml-1"},"Delete",-1),CP=[SP,kP],AP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},DP={class:"flex items-center"},MP=["onChange"],RP={class:"text-sm font-medium leading-5 text-gray-900"},OP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},NP={class:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},PP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},LP={class:"text-sm leading-5 text-gray-900"},FP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},$P={class:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},UP={class:"py-2 text-sm leading-5 text-right text-green-700 border-b border-gray-200 whitespace-nowrap"},VP={class:"py-2 text-sm leading-5 text-right text-red-500 border-b border-gray-200 whitespace-nowrap"},BP={class:"py-2 text-sm leading-5 text-center border-b border-gray-200 whitespace-nowrap"},jP=["onClick"],HP={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"#03a1fc"},YP=d("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1),WP=[YP],zP={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#ddd","stroke-width":"2"},qP=d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"},null,-1),KP=[qP],GP=ot({props:{accountId:null},emits:["update"],setup(t,{emit:e}){const{accountId:n}=t,s=Xo();_r(),_i();const r=ie(s.getTransactionsByAccountId(n)),i={date:R().format("YYYY-MM-DD"),day:R().date(),month:R().month(),year:R().year(),accountId:n,inflow:0,outflow:0,cleared:!1},o=ie(),a=ie(!1),l=ie([]),c=ie(!1),u=async()=>{const F=await Un(rl(xn(Be,"transactions"),Ur("accountId","==",n)));r.value=[...F.docs.map(J=>J.data())]},h=()=>{u(),e("update")},f=()=>{o.value={...i},a.value=!0},g=F=>{s.clear(F._id,!F.cleared),e("update")},y=(F,J)=>{J.target.checked?(Y(),l.value.push(F)):l.value.splice(l.value.findIndex(D=>D._id===F._id),1)},w=()=>{l.value.forEach(async F=>{await s.delete(F._id);const J=r.value.findIndex(b=>b._id===F._id);r.value.splice(J,1)}),q(),u()},_=()=>{l.value.forEach(F=>{s.clear(F._id,!0)}),e("update"),q()},S=()=>{l.value.forEach(F=>{s.clear(F._id,!1)}),e("update"),q()},L=()=>{c.value=!0},q=()=>{var F;l.value=[],(F=document.querySelectorAll("input[type=checkbox]"))==null||F.forEach(J=>{J.checked=!1})},Y=()=>{a.value=!1};return As(()=>{u()}),(F,J)=>(Q(),oe(ze,null,[c.value?(Q(),Kn(lP,{key:0,transactions:l.value,onSave:h,onCloseModal:J[0]||(J[0]=b=>c.value=!1),onKeydown:J[1]||(J[1]=Kt(b=>c.value=!1,["esc"]))},null,8,["transactions"])):Gn("",!0),d("div",cP,[d("div",uP,[d("div",hP,[d("table",dP,[fP,d("tbody",pP,[a.value?(Q(),Kn(z_,{key:1,onKeydown:Kt(Y,["esc"]),"account-id":t.accountId,onCancel:Y,onAddTransaction:h,"hide-save-button":!1},null,8,["onKeydown","account-id"])):(Q(),oe("tr",gP,[l.value.length?(Q(),oe("td",mP,[d("div",{class:"w-full sm:w-1/1 xl:w-3/3 px-1 flex justify-between items-center"},[d("div",{class:"flex"},[d("button",{onClick:L,class:"text-blue-600 hover:text-blue-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},_P),d("button",{onClick:_,class:"text-blue-600 hover:text-blue-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},EP),d("button",{onClick:S,class:"text-purple-600 hover:text-purple-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},TP)]),d("button",{onClick:w,class:"text-red-600 hover:text-red-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},CP)])])):(Q(),oe("td",{key:0,onClick:f,class:"py-2 hover:text-bold",colspan:"8"}," + Transaction"))])),(Q(!0),oe(ze,null,Is(r.value,(b,D)=>{var V,ee;return Q(),oe("tr",{key:D},[d("td",AP,[d("div",DP,[d("input",{class:"mr-4 ml-2 border-gray-300 rounded",type:"checkbox",onChange:we=>y(b,we)},null,40,MP),d("div",RP,ye(ce(R)(b.date).format("DD/MM/YYYY")),1)])]),d("td",OP,[d("span",NP,ye((V=b.account)==null?void 0:V.name),1)]),d("td",PP,[d("div",LP,ye(b.memo),1)]),d("td",FP,[d("span",$P,ye((ee=b.category)==null?void 0:ee.name),1)]),d("td",UP,ye(ce(Ht)(b.inflow)),1),d("td",VP,ye(ce(Ht)(b.outflow)),1),d("td",BP,[d("button",{onClick:we=>g(b)},[b.cleared?(Q(),oe("svg",HP,WP)):(Q(),oe("svg",zP,KP))],8,jP)])])}),128))])])])])])],64))}}),QP=["onKeyup"],XP={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md"},JP=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),ZP={class:"px-6 py-4 text-left modal-content"},eL=d("p",{class:"text-2xl font-bold"},"Import",-1),tL=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),nL=[tL],sL=d("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"file_input"},"Select your OFX or CSV file",-1),rL=ot({props:{accountId:null},emits:["close-modal"],setup(t,{emit:e}){ie();const n=ie(),s=o=>{const a=o.target.files[0],l=new FileReader;a&&(a.name.includes(".csv")&&(l.onload=c=>{var u;n.value=(u=c==null?void 0:c.target)==null?void 0:u.result},l.onerror=c=>console.log(c),l.readAsText(a)),console.log(n.value))},r=()=>{},i=()=>{e("close-modal")};return(o,a)=>(Q(),oe("div",{class:Tt("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:Kt(i,["esc"])},[d("div",{onClick:i,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",XP,[JP,d("div",ZP,[d("div",{class:"flex items-center justify-between pb-3"},[eL,d("div",{class:"z-50 cursor-pointer modal-close",onClick:i},nL)]),d("div",null,[sL,d("input",{onChange:a[0]||(a[0]=l=>s(l)),class:"block w-full text-sm text-gray-900 bg-gray-50 border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"file_input",type:"file"},null,32)]),d("div",{class:"flex justify-end pt-2"},[d("button",{onClick:r,class:"px-4 py-2 text-sm font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Import ")])])])],40,QP))}}),iL={class:"flex justify-between mb-2"},oL={class:"w-full sm:w-1/1 xl:w-3/3"},aL={class:"flex justify-between px-5 py-6 bg-white rounded-md shadow-sm"},lL={class:"mx-5"},cL={class:"text-2xl font-semibold text-gray-700"},uL={class:"text-gray-500 flex justify-between items-center"},hL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),dL=d("span",{class:"ml-1"},"Import",-1),fL=[hL,dL],pL={class:"flex"},gL={class:"mx-5"},mL={class:"text-2xl font-semibold text-gray-700"},yL=d("div",{class:"text-gray-500"},"Cleared",-1),vL=d("div",{class:"mx-5"},[d("h4",{class:"text-2xl text-gray-400"},"+")],-1),_L={class:"mx-5"},wL={class:"text-2xl font-semibold text-gray-700"},bL=d("div",{class:"text-gray-500"},"Uncleared",-1),EL=d("div",{class:"mx-5"},[d("h4",{class:"text-2xl text-gray-400"},"=")],-1),xL={class:"mx-5"},IL={class:"text-2xl font-semibold text-gray-700"},TL=d("div",{class:"text-gray-500"},"Total",-1),SL=ot({setup(t){const n=DE().params.id,s=_r(),r=ie(s.getSummaryValues(n)),i=ie(s.getAccount(n)),o=ie(!1),a=()=>{r.value=s.getSummaryValues(n)},l=()=>{o.value=!0};return(c,u)=>{var h,f,g,y,w;return Q(),oe(ze,null,[o.value?(Q(),Kn(rL,{key:0,"account-id":ce(n)},null,8,["account-id"])):Gn("",!0),d("div",iL,[d("div",oL,[d("div",aL,[d("div",lL,[d("h4",cL,ye((h=i.value)==null?void 0:h.name),1),d("div",uL,[Dm(ye((f=i.value)==null?void 0:f.type)+" ",1),d("button",{onClick:l,class:"text-sm ml-2 text-gray-300 hover:text-gray-800 p-2 hover:bg-gray-50 rounded-md flex justify-between items-center"},fL)])]),d("div",pL,[d("div",gL,[d("h4",mL,ye(ce(Ht)((g=r.value)==null?void 0:g.cleared)),1),yL]),vL,d("div",_L,[d("h4",wL,ye(ce(Ht)((y=r.value)==null?void 0:y.uncleared)),1),bL]),EL,d("div",xL,[d("h4",IL,ye(ce(Ht)((w=r.value)==null?void 0:w.total)),1),TL])])])])]),je(GP,{"account-id":ce(n),onUpdate:a},null,8,["account-id"])],64)}}}),kL=[{path:"/",name:"Login",component:AA,meta:{layout:"empty"}},{path:"/dashboard",name:"Dashboard",component:wA},{path:"/budget",name:"Budget",component:XN},{path:"/accounts",name:"Accounts",component:U4},{path:"/accounts/:id",name:"AccountDetail",component:SL,strict:!0}],q_=CE({history:Yb(),routes:kL}),CL=ie(!1);function K_(){return{isOpen:CL}}const AL={class:"flex"},DL=wh('<div class="flex items-center justify-center mt-8"><div class="flex items-center"><svg class="w-12 h-12" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M364.61 390.213C304.625 450.196 207.37 450.196 147.386 390.213C117.394 360.22 102.398 320.911 102.398 281.6C102.398 242.291 117.394 202.981 147.386 172.989C147.386 230.4 153.6 281.6 230.4 307.2C230.4 256 256 102.4 294.4 76.7999C320 128 334.618 142.997 364.608 172.989C394.601 202.981 409.597 242.291 409.597 281.6C409.597 320.911 394.601 360.22 364.61 390.213Z" fill="#4C51BF" stroke="#4C51BF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M201.694 387.105C231.686 417.098 280.312 417.098 310.305 387.105C325.301 372.109 332.8 352.456 332.8 332.8C332.8 313.144 325.301 293.491 310.305 278.495C295.309 263.498 288 256 275.2 230.4C256 243.2 243.201 320 243.201 345.6C201.694 345.6 179.2 332.8 179.2 332.8C179.2 352.456 186.698 372.109 201.694 387.105Z" fill="white"></path></svg><span class="mx-2 text-2xl font-semibold text-white">Moneylee</span></div></div>',1),ML={class:"mt-10"},RL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),OL=d("span",{class:"mx-4"},"Dashboard",-1),NL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1),PL=d("span",{class:"mx-4"},"Budget",-1),LL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),d("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),d("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})],-1),FL=d("span",{class:"mx-4"},"Accounts",-1),$L=ot({setup(t){const{isOpen:e}=K_(),n=ie("bg-gray-600 bg-opacity-25 text-gray-100 border-gray-100"),s=ie("border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100");return(r,i)=>{const o=Tm("router-link");return Q(),oe("div",AL,[d("div",{class:Tt([ce(e)?"block":"hidden","fixed inset-0 z-20 transition-opacity bg-black opacity-50 lg:hidden"]),onClick:i[0]||(i[0]=a=>e.value=!1)},null,2),d("div",{class:Tt([ce(e)?"translate-x-0 ease-out":"-translate-x-full ease-in","fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 transform bg-gray-900 lg:translate-x-0 lg:static lg:inset-0"])},[DL,d("nav",ML,[je(o,{class:Tt(["flex items-center px-6 py-2 mt-4 duration-200 border-l-4",[r.$route.name==="Dashboard"?n.value:s.value]]),to:"/dashboard"},{default:Lr(()=>[RL,OL]),_:1},8,["class"]),je(o,{class:Tt(["flex items-center px-6 py-2 mt-4 duration-200 border-l-4",[r.$route.name==="Budget"?n.value:s.value]]),to:"/budget"},{default:Lr(()=>[NL,PL]),_:1},8,["class"]),je(o,{class:Tt(["flex items-center px-6 py-2 mt-4 duration-200 border-l-4",[r.$route.name==="Accounts"?n.value:s.value]]),to:"/accounts"},{default:Lr(()=>[LL,FL]),_:1},8,["class"])])],2)])}}}),UL={class:"flex items-center justify-between px-6 py-4 bg-white border-b-4 border-indigo-600"},VL={class:"flex items-center"},BL=d("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),jL=[BL],HL=wh('<div class="relative mx-4 lg:mx-0"><span class="absolute inset-y-0 left-0 flex items-center pl-3"><svg class="w-5 h-5 text-gray-500" viewBox="0 0 24 24" fill="none"><path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span><input class="w-32 pl-10 pr-4 text-indigo-600 border-gray-200 rounded-md sm:w-64 focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500" type="text" placeholder="Search"></div>',1),YL={class:"flex items-center"},WL=d("button",{class:"flex mx-4 text-gray-600 focus:outline-none"},[d("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15 17H20L18.5951 15.5951C18.2141 15.2141 18 14.6973 18 14.1585V11C18 8.38757 16.3304 6.16509 14 5.34142V5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5V5.34142C7.66962 6.16509 6 8.38757 6 11V14.1585C6 14.6973 5.78595 15.2141 5.40493 15.5951L4 17H9M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),zL={class:"relative"},qL=["src","alt"],KL={class:"absolute right-0 z-20 w-48 py-2 mt-2 bg-white rounded-md shadow-xl"},GL=d("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},"Profile",-1),QL=d("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},"Products",-1),XL=ot({setup(t){const e=e_(),n=Al(),s=ie(!1),{isOpen:r}=K_(),i=()=>{const o=cl();UC(o).then(()=>{n.push("/")}).catch(a=>{console.log(a)})};return(o,a)=>(Q(),oe("header",UL,[d("div",VL,[d("button",{onClick:a[0]||(a[0]=l=>r.value=!0),class:"text-gray-500 focus:outline-none lg:hidden"},jL),HL]),d("div",YL,[WL,d("div",zL,[d("button",{onClick:a[1]||(a[1]=l=>s.value=!s.value),class:"relative z-10 block w-8 h-8 overflow-hidden rounded-full shadow focus:outline-none"},[d("img",{class:"object-cover w-full h-full",src:ce(e).user.photoURL,alt:ce(e).user.displayName},null,8,qL)]),ln(d("div",{onClick:a[2]||(a[2]=l=>s.value=!1),class:"fixed inset-0 z-10 w-full h-full"},null,512),[[Wf,s.value]]),je(Th,{"enter-active-class":"transition duration-150 ease-out transform","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in transform","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:Lr(()=>[ln(d("div",KL,[GL,QL,d("a",{onClick:i,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},"Log out")],512),[[Wf,s.value]])]),_:1})])])]))}}),JL={class:"flex h-screen bg-gray-200 font-roboto"},ZL={class:"flex-1 flex flex-col overflow-hidden"},e3={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-200"},t3={class:"container mx-auto px-6 py-8"},n3=ot({setup(t){return(e,n)=>(Q(),oe("div",JL,[je($L),d("div",ZL,[je(XL),d("main",e3,[d("div",t3,[Mm(e.$slots,"default")])])])]))}}),s3=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},r3={};function i3(t,e){return Q(),oe("div",null,[Mm(t.$slots,"default")])}const o3=s3(r3,[["render",i3]]),Ns=Ib(ME),a3=EA();Ns.component("default-layout",n3);Ns.component("empty-layout",o3);Ns.use(q_);Ns.use(a3);Ns.config.globalProperties.appName="Moneylee";Ns.config.globalProperties.$router=q_;Ns.config.globalProperties.$db=Be;const l3=_i();l3.load();const c3=_r();c3.load();Ns.mount("#app")});export default u3();
