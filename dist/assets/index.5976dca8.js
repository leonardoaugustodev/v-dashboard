var Q_=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var u3=Q_((d3,Ra)=>{const X_=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};X_();function sh(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const J_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Z_=sh(J_);function Pg(t){return!!t||t===""}function rh(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=dt(s)?nw(s):rh(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(dt(t))return t;if(nt(t))return t}}const ew=/;(?![^(]*\))/g,tw=/:(.+)/;function nw(t){const e={};return t.split(ew).forEach(n=>{if(n){const s=n.split(tw);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ct(t){let e="";if(dt(t))e=t;else if(ie(t))for(let n=0;n<t.length;n++){const s=Ct(t[n]);s&&(e+=s+" ")}else if(nt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function sw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=_l(t[s],e[s]);return n}function _l(t,e){if(t===e)return!0;let n=gf(t),s=gf(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=ie(t),s=ie(e),n||s)return n&&s?sw(t,e):!1;if(n=nt(t),s=nt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!_l(t[o],e[o]))return!1}}return String(t)===String(e)}function rw(t,e){return t.findIndex(n=>_l(n,e))}const ye=t=>dt(t)?t:t==null?"":ie(t)||nt(t)&&(t.toString===Fg||!ve(t.toString))?JSON.stringify(t,Lg,2):String(t),Lg=(t,e)=>e&&e.__v_isRef?Lg(t,e.value):Ur(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:bl(e)?{[`Set(${e.size})`]:[...e.values()]}:nt(e)&&!ie(e)&&!Ug(e)?String(e):e,Be={},Fr=[],pn=()=>{},iw=()=>!1,ow=/^on[^a-z]/,wl=t=>ow.test(t),ih=t=>t.startsWith("onUpdate:"),xt=Object.assign,oh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},aw=Object.prototype.hasOwnProperty,ke=(t,e)=>aw.call(t,e),ie=Array.isArray,Ur=t=>El(t)==="[object Map]",bl=t=>El(t)==="[object Set]",gf=t=>t instanceof Date,ve=t=>typeof t=="function",dt=t=>typeof t=="string",ah=t=>typeof t=="symbol",nt=t=>t!==null&&typeof t=="object",$g=t=>nt(t)&&ve(t.then)&&ve(t.catch),Fg=Object.prototype.toString,El=t=>Fg.call(t),lw=t=>El(t).slice(8,-1),Ug=t=>El(t)==="[object Object]",lh=t=>dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ma=sh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},cw=/-(\w)/g,Dn=xl(t=>t.replace(cw,(e,n)=>n?n.toUpperCase():"")),uw=/\B([A-Z])/g,vr=xl(t=>t.replace(uw,"-$1").toLowerCase()),Il=xl(t=>t.charAt(0).toUpperCase()+t.slice(1)),xc=xl(t=>t?`on${Il(t)}`:""),Xi=(t,e)=>!Object.is(t,e),ya=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Oa=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ji=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let mf;const hw=()=>mf||(mf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"||typeof window<"u"?window:{});let $n;class Vg{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&$n&&(this.parent=$n,this.index=($n.scopes||($n.scopes=[])).push(this)-1)}run(e){if(this.active)try{return $n=this,e()}finally{$n=this.parent}}on(){$n=this}off(){$n=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Bg(t){return new Vg(t)}function dw(t,e=$n){e&&e.active&&e.effects.push(t)}const ch=t=>{const e=new Set(t);return e.w=0,e.n=0,e},jg=t=>(t.w&ks)>0,Hg=t=>(t.n&ks)>0,fw=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ks},pw=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];jg(r)&&!Hg(r)?r.delete(t):e[n++]=r,r.w&=~ks,r.n&=~ks}e.length=n}},eu=new WeakMap;let Di=0,ks=1;const tu=30;let Sn;const nr=Symbol(""),nu=Symbol("");class uh{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,dw(this,s)}run(){if(!this.active)return this.fn();let e=Sn,n=ws;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Sn,Sn=this,ws=!0,ks=1<<++Di,Di<=tu?fw(this):yf(this),this.fn()}finally{Di<=tu&&pw(this),ks=1<<--Di,Sn=this.parent,ws=n,this.parent=void 0}}stop(){this.active&&(yf(this),this.onStop&&this.onStop(),this.active=!1)}}function yf(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ws=!0;const Yg=[];function ci(){Yg.push(ws),ws=!1}function ui(){const t=Yg.pop();ws=t===void 0?!0:t}function en(t,e,n){if(ws&&Sn){let s=eu.get(t);s||eu.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=ch()),Wg(r)}}function Wg(t,e){let n=!1;Di<=tu?Hg(t)||(t.n|=ks,n=!jg(t)):n=!t.has(Sn),n&&(t.add(Sn),Sn.deps.push(t))}function Xn(t,e,n,s,r,i){const o=eu.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ie(t))o.forEach((l,c)=>{(c==="length"||c>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ie(t)?lh(n)&&a.push(o.get("length")):(a.push(o.get(nr)),Ur(t)&&a.push(o.get(nu)));break;case"delete":ie(t)||(a.push(o.get(nr)),Ur(t)&&a.push(o.get(nu)));break;case"set":Ur(t)&&a.push(o.get(nr));break}if(a.length===1)a[0]&&su(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);su(ch(l))}}function su(t,e){for(const n of ie(t)?t:[...t])(n!==Sn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const gw=sh("__proto__,__v_isRef,__isVue"),zg=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(ah)),mw=hh(),yw=hh(!1,!0),vw=hh(!0),vf=_w();function _w(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Ce(this);for(let i=0,o=this.length;i<o;i++)en(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Ce)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ci();const s=Ce(this)[e].apply(this,n);return ui(),s}}),t}function hh(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Pw:Xg:e?Qg:Gg).get(s))return s;const o=ie(s);if(!t&&o&&ke(vf,r))return Reflect.get(vf,r,i);const a=Reflect.get(s,r,i);return(ah(r)?zg.has(r):gw(r))||(t||en(s,"get",r),e)?a:tt(a)?!o||!lh(r)?a.value:a:nt(a)?t?Jg(a):hi(a):a}}const ww=qg(),bw=qg(!0);function qg(t=!1){return function(n,s,r,i){let o=n[s];if(Zi(o)&&tt(o)&&!tt(r))return!1;if(!t&&!Zi(r)&&(Zg(r)||(r=Ce(r),o=Ce(o)),!ie(n)&&tt(o)&&!tt(r)))return o.value=r,!0;const a=ie(n)&&lh(s)?Number(s)<n.length:ke(n,s),l=Reflect.set(n,s,r,i);return n===Ce(i)&&(a?Xi(r,o)&&Xn(n,"set",s,r):Xn(n,"add",s,r)),l}}function Ew(t,e){const n=ke(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Xn(t,"delete",e,void 0),s}function xw(t,e){const n=Reflect.has(t,e);return(!ah(e)||!zg.has(e))&&en(t,"has",e),n}function Iw(t){return en(t,"iterate",ie(t)?"length":nr),Reflect.ownKeys(t)}const Kg={get:mw,set:ww,deleteProperty:Ew,has:xw,ownKeys:Iw},Tw={get:vw,set(t,e){return!0},deleteProperty(t,e){return!0}},Sw=xt({},Kg,{get:yw,set:bw}),dh=t=>t,Tl=t=>Reflect.getPrototypeOf(t);function na(t,e,n=!1,s=!1){t=t.__v_raw;const r=Ce(t),i=Ce(e);e!==i&&!n&&en(r,"get",e),!n&&en(r,"get",i);const{has:o}=Tl(r),a=s?dh:n?gh:eo;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function sa(t,e=!1){const n=this.__v_raw,s=Ce(n),r=Ce(t);return t!==r&&!e&&en(s,"has",t),!e&&en(s,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function ra(t,e=!1){return t=t.__v_raw,!e&&en(Ce(t),"iterate",nr),Reflect.get(t,"size",t)}function _f(t){t=Ce(t);const e=Ce(this);return Tl(e).has.call(e,t)||(e.add(t),Xn(e,"add",t,t)),this}function wf(t,e){e=Ce(e);const n=Ce(this),{has:s,get:r}=Tl(n);let i=s.call(n,t);i||(t=Ce(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Xi(e,o)&&Xn(n,"set",t,e):Xn(n,"add",t,e),this}function bf(t){const e=Ce(this),{has:n,get:s}=Tl(e);let r=n.call(e,t);r||(t=Ce(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Xn(e,"delete",t,void 0),i}function Ef(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&Xn(t,"clear",void 0,void 0),n}function ia(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Ce(o),l=e?dh:t?gh:eo;return!t&&en(a,"iterate",nr),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function oa(t,e,n){return function(...s){const r=this.__v_raw,i=Ce(r),o=Ur(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?dh:e?gh:eo;return!e&&en(i,"iterate",l?nu:nr),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function as(t){return function(...e){return t==="delete"?!1:this}}function kw(){const t={get(i){return na(this,i)},get size(){return ra(this)},has:sa,add:_f,set:wf,delete:bf,clear:Ef,forEach:ia(!1,!1)},e={get(i){return na(this,i,!1,!0)},get size(){return ra(this)},has:sa,add:_f,set:wf,delete:bf,clear:Ef,forEach:ia(!1,!0)},n={get(i){return na(this,i,!0)},get size(){return ra(this,!0)},has(i){return sa.call(this,i,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:ia(!0,!1)},s={get(i){return na(this,i,!0,!0)},get size(){return ra(this,!0)},has(i){return sa.call(this,i,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:ia(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=oa(i,!1,!1),n[i]=oa(i,!0,!1),e[i]=oa(i,!1,!0),s[i]=oa(i,!0,!0)}),[t,n,e,s]}const[Cw,Aw,Dw,Mw]=kw();function fh(t,e){const n=e?t?Mw:Dw:t?Aw:Cw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ke(n,r)&&r in s?n:s,r,i)}const Rw={get:fh(!1,!1)},Ow={get:fh(!1,!0)},Nw={get:fh(!0,!1)},Gg=new WeakMap,Qg=new WeakMap,Xg=new WeakMap,Pw=new WeakMap;function Lw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $w(t){return t.__v_skip||!Object.isExtensible(t)?0:Lw(lw(t))}function hi(t){return Zi(t)?t:ph(t,!1,Kg,Rw,Gg)}function Fw(t){return ph(t,!1,Sw,Ow,Qg)}function Jg(t){return ph(t,!0,Tw,Nw,Xg)}function ph(t,e,n,s,r){if(!nt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=$w(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function bs(t){return Zi(t)?bs(t.__v_raw):!!(t&&t.__v_isReactive)}function Zi(t){return!!(t&&t.__v_isReadonly)}function Zg(t){return!!(t&&t.__v_isShallow)}function em(t){return bs(t)||Zi(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function Kr(t){return Oa(t,"__v_skip",!0),t}const eo=t=>nt(t)?hi(t):t,gh=t=>nt(t)?Jg(t):t;function tm(t){ws&&Sn&&(t=Ce(t),Wg(t.dep||(t.dep=ch())))}function nm(t,e){t=Ce(t),t.dep&&su(t.dep)}function tt(t){return!!(t&&t.__v_isRef===!0)}function oe(t){return sm(t,!1)}function Uw(t){return sm(t,!0)}function sm(t,e){return tt(t)?t:new Vw(t,e)}class Vw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:eo(e)}get value(){return tm(this),this._value}set value(e){e=this.__v_isShallow?e:Ce(e),Xi(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:eo(e),nm(this))}}function ue(t){return tt(t)?t.value:t}const Bw={get:(t,e,n)=>ue(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return tt(r)&&!tt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function rm(t){return bs(t)?t:new Proxy(t,Bw)}function jw(t){const e=ie(t)?new Array(t.length):{};for(const n in t)e[n]=Yw(t,n);return e}class Hw{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Yw(t,e,n){const s=t[e];return tt(s)?s:new Hw(t,e,n)}class Ww{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new uh(e,()=>{this._dirty||(this._dirty=!0,nm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Ce(this);return tm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function zw(t,e,n=!1){let s,r;const i=ve(t);return i?(s=t,r=pn):(s=t.get,r=t.set),new Ww(s,r,i||!r,n)}Promise.resolve();function Es(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Sl(i,e,n)}return r}function ln(t,e,n,s){if(ve(t)){const i=Es(t,e,n,s);return i&&$g(i)&&i.catch(o=>{Sl(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(ln(t[i],e,n,s));return r}function Sl(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Es(l,null,10,[t,o,a]);return}}qw(t,n,r,s)}function qw(t,e,n,s=!0){console.error(t)}let Na=!1,ru=!1;const Jt=[];let Vn=0;const Pi=[];let Mi=null,Mr=0;const Li=[];let ds=null,Rr=0;const im=Promise.resolve();let mh=null,iu=null;function _r(t){const e=mh||im;return t?e.then(this?t.bind(this):t):e}function Kw(t){let e=Vn+1,n=Jt.length;for(;e<n;){const s=e+n>>>1;to(Jt[s])<t?e=s+1:n=s}return e}function om(t){(!Jt.length||!Jt.includes(t,Na&&t.allowRecurse?Vn+1:Vn))&&t!==iu&&(t.id==null?Jt.push(t):Jt.splice(Kw(t.id),0,t),am())}function am(){!Na&&!ru&&(ru=!0,mh=im.then(um))}function Gw(t){const e=Jt.indexOf(t);e>Vn&&Jt.splice(e,1)}function lm(t,e,n,s){ie(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?s+1:s))&&n.push(t),am()}function Qw(t){lm(t,Mi,Pi,Mr)}function Xw(t){lm(t,ds,Li,Rr)}function yh(t,e=null){if(Pi.length){for(iu=e,Mi=[...new Set(Pi)],Pi.length=0,Mr=0;Mr<Mi.length;Mr++)Mi[Mr]();Mi=null,Mr=0,iu=null,yh(t,e)}}function cm(t){if(Li.length){const e=[...new Set(Li)];if(Li.length=0,ds){ds.push(...e);return}for(ds=e,ds.sort((n,s)=>to(n)-to(s)),Rr=0;Rr<ds.length;Rr++)ds[Rr]();ds=null,Rr=0}}const to=t=>t.id==null?1/0:t.id;function um(t){ru=!1,Na=!0,yh(t),Jt.sort((n,s)=>to(n)-to(s));const e=pn;try{for(Vn=0;Vn<Jt.length;Vn++){const n=Jt[Vn];n&&n.active!==!1&&Es(n,null,14)}}finally{Vn=0,Jt.length=0,cm(),Na=!1,mh=null,(Jt.length||Pi.length||Li.length)&&um(t)}}function Jw(t,e,...n){const s=t.vnode.props||Be;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||Be;f?r=n.map(g=>g.trim()):h&&(r=n.map(Ji))}let a,l=s[a=xc(e)]||s[a=xc(Dn(e))];!l&&i&&(l=s[a=xc(vr(e))]),l&&ln(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ln(c,t,6,r)}}function hm(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ve(t)){const l=c=>{const u=hm(c,e,!0);u&&(a=!0,xt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(s.set(t,null),null):(ie(i)?i.forEach(l=>o[l]=null):xt(o,i),s.set(t,o),o)}function vh(t,e){return!t||!wl(e)?!1:(e=e.slice(2).replace(/Once$/,""),ke(t,e[0].toLowerCase()+e.slice(1))||ke(t,vr(e))||ke(t,e))}let Zt=null,dm=null;function Pa(t){const e=Zt;return Zt=t,dm=t&&t.type.__scopeId||null,e}function Vr(t,e=Zt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Of(-1);const i=Pa(e),o=t(...r);return Pa(i),s._d&&Of(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function Ic(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:g,ctx:y,inheritAttrs:w}=t;let _,T;const $=Pa(t);try{if(n.shapeFlag&4){const q=r||s;_=xn(u.call(q,q,h,i,g,f,y)),T=l}else{const q=e;_=xn(q.length>1?q(i,{attrs:l,slots:a,emit:c}):q(i,null)),T=e.props?l:Zw(l)}}catch(q){Fi.length=0,Sl(q,t,1),_=He(mn)}let J=_;if(T&&w!==!1){const q=Object.keys(T),{shapeFlag:z}=J;q.length&&z&7&&(o&&q.some(ih)&&(T=e1(T,o)),J=Gr(J,T))}return n.dirs&&(J.dirs=J.dirs?J.dirs.concat(n.dirs):n.dirs),n.transition&&(J.transition=n.transition),_=J,Pa($),_}const Zw=t=>{let e;for(const n in t)(n==="class"||n==="style"||wl(n))&&((e||(e={}))[n]=t[n]);return e},e1=(t,e)=>{const n={};for(const s in t)(!ih(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function t1(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?xf(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!vh(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?xf(s,o,c):!0:!!o;return!1}function xf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!vh(n,i))return!0}return!1}function n1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const s1=t=>t.__isSuspense;function r1(t,e){e&&e.pendingBranch?ie(t)?e.effects.push(...t):e.effects.push(t):Xw(t)}function va(t,e){if(gt){let n=gt.provides;const s=gt.parent&&gt.parent.provides;s===n&&(n=gt.provides=Object.create(s)),n[t]=e}}function gn(t,e,n=!1){const s=gt||Zt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ve(e)?e.call(s.proxy):e}}const If={};function $i(t,e,n){return fm(t,e,n)}function fm(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Be){const a=gt;let l,c=!1,u=!1;if(tt(t)?(l=()=>t.value,c=Zg(t)):bs(t)?(l=()=>t,s=!0):ie(t)?(u=!0,c=t.some(bs),l=()=>t.map(T=>{if(tt(T))return T.value;if(bs(T))return Gs(T);if(ve(T))return Es(T,a,2)})):ve(t)?e?l=()=>Es(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),ln(t,a,3,[f])}:l=pn,e&&s){const T=l;l=()=>Gs(T())}let h,f=T=>{h=_.onStop=()=>{Es(T,a,4)}};if(no)return f=pn,e?n&&ln(e,a,3,[l(),u?[]:void 0,f]):l(),pn;let g=u?[]:If;const y=()=>{if(!!_.active)if(e){const T=_.run();(s||c||(u?T.some(($,J)=>Xi($,g[J])):Xi(T,g)))&&(h&&h(),ln(e,a,3,[T,g===If?void 0:g,f]),g=T)}else _.run()};y.allowRecurse=!!e;let w;r==="sync"?w=y:r==="post"?w=()=>Yt(y,a&&a.suspense):w=()=>{!a||a.isMounted?Qw(y):y()};const _=new uh(l,w);return e?n?y():g=_.run():r==="post"?Yt(_.run.bind(_),a&&a.suspense):_.run(),()=>{_.stop(),a&&a.scope&&oh(a.scope.effects,_)}}function i1(t,e,n){const s=this.proxy,r=dt(t)?t.includes(".")?pm(s,t):()=>s[t]:t.bind(s,s);let i;ve(e)?i=e:(i=e.handler,n=e);const o=gt;Qr(this);const a=fm(r,i.bind(s),n);return o?Qr(o):rr(),a}function pm(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Gs(t,e){if(!nt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),tt(t))Gs(t.value,e);else if(ie(t))for(let n=0;n<t.length;n++)Gs(t[n],e);else if(bl(t)||Ur(t))t.forEach(n=>{Gs(n,e)});else if(Ug(t))for(const n in t)Gs(t[n],e);return t}function o1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rs(()=>{t.isMounted=!0}),_m(()=>{t.isUnmounting=!0}),t}const rn=[Function,Array],a1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rn,onEnter:rn,onAfterEnter:rn,onEnterCancelled:rn,onBeforeLeave:rn,onLeave:rn,onAfterLeave:rn,onLeaveCancelled:rn,onBeforeAppear:rn,onAppear:rn,onAfterAppear:rn,onAppearCancelled:rn},setup(t,{slots:e}){const n=Th(),s=o1();let r;return()=>{const i=e.default&&ym(e.default(),!0);if(!i||!i.length)return;const o=Ce(t),{mode:a}=o,l=i[0];if(s.isLeaving)return Tc(l);const c=Tf(l);if(!c)return Tc(l);const u=ou(c,o,s,n);au(c,u);const h=n.subTree,f=h&&Tf(h);let g=!1;const{getTransitionKey:y}=c.type;if(y){const w=y();r===void 0?r=w:w!==r&&(r=w,g=!0)}if(f&&f.type!==mn&&(!zs(c,f)||g)){const w=ou(f,o,s,n);if(au(f,w),a==="out-in")return s.isLeaving=!0,w.afterLeave=()=>{s.isLeaving=!1,n.update()},Tc(l);a==="in-out"&&c.type!==mn&&(w.delayLeave=(_,T,$)=>{const J=mm(s,f);J[String(f.key)]=f,_._leaveCb=()=>{T(),_._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=$})}return l}}},gm=a1;function mm(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ou(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:w,onAppear:_,onAfterAppear:T,onAppearCancelled:$}=e,J=String(t.key),q=mm(n,t),z=(P,A)=>{P&&ln(P,s,9,A)},H={mode:i,persisted:o,beforeEnter(P){let A=a;if(!n.isMounted)if(r)A=w||a;else return;P._leaveCb&&P._leaveCb(!0);const O=q[J];O&&zs(t,O)&&O.el._leaveCb&&O.el._leaveCb(),z(A,[P])},enter(P){let A=l,O=c,se=u;if(!n.isMounted)if(r)A=_||l,O=T||c,se=$||u;else return;let re=!1;const F=P._enterCb=xe=>{re||(re=!0,xe?z(se,[P]):z(O,[P]),H.delayedLeave&&H.delayedLeave(),P._enterCb=void 0)};A?(A(P,F),A.length<=1&&F()):F()},leave(P,A){const O=String(t.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return A();z(h,[P]);let se=!1;const re=P._leaveCb=F=>{se||(se=!0,A(),F?z(y,[P]):z(g,[P]),P._leaveCb=void 0,q[O]===t&&delete q[O])};q[O]=t,f?(f(P,re),f.length<=1&&re()):re()},clone(P){return ou(P,e,n,s)}};return H}function Tc(t){if(kl(t))return t=Gr(t),t.children=null,t}function Tf(t){return kl(t)?t.children?t.children[0]:void 0:t}function au(t,e){t.shapeFlag&6&&t.component?au(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ym(t,e=!1){let n=[],s=0;for(let r=0;r<t.length;r++){const i=t[r];i.type===qe?(i.patchFlag&128&&s++,n=n.concat(ym(i.children,e))):(e||i.type!==mn)&&n.push(i)}if(s>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function lt(t){return ve(t)?{setup:t,name:t.name}:t}const lu=t=>!!t.type.__asyncLoader,kl=t=>t.type.__isKeepAlive;function l1(t,e){vm(t,"a",e)}function c1(t,e){vm(t,"da",e)}function vm(t,e,n=gt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Cl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)kl(r.parent.vnode)&&u1(s,e,n,r),r=r.parent}}function u1(t,e,n,s){const r=Cl(e,t,s,!0);_h(()=>{oh(s[e],r)},n)}function Cl(t,e,n=gt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ci(),Qr(n);const a=ln(e,n,t,o);return rr(),ui(),a});return s?r.unshift(i):r.push(i),i}}const ss=t=>(e,n=gt)=>(!no||t==="sp")&&Cl(t,e,n),h1=ss("bm"),rs=ss("m"),d1=ss("bu"),f1=ss("u"),_m=ss("bum"),_h=ss("um"),p1=ss("sp"),g1=ss("rtg"),m1=ss("rtc");function y1(t,e=gt){Cl("ec",t,e)}let cu=!0;function v1(t){const e=bm(t),n=t.proxy,s=t.ctx;cu=!1,e.beforeCreate&&Sf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:y,activated:w,deactivated:_,beforeDestroy:T,beforeUnmount:$,destroyed:J,unmounted:q,render:z,renderTracked:H,renderTriggered:P,errorCaptured:A,serverPrefetch:O,expose:se,inheritAttrs:re,components:F,directives:xe,filters:Me}=e;if(c&&_1(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const Oe in o){const Le=o[Oe];ve(Le)&&(s[Oe]=Le.bind(n))}if(r){const Oe=r.call(n,n);nt(Oe)&&(t.data=hi(Oe))}if(cu=!0,i)for(const Oe in i){const Le=i[Oe],Ne=ve(Le)?Le.bind(n,n):ve(Le.get)?Le.get.bind(n,n):pn,kt=!ve(Le)&&ve(Le.set)?Le.set.bind(n):pn,et=wt({get:Ne,set:kt});Object.defineProperty(s,Oe,{enumerable:!0,configurable:!0,get:()=>et.value,set:st=>et.value=st})}if(a)for(const Oe in a)wm(a[Oe],s,n,Oe);if(l){const Oe=ve(l)?l.call(n):l;Reflect.ownKeys(Oe).forEach(Le=>{va(Le,Oe[Le])})}u&&Sf(u,t,"c");function he(Oe,Le){ie(Le)?Le.forEach(Ne=>Oe(Ne.bind(n))):Le&&Oe(Le.bind(n))}if(he(h1,h),he(rs,f),he(d1,g),he(f1,y),he(l1,w),he(c1,_),he(y1,A),he(m1,H),he(g1,P),he(_m,$),he(_h,q),he(p1,O),ie(se))if(se.length){const Oe=t.exposed||(t.exposed={});se.forEach(Le=>{Object.defineProperty(Oe,Le,{get:()=>n[Le],set:Ne=>n[Le]=Ne})})}else t.exposed||(t.exposed={});z&&t.render===pn&&(t.render=z),re!=null&&(t.inheritAttrs=re),F&&(t.components=F),xe&&(t.directives=xe)}function _1(t,e,n=pn,s=!1){ie(t)&&(t=uu(t));for(const r in t){const i=t[r];let o;nt(i)?"default"in i?o=gn(i.from||r,i.default,!0):o=gn(i.from||r):o=gn(i),tt(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function Sf(t,e,n){ln(ie(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function wm(t,e,n,s){const r=s.includes(".")?pm(n,s):()=>n[s];if(dt(t)){const i=e[t];ve(i)&&$i(r,i)}else if(ve(t))$i(r,t.bind(n));else if(nt(t))if(ie(t))t.forEach(i=>wm(i,e,n,s));else{const i=ve(t.handler)?t.handler.bind(n):e[t.handler];ve(i)&&$i(r,i,t)}}function bm(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>La(l,c,o,!0)),La(l,e,o)),i.set(e,l),l}function La(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&La(t,i,n,!0),r&&r.forEach(o=>La(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=w1[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const w1={data:kf,props:Ys,emits:Ys,methods:Ys,computed:Ys,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:Ys,directives:Ys,watch:E1,provide:kf,inject:b1};function kf(t,e){return e?t?function(){return xt(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function b1(t,e){return Ys(uu(t),uu(e))}function uu(t){if(ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Lt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ys(t,e){return t?xt(xt(Object.create(null),t),e):e}function E1(t,e){if(!t)return e;if(!e)return t;const n=xt(Object.create(null),t);for(const s in e)n[s]=Lt(t[s],e[s]);return n}function x1(t,e,n,s=!1){const r={},i={};Oa(i,Al,1),t.propsDefaults=Object.create(null),Em(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Fw(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function I1(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ce(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];const g=e[f];if(l)if(ke(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const y=Dn(f);r[y]=hu(l,a,y,g,t,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{Em(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!ke(e,h)&&((u=vr(h))===h||!ke(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=hu(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!ke(e,h)&&!0)&&(delete i[h],c=!0)}c&&Xn(t,"set","$attrs")}function Em(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ma(l))continue;const c=e[l];let u;r&&ke(r,u=Dn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:vh(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Ce(n),c=a||Be;for(let u=0;u<i.length;u++){const h=i[u];n[h]=hu(r,l,h,c[h],t,!ke(c,h))}}return o}function hu(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=ke(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&ve(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(Qr(r),s=c[n]=l.call(null,e),rr())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===vr(n))&&(s=!0))}return s}function xm(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ve(t)){const u=h=>{l=!0;const[f,g]=xm(h,e,!0);xt(o,f),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return s.set(t,Fr),Fr;if(ie(i))for(let u=0;u<i.length;u++){const h=Dn(i[u]);Cf(h)&&(o[h]=Be)}else if(i)for(const u in i){const h=Dn(u);if(Cf(h)){const f=i[u],g=o[h]=ie(f)||ve(f)?{type:f}:f;if(g){const y=Mf(Boolean,g.type),w=Mf(String,g.type);g[0]=y>-1,g[1]=w<0||y<w,(y>-1||ke(g,"default"))&&a.push(h)}}}const c=[o,a];return s.set(t,c),c}function Cf(t){return t[0]!=="$"}function Af(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Df(t,e){return Af(t)===Af(e)}function Mf(t,e){return ie(e)?e.findIndex(n=>Df(n,t)):ve(e)&&Df(e,t)?0:-1}const Im=t=>t[0]==="_"||t==="$stable",wh=t=>ie(t)?t.map(xn):[xn(t)],T1=(t,e,n)=>{const s=Vr((...r)=>wh(e(...r)),n);return s._c=!1,s},Tm=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Im(r))continue;const i=t[r];if(ve(i))e[r]=T1(r,i,s);else if(i!=null){const o=wh(i);e[r]=()=>o}}},Sm=(t,e)=>{const n=wh(e);t.slots.default=()=>n},S1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),Oa(e,"_",n)):Tm(e,t.slots={})}else t.slots={},e&&Sm(t,e);Oa(t.slots,Al,1)},k1=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Be;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(xt(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Tm(e,r)),o=e}else e&&(Sm(t,e),o={default:1});if(i)for(const a in r)!Im(a)&&!(a in o)&&delete r[a]};function an(t,e){const n=Zt;if(n===null)return t;const s=n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=Be]=e[i];ve(o)&&(o={mounted:o,updated:o}),o.deep&&Gs(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c})}return t}function Us(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(ci(),ln(l,n,8,[t.el,a,t,e]),ui())}}function km(){return{app:null,config:{isNativeTag:iw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let C1=0;function A1(t,e){return function(s,r=null){r!=null&&!nt(r)&&(r=null);const i=km(),o=new Set;let a=!1;const l=i.app={_uid:C1++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:G1,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&ve(c.install)?(o.add(c),c.install(l,...u)):ve(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=He(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Sh(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}function du(t,e,n,s,r=!1){if(ie(t)){t.forEach((f,g)=>du(f,e&&(ie(e)?e[g]:e),n,s,r));return}if(lu(s)&&!r)return;const i=s.shapeFlag&4?Sh(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Be?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(dt(c)?(u[c]=null,ke(h,c)&&(h[c]=null)):tt(c)&&(c.value=null)),ve(l))Es(l,a,12,[o,u]);else{const f=dt(l),g=tt(l);if(f||g){const y=()=>{if(t.f){const w=f?u[l]:l.value;r?ie(w)&&oh(w,i):ie(w)?w.includes(i)||w.push(i):f?u[l]=[i]:(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,ke(h,l)&&(h[l]=o)):tt(l)&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,Yt(y,n)):y()}}}const Yt=r1;function D1(t){return M1(t)}function M1(t,e){const n=hw();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=pn,cloneNode:y,insertStaticContent:w}=t,_=(p,m,v,I=null,x=null,R=null,U=!1,D=null,N=!!m.dynamicChildren)=>{if(p===m)return;p&&!zs(p,m)&&(I=Q(p),sn(p,x,R,!0),p=null),m.patchFlag===-2&&(N=!1,m.dynamicChildren=null);const{type:S,ref:te,shapeFlag:Y}=m;switch(S){case Eh:T(p,m,v,I);break;case mn:$(p,m,v,I);break;case _a:p==null&&J(m,v,I,U);break;case qe:xe(p,m,v,I,x,R,U,D,N);break;default:Y&1?H(p,m,v,I,x,R,U,D,N):Y&6?Me(p,m,v,I,x,R,U,D,N):(Y&64||Y&128)&&S.process(p,m,v,I,x,R,U,D,N,Ye)}te!=null&&x&&du(te,p&&p.ref,R,m||p,!m)},T=(p,m,v,I)=>{if(p==null)s(m.el=a(m.children),v,I);else{const x=m.el=p.el;m.children!==p.children&&c(x,m.children)}},$=(p,m,v,I)=>{p==null?s(m.el=l(m.children||""),v,I):m.el=p.el},J=(p,m,v,I)=>{[p.el,p.anchor]=w(p.children,m,v,I,p.el,p.anchor)},q=({el:p,anchor:m},v,I)=>{let x;for(;p&&p!==m;)x=f(p),s(p,v,I),p=x;s(m,v,I)},z=({el:p,anchor:m})=>{let v;for(;p&&p!==m;)v=f(p),r(p),p=v;r(m)},H=(p,m,v,I,x,R,U,D,N)=>{U=U||m.type==="svg",p==null?P(m,v,I,x,R,U,D,N):se(p,m,x,R,U,D,N)},P=(p,m,v,I,x,R,U,D)=>{let N,S;const{type:te,props:Y,shapeFlag:ne,transition:ce,patchFlag:Se,dirs:Xe}=p;if(p.el&&y!==void 0&&Se===-1)N=p.el=y(p.el);else{if(N=p.el=o(p.type,R,Y&&Y.is,Y),ne&8?u(N,p.children):ne&16&&O(p.children,N,null,I,x,R&&te!=="foreignObject",U,D),Xe&&Us(p,null,I,"created"),Y){for(const ze in Y)ze!=="value"&&!ma(ze)&&i(N,ze,null,Y[ze],R,p.children,I,x,L);"value"in Y&&i(N,"value",null,Y.value),(S=Y.onVnodeBeforeMount)&&En(S,I,p)}A(N,p,p.scopeId,U,I)}Xe&&Us(p,null,I,"beforeMount");const Ue=(!x||x&&!x.pendingBranch)&&ce&&!ce.persisted;Ue&&ce.beforeEnter(N),s(N,m,v),((S=Y&&Y.onVnodeMounted)||Ue||Xe)&&Yt(()=>{S&&En(S,I,p),Ue&&ce.enter(N),Xe&&Us(p,null,I,"mounted")},x)},A=(p,m,v,I,x)=>{if(v&&g(p,v),I)for(let R=0;R<I.length;R++)g(p,I[R]);if(x){let R=x.subTree;if(m===R){const U=x.vnode;A(p,U,U.scopeId,U.slotScopeIds,x.parent)}}},O=(p,m,v,I,x,R,U,D,N=0)=>{for(let S=N;S<p.length;S++){const te=p[S]=D?fs(p[S]):xn(p[S]);_(null,te,m,v,I,x,R,U,D)}},se=(p,m,v,I,x,R,U)=>{const D=m.el=p.el;let{patchFlag:N,dynamicChildren:S,dirs:te}=m;N|=p.patchFlag&16;const Y=p.props||Be,ne=m.props||Be;let ce;v&&Vs(v,!1),(ce=ne.onVnodeBeforeUpdate)&&En(ce,v,m,p),te&&Us(m,p,v,"beforeUpdate"),v&&Vs(v,!0);const Se=x&&m.type!=="foreignObject";if(S?re(p.dynamicChildren,S,D,v,I,Se,R):U||Ne(p,m,D,null,v,I,Se,R,!1),N>0){if(N&16)F(D,m,Y,ne,v,I,x);else if(N&2&&Y.class!==ne.class&&i(D,"class",null,ne.class,x),N&4&&i(D,"style",Y.style,ne.style,x),N&8){const Xe=m.dynamicProps;for(let Ue=0;Ue<Xe.length;Ue++){const ze=Xe[Ue],dn=Y[ze],Tr=ne[ze];(Tr!==dn||ze==="value")&&i(D,ze,dn,Tr,x,p.children,v,I,L)}}N&1&&p.children!==m.children&&u(D,m.children)}else!U&&S==null&&F(D,m,Y,ne,v,I,x);((ce=ne.onVnodeUpdated)||te)&&Yt(()=>{ce&&En(ce,v,m,p),te&&Us(m,p,v,"updated")},I)},re=(p,m,v,I,x,R,U)=>{for(let D=0;D<m.length;D++){const N=p[D],S=m[D],te=N.el&&(N.type===qe||!zs(N,S)||N.shapeFlag&70)?h(N.el):v;_(N,S,te,null,I,x,R,U,!0)}},F=(p,m,v,I,x,R,U)=>{if(v!==I){for(const D in I){if(ma(D))continue;const N=I[D],S=v[D];N!==S&&D!=="value"&&i(p,D,S,N,U,m.children,x,R,L)}if(v!==Be)for(const D in v)!ma(D)&&!(D in I)&&i(p,D,v[D],null,U,m.children,x,R,L);"value"in I&&i(p,"value",v.value,I.value)}},xe=(p,m,v,I,x,R,U,D,N)=>{const S=m.el=p?p.el:a(""),te=m.anchor=p?p.anchor:a("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:ce}=m;ce&&(D=D?D.concat(ce):ce),p==null?(s(S,v,I),s(te,v,I),O(m.children,v,te,x,R,U,D,N)):Y>0&&Y&64&&ne&&p.dynamicChildren?(re(p.dynamicChildren,ne,v,x,R,U,D),(m.key!=null||x&&m===x.subTree)&&Cm(p,m,!0)):Ne(p,m,v,te,x,R,U,D,N)},Me=(p,m,v,I,x,R,U,D,N)=>{m.slotScopeIds=D,p==null?m.shapeFlag&512?x.ctx.activate(m,v,I,U,N):K(m,v,I,x,R,U,N):he(p,m,N)},K=(p,m,v,I,x,R,U)=>{const D=p.component=j1(p,I,x);if(kl(p)&&(D.ctx.renderer=Ye),H1(D),D.asyncDep){if(x&&x.registerDep(D,Oe),!p.el){const N=D.subTree=He(mn);$(null,N,m,v)}return}Oe(D,p,m,v,x,R,U)},he=(p,m,v)=>{const I=m.component=p.component;if(t1(p,m,v))if(I.asyncDep&&!I.asyncResolved){Le(I,m,v);return}else I.next=m,Gw(I.update),I.update();else m.component=p.component,m.el=p.el,I.vnode=m},Oe=(p,m,v,I,x,R,U)=>{const D=()=>{if(p.isMounted){let{next:te,bu:Y,u:ne,parent:ce,vnode:Se}=p,Xe=te,Ue;Vs(p,!1),te?(te.el=Se.el,Le(p,te,U)):te=Se,Y&&ya(Y),(Ue=te.props&&te.props.onVnodeBeforeUpdate)&&En(Ue,ce,te,Se),Vs(p,!0);const ze=Ic(p),dn=p.subTree;p.subTree=ze,_(dn,ze,h(dn.el),Q(dn),p,x,R),te.el=ze.el,Xe===null&&n1(p,ze.el),ne&&Yt(ne,x),(Ue=te.props&&te.props.onVnodeUpdated)&&Yt(()=>En(Ue,ce,te,Se),x)}else{let te;const{el:Y,props:ne}=m,{bm:ce,m:Se,parent:Xe}=p,Ue=lu(m);if(Vs(p,!1),ce&&ya(ce),!Ue&&(te=ne&&ne.onVnodeBeforeMount)&&En(te,Xe,m),Vs(p,!0),Y&&me){const ze=()=>{p.subTree=Ic(p),me(Y,p.subTree,p,x,null)};Ue?m.type.__asyncLoader().then(()=>!p.isUnmounted&&ze()):ze()}else{const ze=p.subTree=Ic(p);_(null,ze,v,I,p,x,R),m.el=ze.el}if(Se&&Yt(Se,x),!Ue&&(te=ne&&ne.onVnodeMounted)){const ze=m;Yt(()=>En(te,Xe,ze),x)}m.shapeFlag&256&&p.a&&Yt(p.a,x),p.isMounted=!0,m=v=I=null}},N=p.effect=new uh(D,()=>om(p.update),p.scope),S=p.update=N.run.bind(N);S.id=p.uid,Vs(p,!0),S()},Le=(p,m,v)=>{m.component=p;const I=p.vnode.props;p.vnode=m,p.next=null,I1(p,m.props,I,v),k1(p,m.children,v),ci(),yh(void 0,p.update),ui()},Ne=(p,m,v,I,x,R,U,D,N=!1)=>{const S=p&&p.children,te=p?p.shapeFlag:0,Y=m.children,{patchFlag:ne,shapeFlag:ce}=m;if(ne>0){if(ne&128){et(S,Y,v,I,x,R,U,D,N);return}else if(ne&256){kt(S,Y,v,I,x,R,U,D,N);return}}ce&8?(te&16&&L(S,x,R),Y!==S&&u(v,Y)):te&16?ce&16?et(S,Y,v,I,x,R,U,D,N):L(S,x,R,!0):(te&8&&u(v,""),ce&16&&O(Y,v,I,x,R,U,D,N))},kt=(p,m,v,I,x,R,U,D,N)=>{p=p||Fr,m=m||Fr;const S=p.length,te=m.length,Y=Math.min(S,te);let ne;for(ne=0;ne<Y;ne++){const ce=m[ne]=N?fs(m[ne]):xn(m[ne]);_(p[ne],ce,v,null,x,R,U,D,N)}S>te?L(p,x,R,!0,!1,Y):O(m,v,I,x,R,U,D,N,Y)},et=(p,m,v,I,x,R,U,D,N)=>{let S=0;const te=m.length;let Y=p.length-1,ne=te-1;for(;S<=Y&&S<=ne;){const ce=p[S],Se=m[S]=N?fs(m[S]):xn(m[S]);if(zs(ce,Se))_(ce,Se,v,null,x,R,U,D,N);else break;S++}for(;S<=Y&&S<=ne;){const ce=p[Y],Se=m[ne]=N?fs(m[ne]):xn(m[ne]);if(zs(ce,Se))_(ce,Se,v,null,x,R,U,D,N);else break;Y--,ne--}if(S>Y){if(S<=ne){const ce=ne+1,Se=ce<te?m[ce].el:I;for(;S<=ne;)_(null,m[S]=N?fs(m[S]):xn(m[S]),v,Se,x,R,U,D,N),S++}}else if(S>ne)for(;S<=Y;)sn(p[S],x,R,!0),S++;else{const ce=S,Se=S,Xe=new Map;for(S=Se;S<=ne;S++){const Qt=m[S]=N?fs(m[S]):xn(m[S]);Qt.key!=null&&Xe.set(Qt.key,S)}let Ue,ze=0;const dn=ne-Se+1;let Tr=!1,df=0;const xi=new Array(dn);for(S=0;S<dn;S++)xi[S]=0;for(S=ce;S<=Y;S++){const Qt=p[S];if(ze>=dn){sn(Qt,x,R,!0);continue}let bn;if(Qt.key!=null)bn=Xe.get(Qt.key);else for(Ue=Se;Ue<=ne;Ue++)if(xi[Ue-Se]===0&&zs(Qt,m[Ue])){bn=Ue;break}bn===void 0?sn(Qt,x,R,!0):(xi[bn-Se]=S+1,bn>=df?df=bn:Tr=!0,_(Qt,m[bn],v,null,x,R,U,D,N),ze++)}const ff=Tr?R1(xi):Fr;for(Ue=ff.length-1,S=dn-1;S>=0;S--){const Qt=Se+S,bn=m[Qt],pf=Qt+1<te?m[Qt+1].el:I;xi[S]===0?_(null,bn,v,pf,x,R,U,D,N):Tr&&(Ue<0||S!==ff[Ue]?st(bn,v,pf,2):Ue--)}}},st=(p,m,v,I,x=null)=>{const{el:R,type:U,transition:D,children:N,shapeFlag:S}=p;if(S&6){st(p.component.subTree,m,v,I);return}if(S&128){p.suspense.move(m,v,I);return}if(S&64){U.move(p,m,v,Ye);return}if(U===qe){s(R,m,v);for(let Y=0;Y<N.length;Y++)st(N[Y],m,v,I);s(p.anchor,m,v);return}if(U===_a){q(p,m,v);return}if(I!==2&&S&1&&D)if(I===0)D.beforeEnter(R),s(R,m,v),Yt(()=>D.enter(R),x);else{const{leave:Y,delayLeave:ne,afterLeave:ce}=D,Se=()=>s(R,m,v),Xe=()=>{Y(R,()=>{Se(),ce&&ce()})};ne?ne(R,Se,Xe):Xe()}else s(R,m,v)},sn=(p,m,v,I=!1,x=!1)=>{const{type:R,props:U,ref:D,children:N,dynamicChildren:S,shapeFlag:te,patchFlag:Y,dirs:ne}=p;if(D!=null&&du(D,null,v,p,!0),te&256){m.ctx.deactivate(p);return}const ce=te&1&&ne,Se=!lu(p);let Xe;if(Se&&(Xe=U&&U.onVnodeBeforeUnmount)&&En(Xe,m,p),te&6)W(p.component,v,I);else{if(te&128){p.suspense.unmount(v,I);return}ce&&Us(p,null,m,"beforeUnmount"),te&64?p.type.remove(p,m,v,x,Ye,I):S&&(R!==qe||Y>0&&Y&64)?L(S,m,v,!1,!0):(R===qe&&Y&384||!x&&te&16)&&L(N,m,v),I&&Ec(p)}(Se&&(Xe=U&&U.onVnodeUnmounted)||ce)&&Yt(()=>{Xe&&En(Xe,m,p),ce&&Us(p,null,m,"unmounted")},v)},Ec=p=>{const{type:m,el:v,anchor:I,transition:x}=p;if(m===qe){E(v,I);return}if(m===_a){z(p);return}const R=()=>{r(v),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(p.shapeFlag&1&&x&&!x.persisted){const{leave:U,delayLeave:D}=x,N=()=>U(v,R);D?D(p.el,R,N):N()}else R()},E=(p,m)=>{let v;for(;p!==m;)v=f(p),r(p),p=v;r(m)},W=(p,m,v)=>{const{bum:I,scope:x,update:R,subTree:U,um:D}=p;I&&ya(I),x.stop(),R&&(R.active=!1,sn(U,p,m,v)),D&&Yt(D,m),Yt(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},L=(p,m,v,I=!1,x=!1,R=0)=>{for(let U=R;U<p.length;U++)sn(p[U],m,v,I,x)},Q=p=>p.shapeFlag&6?Q(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),Fe=(p,m,v)=>{p==null?m._vnode&&sn(m._vnode,null,null,!0):_(m._vnode||null,p,m,null,null,null,v),cm(),m._vnode=p},Ye={p:_,um:sn,m:st,r:Ec,mt:K,mc:O,pc:Ne,pbc:re,n:Q,o:t};let be,me;return e&&([be,me]=e(Ye)),{render:Fe,hydrate:be,createApp:A1(Fe,be)}}function Vs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Cm(t,e,n=!1){const s=t.children,r=e.children;if(ie(s)&&ie(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=fs(r[i]),a.el=o.el),n||Cm(o,a))}}function R1(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const O1=t=>t.__isTeleport,bh="components";function Am(t,e){return Mm(bh,t,!0,e)||t}const Dm=Symbol();function N1(t){return dt(t)?Mm(bh,t,!1)||t:t||Dm}function Mm(t,e,n=!0,s=!1){const r=Zt||gt;if(r){const i=r.type;if(t===bh){const a=q1(i);if(a&&(a===e||a===Dn(e)||a===Il(Dn(e))))return i}const o=Rf(r[t]||i[t],e)||Rf(r.appContext[t],e);return!o&&s?i:o}}function Rf(t,e){return t&&(t[e]||t[Dn(e)]||t[Il(Dn(e))])}const qe=Symbol(void 0),Eh=Symbol(void 0),mn=Symbol(void 0),_a=Symbol(void 0),Fi=[];let sr=null;function Z(t=!1){Fi.push(sr=t?null:[])}function P1(){Fi.pop(),sr=Fi[Fi.length-1]||null}let $a=1;function Of(t){$a+=t}function Rm(t){return t.dynamicChildren=$a>0?sr||Fr:null,P1(),$a>0&&sr&&sr.push(t),t}function ae(t,e,n,s,r,i){return Rm(d(t,e,n,s,r,i,!0))}function Jn(t,e,n,s,r){return Rm(He(t,e,n,s,r,!0))}function Fa(t){return t?t.__v_isVNode===!0:!1}function zs(t,e){return t.type===e.type&&t.key===e.key}const Al="__vInternal",Om=({key:t})=>t!=null?t:null,wa=({ref:t,ref_key:e,ref_for:n})=>t!=null?dt(t)||tt(t)||ve(t)?{i:Zt,r:t,k:e,f:!!n}:t:null;function d(t,e=null,n=null,s=0,r=null,i=t===qe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Om(e),ref:e&&wa(e),scopeId:dm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(Ih(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=dt(n)?8:16),$a>0&&!o&&sr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&sr.push(l),l}const He=L1;function L1(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Dm)&&(t=mn),Fa(t)){const a=Gr(t,e,!0);return n&&Ih(a,n),a}if(K1(t)&&(t=t.__vccOpts),e){e=$1(e);let{class:a,style:l}=e;a&&!dt(a)&&(e.class=Ct(a)),nt(l)&&(em(l)&&!ie(l)&&(l=xt({},l)),e.style=rh(l))}const o=dt(t)?1:s1(t)?128:O1(t)?64:nt(t)?4:ve(t)?2:0;return d(t,e,n,s,r,o,i,!0)}function $1(t){return t?em(t)||Al in t?xt({},t):t:null}function Gr(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?F1(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Om(a),ref:e&&e.ref?n&&r?ie(r)?r.concat(wa(e)):[r,wa(e)]:wa(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gr(t.ssContent),ssFallback:t.ssFallback&&Gr(t.ssFallback),el:t.el,anchor:t.anchor}}function Nm(t=" ",e=0){return He(Eh,null,t,e)}function xh(t,e){const n=He(_a,null,t);return n.staticCount=e,n}function Cs(t="",e=!1){return e?(Z(),Jn(mn,null,t)):He(mn,null,t)}function xn(t){return t==null||typeof t=="boolean"?He(mn):ie(t)?He(qe,null,t.slice()):typeof t=="object"?fs(t):He(Eh,null,String(t))}function fs(t){return t.el===null||t.memo?t:Gr(t)}function Ih(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ie(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Ih(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Al in e)?e._ctx=Zt:r===3&&Zt&&(Zt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:Zt},n=32):(e=String(e),s&64?(n=16,e=[Nm(e)]):n=8);t.children=e,t.shapeFlag|=n}function F1(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ct([e.class,s.class]));else if(r==="style")e.style=rh([e.style,s.style]);else if(wl(r)){const i=e[r],o=s[r];o&&i!==o&&!(ie(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function En(t,e,n,s=null){ln(t,e,7,[n,s])}function As(t,e,n,s){let r;const i=n&&n[s];if(ie(t)||dt(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(nt(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function Pm(t,e,n={},s,r){if(Zt.isCE)return He("slot",e==="default"?null:{name:e},s&&s());let i=t[e];i&&i._c&&(i._d=!1),Z();const o=i&&Lm(i(n)),a=Jn(qe,{key:n.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Lm(t){return t.some(e=>Fa(e)?!(e.type===mn||e.type===qe&&!Lm(e.children)):!0)?t:null}const fu=t=>t?$m(t)?Sh(t)||t.proxy:fu(t.parent):null,Ua=xt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fu(t.parent),$root:t=>fu(t.root),$emit:t=>t.emit,$options:t=>bm(t),$forceUpdate:t=>()=>om(t.update),$nextTick:t=>_r.bind(t.proxy),$watch:t=>i1.bind(t)}),U1={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(s!==Be&&ke(s,e))return o[e]=1,s[e];if(r!==Be&&ke(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ke(c,e))return o[e]=3,i[e];if(n!==Be&&ke(n,e))return o[e]=4,n[e];cu&&(o[e]=0)}}const u=Ua[e];let h,f;if(u)return e==="$attrs"&&en(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Be&&ke(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ke(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return r!==Be&&ke(r,e)?(r[e]=n,!0):s!==Be&&ke(s,e)?(s[e]=n,!0):ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Be&&ke(t,o)||e!==Be&&ke(e,o)||(a=i[0])&&ke(a,o)||ke(s,o)||ke(Ua,o)||ke(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},V1=km();let B1=0;function j1(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||V1,i={uid:B1++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xm(s,r),emitsOptions:hm(s,r),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:s.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Jw.bind(null,i),t.ce&&t.ce(i),i}let gt=null;const Th=()=>gt||Zt,Qr=t=>{gt=t,t.scope.on()},rr=()=>{gt&&gt.scope.off(),gt=null};function $m(t){return t.vnode.shapeFlag&4}let no=!1;function H1(t,e=!1){no=e;const{props:n,children:s}=t.vnode,r=$m(t);x1(t,n,r,e),S1(t,s);const i=r?Y1(t,e):void 0;return no=!1,i}function Y1(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Kr(new Proxy(t.ctx,U1));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?z1(t):null;Qr(t),ci();const i=Es(s,t,0,[t.props,r]);if(ui(),rr(),$g(i)){if(i.then(rr,rr),e)return i.then(o=>{Nf(t,o,e)}).catch(o=>{Sl(o,t,0)});t.asyncDep=i}else Nf(t,i,e)}else Fm(t,e)}function Nf(t,e,n){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nt(e)&&(t.setupState=rm(e)),Fm(t,n)}let Pf;function Fm(t,e,n){const s=t.type;if(!t.render){if(!e&&Pf&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=xt(xt({isCustomElement:i,delimiters:a},o),l);s.render=Pf(r,c)}}t.render=s.render||pn}Qr(t),ci(),v1(t),ui(),rr()}function W1(t){return new Proxy(t.attrs,{get(e,n){return en(t,"get","$attrs"),e[n]}})}function z1(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=W1(t))},slots:t.slots,emit:t.emit,expose:e}}function Sh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(rm(Kr(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ua)return Ua[n](t)}}))}function q1(t){return ve(t)&&t.displayName||t.name}function K1(t){return ve(t)&&"__vccOpts"in t}const wt=(t,e)=>zw(t,e,no);function kh(t,e,n){const s=arguments.length;return s===2?nt(e)&&!ie(e)?Fa(e)?He(t,null,[e]):He(t,e):He(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Fa(n)&&(n=[n]),He(t,e,n))}const G1="3.2.31",Q1="http://www.w3.org/2000/svg",qs=typeof document<"u"?document:null,Lf=qs&&qs.createElement("template"),X1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?qs.createElementNS(Q1,t):qs.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>qs.createTextNode(t),createComment:t=>qs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>qs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Lf.innerHTML=s?`<svg>${t}</svg>`:t;const a=Lf.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function J1(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Z1(t,e,n){const s=t.style,r=dt(n);if(n&&!r){for(const i in n)pu(s,i,n[i]);if(e&&!dt(e))for(const i in e)n[i]==null&&pu(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const $f=/\s*!important$/;function pu(t,e,n){if(ie(n))n.forEach(s=>pu(t,e,s));else if(e.startsWith("--"))t.setProperty(e,n);else{const s=eb(t,e);$f.test(n)?t.setProperty(vr(s),n.replace($f,""),"important"):t[s]=n}}const Ff=["Webkit","Moz","ms"],Sc={};function eb(t,e){const n=Sc[e];if(n)return n;let s=Dn(e);if(s!=="filter"&&s in t)return Sc[e]=s;s=Il(s);for(let r=0;r<Ff.length;r++){const i=Ff[r]+s;if(i in t)return Sc[e]=i}return e}const Uf="http://www.w3.org/1999/xlink";function tb(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Uf,e.slice(6,e.length)):t.setAttributeNS(Uf,e,n);else{const i=Z_(e);n==null||i&&!Pg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function nb(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n==null?"":n;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=Pg(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let Va=Date.now,Um=!1;if(typeof window<"u"){Va()>document.createEvent("Event").timeStamp&&(Va=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Um=!!(t&&Number(t[1])<=53)}let gu=0;const sb=Promise.resolve(),rb=()=>{gu=0},ib=()=>gu||(sb.then(rb),gu=Va());function Ks(t,e,n,s){t.addEventListener(e,n,s)}function ob(t,e,n,s){t.removeEventListener(e,n,s)}function ab(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=lb(e);if(s){const c=i[e]=cb(s,r);Ks(t,a,c,l)}else o&&(ob(t,a,o,l),i[e]=void 0)}}const Vf=/(?:Once|Passive|Capture)$/;function lb(t){let e;if(Vf.test(t)){e={};let n;for(;n=t.match(Vf);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[vr(t.slice(2)),e]}function cb(t,e){const n=s=>{const r=s.timeStamp||Va();(Um||r>=n.attached-1)&&ln(ub(s,n.value),e,5,[s])};return n.value=t,n.attached=ib(),n}function ub(t,e){if(ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Bf=/^on[a-z]/,hb=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?J1(t,s,r):e==="style"?Z1(t,n,s):wl(e)?ih(e)||ab(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):db(t,e,s,r))?nb(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),tb(t,e,s,r))};function db(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Bf.test(e)&&ve(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Bf.test(e)&&dt(n)?!1:e in t}const ls="transition",Ii="animation",Ch=(t,{slots:e})=>kh(gm,fb(t),e);Ch.displayName="Transition";const Vm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ch.props=xt({},gm.props,Vm);const Bs=(t,e=[])=>{ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},jf=t=>t?ie(t)?t.some(e=>e.length>1):t.length>1:!1;function fb(t){const e={};for(const F in t)F in Vm||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,y=pb(r),w=y&&y[0],_=y&&y[1],{onBeforeEnter:T,onEnter:$,onEnterCancelled:J,onLeave:q,onLeaveCancelled:z,onBeforeAppear:H=T,onAppear:P=$,onAppearCancelled:A=J}=e,O=(F,xe,Me)=>{Sr(F,xe?u:a),Sr(F,xe?c:o),Me&&Me()},se=(F,xe)=>{Sr(F,g),Sr(F,f),xe&&xe()},re=F=>(xe,Me)=>{const K=F?P:$,he=()=>O(xe,F,Me);Bs(K,[xe,he]),Hf(()=>{Sr(xe,F?l:i),cs(xe,F?u:a),jf(K)||Yf(xe,s,w,he)})};return xt(e,{onBeforeEnter(F){Bs(T,[F]),cs(F,i),cs(F,o)},onBeforeAppear(F){Bs(H,[F]),cs(F,l),cs(F,c)},onEnter:re(!1),onAppear:re(!0),onLeave(F,xe){const Me=()=>se(F,xe);cs(F,h),yb(),cs(F,f),Hf(()=>{Sr(F,h),cs(F,g),jf(q)||Yf(F,s,_,Me)}),Bs(q,[F,Me])},onEnterCancelled(F){O(F,!1),Bs(J,[F])},onAppearCancelled(F){O(F,!0),Bs(A,[F])},onLeaveCancelled(F){se(F),Bs(z,[F])}})}function pb(t){if(t==null)return null;if(nt(t))return[kc(t.enter),kc(t.leave)];{const e=kc(t);return[e,e]}}function kc(t){return Ji(t)}function cs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Sr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Hf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let gb=0;function Yf(t,e,n,s){const r=t._endId=++gb,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=mb(t,e);if(!o)return s();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),i()},f=g=>{g.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function mb(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(ls+"Delay"),i=s(ls+"Duration"),o=Wf(r,i),a=s(Ii+"Delay"),l=s(Ii+"Duration"),c=Wf(a,l);let u=null,h=0,f=0;e===ls?o>0&&(u=ls,h=o,f=i.length):e===Ii?c>0&&(u=Ii,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?ls:Ii:null,f=u?u===ls?i.length:l.length:0);const g=u===ls&&/\b(transform|all)(,|$)/.test(n[ls+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:g}}function Wf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>zf(n)+zf(t[s])))}function zf(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function yb(){return document.body.offsetHeight}const Ba=t=>{const e=t.props["onUpdate:modelValue"];return ie(e)?n=>ya(e,n):e};function vb(t){t.target.composing=!0}function qf(t){const e=t.target;e.composing&&(e.composing=!1,_b(e,"input"))}function _b(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Qs={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Ba(r);const i=s||r.props&&r.props.type==="number";Ks(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n?a=a.trim():i&&(a=Ji(a)),t._assign(a)}),n&&Ks(t,"change",()=>{t.value=t.value.trim()}),e||(Ks(t,"compositionstart",vb),Ks(t,"compositionend",qf),Ks(t,"change",qf))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=Ba(i),t.composing||document.activeElement===t&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Ji(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Kf={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=bl(e);Ks(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ji(ja(o)):ja(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=Ba(s)},mounted(t,{value:e}){Gf(t,e)},beforeUpdate(t,e,n){t._assign=Ba(n)},updated(t,{value:e}){Gf(t,e)}};function Gf(t,e){const n=t.multiple;if(!(n&&!ie(e)&&!bl(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=ja(i);if(n)ie(e)?i.selected=rw(e,o)>-1:i.selected=e.has(o);else if(_l(ja(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ja(t){return"_value"in t?t._value:t.value}const wb=["ctrl","shift","alt","meta"],bb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>wb.some(n=>t[`${n}Key`]&&!e.includes(n))},Ah=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=bb[e[r]];if(i&&i(n,e))return}return t(n,...s)},Eb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mt=(t,e)=>n=>{if(!("key"in n))return;const s=vr(n.key);if(e.some(r=>r===s||Eb[r]===s))return t(n)},mu={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ti(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Ti(t,!0),s.enter(t)):s.leave(t,()=>{Ti(t,!1)}):Ti(t,e))},beforeUnmount(t,{value:e}){Ti(t,e)}};function Ti(t,e){t.style.display=e?t._vod:"none"}const xb=xt({patchProp:hb},X1);let Qf;function Ib(){return Qf||(Qf=D1(xb))}const Tb=(...t)=>{const e=Ib().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Sb(s);if(!r)return;const i=e._component;!ve(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Sb(t){return dt(t)?document.querySelector(t):t}/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const Bm=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",di=t=>Bm?Symbol(t):"_vr_"+t,kb=di("rvlm"),Xf=di("rvd"),Dl=di("r"),Dh=di("rl"),yu=di("rvl"),Or=typeof window<"u";function Cb(t){return t.__esModule||Bm&&t[Symbol.toStringTag]==="Module"}const Ve=Object.assign;function Cc(t,e){const n={};for(const s in e){const r=e[s];n[s]=Array.isArray(r)?r.map(t):t(r)}return n}const Ui=()=>{},Ab=/\/$/,Db=t=>t.replace(Ab,"");function Ac(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("?"),l=e.indexOf("#",a>-1?a:0);return a>-1&&(s=e.slice(0,a),i=e.slice(a+1,l>-1?l:e.length),r=t(i)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=Nb(s!=null?s:e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function Mb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Jf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Rb(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Xr(e.matched[s],n.matched[r])&&jm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Xr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ob(t[n],e[n]))return!1;return!0}function Ob(t,e){return Array.isArray(t)?Zf(t,e):Array.isArray(e)?Zf(e,t):t===e}function Zf(t,e){return Array.isArray(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Nb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var so;(function(t){t.pop="pop",t.push="push"})(so||(so={}));var Vi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Vi||(Vi={}));function Pb(t){if(!t)if(Or){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Db(t)}const Lb=/^[^#]+#/;function $b(t,e){return t.replace(Lb,"#")+e}function Fb(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ml=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ub(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Fb(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ep(t,e){return(history.state?history.state.position-e:-1)+t}const vu=new Map;function Vb(t,e){vu.set(t,e)}function Bb(t){const e=vu.get(t);return vu.delete(t),e}let jb=()=>location.protocol+"//"+location.host;function Hm(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Jf(l,"")}return Jf(n,t)+s+r}function Hb(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const g=Hm(t,location),y=n.value,w=e.value;let _=0;if(f){if(n.value=g,e.value=f,o&&o===y){o=null;return}_=w?f.position-w.position:0}else s(g);r.forEach(T=>{T(n.value,y,{delta:_,type:so.pop,direction:_?_>0?Vi.forward:Vi.back:Vi.unknown})})};function l(){o=n.value}function c(f){r.push(f);const g=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return i.push(g),g}function u(){const{history:f}=window;!f.state||f.replaceState(Ve({},f.state,{scroll:Ml()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function tp(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ml():null}}function Yb(t){const{history:e,location:n}=window,s={value:Hm(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:jb()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(g){console.error(g),n[u?"replace":"assign"](f)}}function o(l,c){const u=Ve({},e.state,tp(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Ve({},r.value,e.state,{forward:l,scroll:Ml()});i(u.current,u,!0);const h=Ve({},tp(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Wb(t){t=Pb(t);const e=Yb(t),n=Hb(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ve({location:"",base:t,go:s,createHref:$b.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function zb(t){return typeof t=="string"||t&&typeof t=="object"}function Ym(t){return typeof t=="string"||typeof t=="symbol"}const us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wm=di("nf");var np;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(np||(np={}));function Jr(t,e){return Ve(new Error,{type:t,[Wm]:!0},e)}function js(t,e){return t instanceof Error&&Wm in t&&(e==null||!!(t.type&e))}const sp="[^/]+?",qb={sensitive:!1,strict:!1,start:!0,end:!0},Kb=/[.+*?^${}()[\]/\\]/g;function Gb(t,e){const n=Ve({},qb,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(Kb,"\\$&"),g+=40;else if(f.type===1){const{value:y,repeatable:w,optional:_,regexp:T}=f;i.push({name:y,repeatable:w,optional:_});const $=T||sp;if($!==sp){g+=10;try{new RegExp(`(${$})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${y}" (${$}): `+q.message)}}let J=w?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(J=_&&c.length<2?`(?:/${J})`:"/"+J),_&&(J+="?"),r+=J,g+=20,_&&(g+=-8),w&&(g+=-20),$===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",y=i[f-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:w,optional:_}=g,T=y in c?c[y]:"";if(Array.isArray(T)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const $=Array.isArray(T)?T.join("/"):T;if(!$)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=$}}return u}return{re:o,score:s,keys:i,parse:a,stringify:l}}function Qb(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Xb(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=Qb(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const Jb={type:0,value:""},Zb=/[a-zA-Z0-9_]/;function eE(t){if(!t)return[[]];if(t==="/")return[[Jb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:Zb.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function tE(t,e,n){const s=Gb(eE(t.path),n),r=Ve(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function nE(t,e){const n=[],s=new Map;e=ip({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const g=!f,y=rE(u);y.aliasOf=f&&f.record;const w=ip(e,u),_=[y];if("alias"in u){const J=typeof u.alias=="string"?[u.alias]:u.alias;for(const q of J)_.push(Ve({},y,{components:f?f.record.components:y.components,path:q,aliasOf:f?f.record:y}))}let T,$;for(const J of _){const{path:q}=J;if(h&&q[0]!=="/"){const z=h.record.path,H=z[z.length-1]==="/"?"":"/";J.path=h.record.path+(q&&H+q)}if(T=tE(J,h,w),f?f.alias.push(T):($=$||T,$!==T&&$.alias.push(T),g&&u.name&&!rp(T)&&o(u.name)),"children"in y){const z=y.children;for(let H=0;H<z.length;H++)i(z[H],T,f&&f.children[H])}f=f||T,l(T)}return $?()=>{o($)}:Ui}function o(u){if(Ym(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&Xb(u,n[h])>=0;)h++;n.splice(h,0,u),u.record.name&&!rp(u)&&s.set(u.record.name,u)}function c(u,h){let f,g={},y,w;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Jr(1,{location:u});w=f.record.name,g=Ve(sE(h.params,f.keys.filter($=>!$.optional).map($=>$.name)),u.params),y=f.stringify(g)}else if("path"in u)y=u.path,f=n.find($=>$.re.test(y)),f&&(g=f.parse(y),w=f.record.name);else{if(f=h.name?s.get(h.name):n.find($=>$.re.test(h.path)),!f)throw Jr(1,{location:u,currentLocation:h});w=f.record.name,g=Ve({},h.params,u.params),y=f.stringify(g)}const _=[];let T=f;for(;T;)_.unshift(T.record),T=T.parent;return{name:w,path:y,params:g,matched:_,meta:oE(_)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function sE(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function rE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:iE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function iE(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function rp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function oE(t){return t.reduce((e,n)=>Ve(e,n.meta),{})}function ip(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const zm=/#/g,aE=/&/g,lE=/\//g,cE=/=/g,uE=/\?/g,qm=/\+/g,hE=/%5B/g,dE=/%5D/g,Km=/%5E/g,fE=/%60/g,Gm=/%7B/g,pE=/%7C/g,Qm=/%7D/g,gE=/%20/g;function Mh(t){return encodeURI(""+t).replace(pE,"|").replace(hE,"[").replace(dE,"]")}function mE(t){return Mh(t).replace(Gm,"{").replace(Qm,"}").replace(Km,"^")}function _u(t){return Mh(t).replace(qm,"%2B").replace(gE,"+").replace(zm,"%23").replace(aE,"%26").replace(fE,"`").replace(Gm,"{").replace(Qm,"}").replace(Km,"^")}function yE(t){return _u(t).replace(cE,"%3D")}function vE(t){return Mh(t).replace(zm,"%23").replace(uE,"%3F")}function _E(t){return t==null?"":vE(t).replace(lE,"%2F")}function Ha(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function wE(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(qm," "),o=i.indexOf("="),a=Ha(o<0?i:i.slice(0,o)),l=o<0?null:Ha(i.slice(o+1));if(a in e){let c=e[a];Array.isArray(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function op(t){let e="";for(let n in t){const s=t[n];if(n=yE(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&_u(i)):[s&&_u(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function bE(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}function Si(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ps(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Jr(4,{from:n,to:e})):h instanceof Error?a(h):zb(h)?a(Jr(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Dc(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(EE(a)){const c=(a.__vccOpts||a)[e];c&&r.push(ps(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Cb(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&ps(f,n,s,i,o)()}))}}return r}function EE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ap(t){const e=gn(Dl),n=gn(Dh),s=wt(()=>e.resolve(ue(t.to))),r=wt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Xr.bind(null,u));if(f>-1)return f;const g=lp(l[c-2]);return c>1&&lp(u)===g&&h[h.length-1].path!==g?h.findIndex(Xr.bind(null,l[c-2])):f}),i=wt(()=>r.value>-1&&SE(n.params,s.value.params)),o=wt(()=>r.value>-1&&r.value===n.matched.length-1&&jm(n.params,s.value.params));function a(l={}){return TE(l)?e[ue(t.replace)?"replace":"push"](ue(t.to)).catch(Ui):Promise.resolve()}return{route:s,href:wt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const xE=lt({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ap,setup(t,{slots:e}){const n=hi(ap(t)),{options:s}=gn(Dl),r=wt(()=>({[cp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[cp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:kh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),IE=xE;function TE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function SE(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function lp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const cp=(t,e,n)=>t!=null?t:e!=null?e:n,kE=lt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const s=gn(yu),r=wt(()=>t.route||s.value),i=gn(Xf,0),o=wt(()=>r.value.matched[i]);va(Xf,i+1),va(kb,o),va(yu,r);const a=oe();return $i(()=>[a.value,o.value,t.name],([l,c,u],[h,f,g])=>{c&&(c.instances[u]=l,f&&f!==c&&l&&l===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),l&&c&&(!f||!Xr(c,f)||!h)&&(c.enterCallbacks[u]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=r.value,c=o.value,u=c&&c.components[t.name],h=t.name;if(!u)return up(n.default,{Component:u,route:l});const f=c.props[t.name],g=f?f===!0?l.params:typeof f=="function"?f(l):f:null,w=kh(u,Ve({},g,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(c.instances[h]=null)},ref:a}));return up(n.default,{Component:w,route:l})||w}}});function up(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const CE=kE;function AE(t){const e=nE(t.routes,t),n=t.parseQuery||wE,s=t.stringifyQuery||op,r=t.history,i=Si(),o=Si(),a=Si(),l=Uw(us);let c=us;Or&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Cc.bind(null,E=>""+E),h=Cc.bind(null,_E),f=Cc.bind(null,Ha);function g(E,W){let L,Q;return Ym(E)?(L=e.getRecordMatcher(E),Q=W):Q=E,e.addRoute(Q,L)}function y(E){const W=e.getRecordMatcher(E);W&&e.removeRoute(W)}function w(){return e.getRoutes().map(E=>E.record)}function _(E){return!!e.getRecordMatcher(E)}function T(E,W){if(W=Ve({},W||l.value),typeof E=="string"){const me=Ac(n,E,W.path),p=e.resolve({path:me.path},W),m=r.createHref(me.fullPath);return Ve(me,p,{params:f(p.params),hash:Ha(me.hash),redirectedFrom:void 0,href:m})}let L;if("path"in E)L=Ve({},E,{path:Ac(n,E.path,W.path).path});else{const me=Ve({},E.params);for(const p in me)me[p]==null&&delete me[p];L=Ve({},E,{params:h(E.params)}),W.params=h(W.params)}const Q=e.resolve(L,W),Fe=E.hash||"";Q.params=u(f(Q.params));const Ye=Mb(s,Ve({},E,{hash:mE(Fe),path:Q.path})),be=r.createHref(Ye);return Ve({fullPath:Ye,hash:Fe,query:s===op?bE(E.query):E.query||{}},Q,{redirectedFrom:void 0,href:be})}function $(E){return typeof E=="string"?Ac(n,E,l.value.path):Ve({},E)}function J(E,W){if(c!==E)return Jr(8,{from:W,to:E})}function q(E){return P(E)}function z(E){return q(Ve($(E),{replace:!0}))}function H(E){const W=E.matched[E.matched.length-1];if(W&&W.redirect){const{redirect:L}=W;let Q=typeof L=="function"?L(E):L;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=$(Q):{path:Q},Q.params={}),Ve({query:E.query,hash:E.hash,params:E.params},Q)}}function P(E,W){const L=c=T(E),Q=l.value,Fe=E.state,Ye=E.force,be=E.replace===!0,me=H(L);if(me)return P(Ve($(me),{state:Fe,force:Ye,replace:be}),W||L);const p=L;p.redirectedFrom=W;let m;return!Ye&&Rb(s,Q,L)&&(m=Jr(16,{to:p,from:Q}),kt(Q,Q,!0,!1)),(m?Promise.resolve(m):O(p,Q)).catch(v=>js(v)?v:Oe(v,p,Q)).then(v=>{if(v){if(js(v,2))return P(Ve($(v.to),{state:Fe,force:Ye,replace:be}),W||p)}else v=re(p,Q,!0,be,Fe);return se(p,Q,v),v})}function A(E,W){const L=J(E,W);return L?Promise.reject(L):Promise.resolve()}function O(E,W){let L;const[Q,Fe,Ye]=DE(E,W);L=Dc(Q.reverse(),"beforeRouteLeave",E,W);for(const me of Q)me.leaveGuards.forEach(p=>{L.push(ps(p,E,W))});const be=A.bind(null,E,W);return L.push(be),kr(L).then(()=>{L=[];for(const me of i.list())L.push(ps(me,E,W));return L.push(be),kr(L)}).then(()=>{L=Dc(Fe,"beforeRouteUpdate",E,W);for(const me of Fe)me.updateGuards.forEach(p=>{L.push(ps(p,E,W))});return L.push(be),kr(L)}).then(()=>{L=[];for(const me of E.matched)if(me.beforeEnter&&!W.matched.includes(me))if(Array.isArray(me.beforeEnter))for(const p of me.beforeEnter)L.push(ps(p,E,W));else L.push(ps(me.beforeEnter,E,W));return L.push(be),kr(L)}).then(()=>(E.matched.forEach(me=>me.enterCallbacks={}),L=Dc(Ye,"beforeRouteEnter",E,W),L.push(be),kr(L))).then(()=>{L=[];for(const me of o.list())L.push(ps(me,E,W));return L.push(be),kr(L)}).catch(me=>js(me,8)?me:Promise.reject(me))}function se(E,W,L){for(const Q of a.list())Q(E,W,L)}function re(E,W,L,Q,Fe){const Ye=J(E,W);if(Ye)return Ye;const be=W===us,me=Or?history.state:{};L&&(Q||be?r.replace(E.fullPath,Ve({scroll:be&&me&&me.scroll},Fe)):r.push(E.fullPath,Fe)),l.value=E,kt(E,W,L,be),Ne()}let F;function xe(){F=r.listen((E,W,L)=>{const Q=T(E),Fe=H(Q);if(Fe){P(Ve(Fe,{replace:!0}),Q).catch(Ui);return}c=Q;const Ye=l.value;Or&&Vb(ep(Ye.fullPath,L.delta),Ml()),O(Q,Ye).catch(be=>js(be,12)?be:js(be,2)?(P(be.to,Q).then(me=>{js(me,20)&&!L.delta&&L.type===so.pop&&r.go(-1,!1)}).catch(Ui),Promise.reject()):(L.delta&&r.go(-L.delta,!1),Oe(be,Q,Ye))).then(be=>{be=be||re(Q,Ye,!1),be&&(L.delta?r.go(-L.delta,!1):L.type===so.pop&&js(be,20)&&r.go(-1,!1)),se(Q,Ye,be)}).catch(Ui)})}let Me=Si(),K=Si(),he;function Oe(E,W,L){Ne(E);const Q=K.list();return Q.length?Q.forEach(Fe=>Fe(E,W,L)):console.error(E),Promise.reject(E)}function Le(){return he&&l.value!==us?Promise.resolve():new Promise((E,W)=>{Me.add([E,W])})}function Ne(E){he||(he=!0,xe(),Me.list().forEach(([W,L])=>E?L(E):W()),Me.reset())}function kt(E,W,L,Q){const{scrollBehavior:Fe}=t;if(!Or||!Fe)return Promise.resolve();const Ye=!L&&Bb(ep(E.fullPath,0))||(Q||!L)&&history.state&&history.state.scroll||null;return _r().then(()=>Fe(E,W,Ye)).then(be=>be&&Ub(be)).catch(be=>Oe(be,E,W))}const et=E=>r.go(E);let st;const sn=new Set;return{currentRoute:l,addRoute:g,removeRoute:y,hasRoute:_,getRoutes:w,resolve:T,options:t,push:q,replace:z,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:K.add,isReady:Le,install(E){const W=this;E.component("RouterLink",IE),E.component("RouterView",CE),E.config.globalProperties.$router=W,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),Or&&!st&&l.value===us&&(st=!0,q(r.location).catch(Fe=>{}));const L={};for(const Fe in us)L[Fe]=wt(()=>l.value[Fe]);E.provide(Dl,W),E.provide(Dh,hi(L)),E.provide(yu,l);const Q=E.unmount;sn.add(E),E.unmount=function(){sn.delete(E),sn.size<1&&(c=us,F&&F(),l.value=us,st=!1,he=!1),Q()}}}}function kr(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function DE(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Xr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Xr(c,l))||r.push(l))}return[n,s,r]}function ro(){return gn(Dl)}function ME(){return gn(Dh)}var RE=!1;/*!
  * pinia v2.0.14
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let Xm;const Rl=t=>Xm=t,Jm=Symbol();function wu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Bi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Bi||(Bi={}));function OE(){const t=Bg(!0),e=t.run(()=>oe({}));let n=[],s=[];const r=Kr({install(i){Rl(r),r._a=i,i.provide(Jm,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!RE?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Zm=()=>{};function hp(t,e,n,s=Zm){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&Th()&&_h(r),r}function Cr(t,...e){t.slice().forEach(n=>{n(...e)})}function bu(t,e){for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];wu(r)&&wu(s)&&t.hasOwnProperty(n)&&!tt(s)&&!bs(s)?t[n]=bu(r,s):t[n]=s}return t}const NE=Symbol();function PE(t){return!wu(t)||!t.hasOwnProperty(NE)}const{assign:Fn}=Object;function LE(t){return!!(tt(t)&&t.effect)}function $E(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=jw(n.state.value[t]);return Fn(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Kr(wt(()=>{Rl(n);const g=n._s.get(t);return o[f].call(g,g)})),h),{}))}return l=ey(t,c,e,n,s,!0),l.$reset=function(){const h=r?r():{};this.$patch(f=>{Fn(f,h)})},l}function ey(t,e,n={},s,r,i){let o;const a=Fn({actions:{}},n),l={deep:!0};let c,u,h=Kr([]),f=Kr([]),g;const y=s.state.value[t];!i&&!y&&(s.state.value[t]={}),oe({});let w;function _(P){let A;c=u=!1,typeof P=="function"?(P(s.state.value[t]),A={type:Bi.patchFunction,storeId:t,events:g}):(bu(s.state.value[t],P),A={type:Bi.patchObject,payload:P,storeId:t,events:g});const O=w=Symbol();_r().then(()=>{w===O&&(c=!0)}),u=!0,Cr(h,A,s.state.value[t])}const T=Zm;function $(){o.stop(),h=[],f=[],s._s.delete(t)}function J(P,A){return function(){Rl(s);const O=Array.from(arguments),se=[],re=[];function F(K){se.push(K)}function xe(K){re.push(K)}Cr(f,{args:O,name:P,store:z,after:F,onError:xe});let Me;try{Me=A.apply(this&&this.$id===t?this:z,O)}catch(K){throw Cr(re,K),K}return Me instanceof Promise?Me.then(K=>(Cr(se,K),K)).catch(K=>(Cr(re,K),Promise.reject(K))):(Cr(se,Me),Me)}}const q={_p:s,$id:t,$onAction:hp.bind(null,f),$patch:_,$reset:T,$subscribe(P,A={}){const O=hp(h,P,A.detached,()=>se()),se=o.run(()=>$i(()=>s.state.value[t],re=>{(A.flush==="sync"?u:c)&&P({storeId:t,type:Bi.direct,events:g},re)},Fn({},l,A)));return O},$dispose:$},z=hi(Fn({},q));s._s.set(t,z);const H=s._e.run(()=>(o=Bg(),o.run(()=>e())));for(const P in H){const A=H[P];if(tt(A)&&!LE(A)||bs(A))i||(y&&PE(A)&&(tt(A)?A.value=y[P]:bu(A,y[P])),s.state.value[t][P]=A);else if(typeof A=="function"){const O=J(P,A);H[P]=O,a.actions[P]=A}}return Fn(z,H),Fn(Ce(z),H),Object.defineProperty(z,"$state",{get:()=>s.state.value[t],set:P=>{_(A=>{Fn(A,P)})}}),s._p.forEach(P=>{Fn(z,o.run(()=>P({store:z,app:s._a,pinia:s,options:a})))}),y&&i&&n.hydrate&&n.hydrate(z.$state,y),c=!0,u=!0,z}function Io(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,l){const c=Th();return a=a||c&&gn(Jm),a&&Rl(a),a=Xm,a._s.has(s)||(i?ey(s,e,r,a):$E(s,r,a)),a._s.get(s)}return o.$id=s,o}const Gt=Io("user",{state:()=>({user:{}}),getters:{},actions:{async save(t){this.user={...t}},logout(){this.user={}}}}),FE=lt({setup(t){Gt(),ro();const e="default",{currentRoute:n}=ro(),s=wt(()=>`${n.value.meta.layout||e}-layout`);return rs(()=>{}),(r,i)=>{const o=Am("router-view");return Z(),Jn(N1(ue(s)),null,{default:Vr(()=>[He(o)]),_:1})}}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},UE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ny={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),s.push(n[u],n[h],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ty(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw Error();const f=i<<2|a>>4;if(s.push(f),c!==64){const g=a<<4&240|c>>2;if(s.push(g),h!==64){const y=c<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},VE=function(t){const e=ty(t);return ny.encodeByteArray(e,!0)},sy=function(t){return VE(t).replace(/\./g,"")},BE=function(t){try{return ny.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ry(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function iy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HE(){return mt().indexOf("Electron/")>=0}function ay(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YE(){return mt().indexOf("MSAppHost/")>=0}function WE(){return typeof indexedDB=="object"}function zE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="FirebaseError";class wr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qE,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?KE(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new wr(r,a,s)}}function KE(t,e){return t.replace(GE,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const GE=/\{\$([^}]+)}/g;function QE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(dp(i)&&dp(o)){if(!Ya(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function dp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function XE(t,e){const n=new JE(t,e);return n.subscribe.bind(n)}class JE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ZE(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Mc),r.error===void 0&&(r.error=Mc),r.complete===void 0&&(r.complete=Mc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nx(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tx(t){return t===Ws?void 0:t}function nx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const rx={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},ix=Re.INFO,ox={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},ax=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=ox[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rh{constructor(e){this.name=e,this._logLevel=ix,this._logHandler=ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const lx=(t,e)=>e.some(n=>t instanceof n);let fp,pp;function cx(){return fp||(fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ux(){return pp||(pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ly=new WeakMap,Eu=new WeakMap,cy=new WeakMap,Rc=new WeakMap,Oh=new WeakMap;function hx(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xs(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ly.set(n,t)}).catch(()=>{}),Oh.set(e,t),e}function dx(t){if(Eu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Eu.set(t,e)}let xu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fx(t){xu=t(xu)}function px(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Oc(this),e,...n);return cy.set(s,e.sort?e.sort():[e]),xs(s)}:ux().includes(t)?function(...e){return t.apply(Oc(this),e),xs(ly.get(this))}:function(...e){return xs(t.apply(Oc(this),e))}}function gx(t){return typeof t=="function"?px(t):(t instanceof IDBTransaction&&dx(t),lx(t,cx())?new Proxy(t,xu):t)}function xs(t){if(t instanceof IDBRequest)return hx(t);if(Rc.has(t))return Rc.get(t);const e=gx(t);return e!==t&&(Rc.set(t,e),Oh.set(e,t)),e}const Oc=t=>Oh.get(t);function mx(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=xs(o);return s&&o.addEventListener("upgradeneeded",l=>{s(xs(o.result),l.oldVersion,l.newVersion,xs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const yx=["get","getKey","getAll","getAllKeys","count"],vx=["put","add","delete","clear"],Nc=new Map;function gp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nc.get(e))return Nc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=vx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||yx.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Nc.set(e,i),i}fx(t=>({...t,get:(e,n,s)=>gp(e,n)||t.get(e,n,s),has:(e,n)=>!!gp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iu="@firebase/app",mp="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Rh("@firebase/app"),bx="@firebase/app-compat",Ex="@firebase/analytics-compat",xx="@firebase/analytics",Ix="@firebase/app-check-compat",Tx="@firebase/app-check",Sx="@firebase/auth",kx="@firebase/auth-compat",Cx="@firebase/database",Ax="@firebase/database-compat",Dx="@firebase/functions",Mx="@firebase/functions-compat",Rx="@firebase/installations",Ox="@firebase/installations-compat",Nx="@firebase/messaging",Px="@firebase/messaging-compat",Lx="@firebase/performance",$x="@firebase/performance-compat",Fx="@firebase/remote-config",Ux="@firebase/remote-config-compat",Vx="@firebase/storage",Bx="@firebase/storage-compat",jx="@firebase/firestore",Hx="@firebase/firestore-compat",Yx="firebase",Wx="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",zx={[Iu]:"fire-core",[bx]:"fire-core-compat",[xx]:"fire-analytics",[Ex]:"fire-analytics-compat",[Tx]:"fire-app-check",[Ix]:"fire-app-check-compat",[Sx]:"fire-auth",[kx]:"fire-auth-compat",[Cx]:"fire-rtdb",[Ax]:"fire-rtdb-compat",[Dx]:"fire-fn",[Mx]:"fire-fn-compat",[Rx]:"fire-iid",[Ox]:"fire-iid-compat",[Nx]:"fire-fcm",[Px]:"fire-fcm-compat",[Lx]:"fire-perf",[$x]:"fire-perf-compat",[Fx]:"fire-rc",[Ux]:"fire-rc-compat",[Vx]:"fire-gcs",[Bx]:"fire-gcs-compat",[jx]:"fire-fst",[Hx]:"fire-fst-compat","fire-js":"fire-js",[Yx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Map,Tu=new Map;function qx(t,e){try{t.container.addComponent(e)}catch(n){Nh.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zr(t){const e=t.name;if(Tu.has(e))return Nh.debug(`There were multiple attempts to register component ${e}.`),!1;Tu.set(e,t);for(const n of Wa.values())qx(n,t);return!0}function Ph(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},cr=new To("app","Firebase",Kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=Wx;function Qx(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:uy,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw cr.create("bad-app-name",{appName:String(s)});const r=Wa.get(s);if(r){if(Ya(t,r.options)&&Ya(n,r.config))return r;throw cr.create("duplicate-app",{appName:s})}const i=new sx(s);for(const a of Tu.values())i.addComponent(a);const o=new Gx(t,n,i);return Wa.set(s,o),o}function hy(t=uy){const e=Wa.get(t);if(!e)throw cr.create("no-app",{appName:t});return e}function Is(t,e,n){var s;let r=(s=zx[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nh.warn(a.join(" "));return}Zr(new lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebase-heartbeat-database",Jx=1,io="firebase-heartbeat-store";let Pc=null;function dy(){return Pc||(Pc=mx(Xx,Jx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(io)}}}).catch(t=>{throw cr.create("storage-open",{originalErrorMessage:t.message})})),Pc}async function Zx(t){var e;try{return(await dy()).transaction(io).objectStore(io).get(fy(t))}catch(n){throw cr.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function yp(t,e){var n;try{const r=(await dy()).transaction(io,"readwrite");return await r.objectStore(io).put(e,fy(t)),r.done}catch(s){throw cr.create("storage-set",{originalErrorMessage:(n=s)===null||n===void 0?void 0:n.message})}}function fy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1024,tI=30*24*60*60*1e3;class nI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=tI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vp(),{heartbeatsToSend:n,unsentEntries:s}=sI(this._heartbeatsCache.heartbeats),r=sy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function vp(){return new Date().toISOString().substring(0,10)}function sI(t,e=eI){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),_p(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_p(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WE()?zE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Zx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _p(t){return sy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){Zr(new lr("platform-logger",e=>new _x(e),"PRIVATE")),Zr(new lr("heartbeat",e=>new nI(e),"PRIVATE")),Is(Iu,mp,t),Is(Iu,mp,"esm2017"),Is("fire-js","")}iI("");var oI=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},j,Lh=Lh||{},le=oI||self;function za(){}function Su(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Co(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aI(t){return Object.prototype.hasOwnProperty.call(t,Lc)&&t[Lc]||(t[Lc]=++lI)}var Lc="closure_uid_"+(1e9*Math.random()>>>0),lI=0;function cI(t,e,n){return t.call.apply(t.bind,arguments)}function uI(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=cI:bt=uI,bt.apply(null,arguments)}function aa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function St(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Ns(){this.s=this.s,this.o=this.o}var hI=0;Ns.prototype.s=!1;Ns.prototype.na=function(){!this.s&&(this.s=!0,this.M(),hI!=0)&&aI(this)};Ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const py=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gy=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const s=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<s;i++)i in r&&e.call(n,r[i],i,t)};function dI(t){e:{var e=sT;const n=t.length,s=typeof t=="string"?t.split(""):t;for(let r=0;r<n;r++)if(r in s&&e.call(void 0,s[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function wp(t){return Array.prototype.concat.apply([],arguments)}function $h(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function qa(t){return/^[\s\xa0]*$/.test(t)}var bp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ft(t,e){return t.indexOf(e)!=-1}function $c(t,e){return t<e?-1:t>e?1:0}var Ut;e:{var Ep=le.navigator;if(Ep){var xp=Ep.userAgent;if(xp){Ut=xp;break e}}Ut=""}function Fh(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function my(t){const e={};for(const n in t)e[n]=t[n];return e}var Ip="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yy(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Ip.length;i++)n=Ip[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Uh(t){return Uh[" "](t),t}Uh[" "]=za;function fI(t){var e=mI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var pI=Ft(Ut,"Opera"),ei=Ft(Ut,"Trident")||Ft(Ut,"MSIE"),vy=Ft(Ut,"Edge"),ku=vy||ei,_y=Ft(Ut,"Gecko")&&!(Ft(Ut.toLowerCase(),"webkit")&&!Ft(Ut,"Edge"))&&!(Ft(Ut,"Trident")||Ft(Ut,"MSIE"))&&!Ft(Ut,"Edge"),gI=Ft(Ut.toLowerCase(),"webkit")&&!Ft(Ut,"Edge");function wy(){var t=le.document;return t?t.documentMode:void 0}var Ka;e:{var Fc="",Uc=function(){var t=Ut;if(_y)return/rv:([^\);]+)(\)|;)/.exec(t);if(vy)return/Edge\/([\d\.]+)/.exec(t);if(ei)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gI)return/WebKit\/(\S+)/.exec(t);if(pI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Uc&&(Fc=Uc?Uc[1]:""),ei){var Vc=wy();if(Vc!=null&&Vc>parseFloat(Fc)){Ka=String(Vc);break e}}Ka=Fc}var mI={};function yI(){return fI(function(){let t=0;const e=bp(String(Ka)).split("."),n=bp("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=$c(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||$c(r[2].length==0,i[2].length==0)||$c(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var Cu;if(le.document&&ei){var Tp=wy();Cu=Tp||parseInt(Ka,10)||void 0}else Cu=void 0;var vI=Cu,_I=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",za,e),le.removeEventListener("test",za,e)}catch{}return t}();function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};function oo(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_y){e:{try{Uh(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&oo.Z.h.call(this)}}St(oo,Rt);var wI={2:"touch",3:"pen",4:"mouse"};oo.prototype.h=function(){oo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ao="closure_listenable_"+(1e6*Math.random()|0),bI=0;function EI(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ia=r,this.key=++bI,this.ca=this.fa=!1}function Ol(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Nl(t){this.src=t,this.g={},this.h=0}Nl.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Du(t,e,s,r);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new EI(e,this.src,i,!!s,r),e.fa=n,t.push(e)),e};function Au(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=py(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Ol(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Du(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ca&&i.listener==e&&i.capture==!!n&&i.ia==s)return r}return-1}var Vh="closure_lm_"+(1e6*Math.random()|0),Bc={};function by(t,e,n,s,r){if(s&&s.once)return xy(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)by(t,e[i],n,s,r);return null}return n=Hh(n),t&&t[Ao]?t.N(e,n,Co(s)?!!s.capture:!!s,r):Ey(t,e,n,!1,s,r)}function Ey(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Co(r)?!!r.capture:!!r,a=jh(t);if(a||(t[Vh]=a=new Nl(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=xI(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)_I||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Ty(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function xI(){function t(n){return e.call(t.src,t.listener,n)}var e=II;return t}function xy(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)xy(t,e[i],n,s,r);return null}return n=Hh(n),t&&t[Ao]?t.O(e,n,Co(s)?!!s.capture:!!s,r):Ey(t,e,n,!0,s,r)}function Iy(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Iy(t,e[i],n,s,r);else s=Co(s)?!!s.capture:!!s,n=Hh(n),t&&t[Ao]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Du(i,n,s,r),-1<n&&(Ol(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=jh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Du(e,n,s,r)),(n=-1<t?e[t]:null)&&Bh(n))}function Bh(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Ao])Au(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Ty(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=jh(e))?(Au(n,t),n.h==0&&(n.src=null,e[Vh]=null)):Ol(t)}}}function Ty(t){return t in Bc?Bc[t]:Bc[t]="on"+t}function II(t,e){if(t.ca)t=!0;else{e=new oo(e,this);var n=t.listener,s=t.ia||t.src;t.fa&&Bh(t),t=n.call(s,e)}return t}function jh(t){return t=t[Vh],t instanceof Nl?t:null}var jc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hh(t){return typeof t=="function"?t:(t[jc]||(t[jc]=function(e){return t.handleEvent(e)}),t[jc])}function yt(){Ns.call(this),this.i=new Nl(this),this.P=this,this.I=null}St(yt,Ns);yt.prototype[Ao]=!0;yt.prototype.removeEventListener=function(t,e,n,s){Iy(this,t,e,n,s)};function Et(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var r=e;e=new Rt(s,t),yy(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=la(o,s,!0,e)&&r}if(o=e.g=t,r=la(o,s,!0,e)&&r,r=la(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=la(o,s,!1,e)&&r}yt.prototype.M=function(){if(yt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Ol(n[s]);delete t.g[e],t.h--}}this.I=null};yt.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};yt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function la(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Au(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Yh=le.JSON.stringify;function TI(){var t=ky;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class SI{constructor(){this.h=this.g=null}add(e,n){const s=Sy.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Sy=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kI,t=>t.reset());class kI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CI(t){le.setTimeout(()=>{throw t},0)}function Wh(t,e){Mu||AI(),Ru||(Mu(),Ru=!0),ky.add(t,e)}var Mu;function AI(){var t=le.Promise.resolve(void 0);Mu=function(){t.then(DI)}}var Ru=!1,ky=new SI;function DI(){for(var t;t=TI();){try{t.h.call(t.g)}catch(n){CI(n)}var e=Sy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ru=!1}function Pl(t,e){yt.call(this),this.h=t||1,this.g=e||le,this.j=bt(this.kb,this),this.l=Date.now()}St(Pl,yt);j=Pl.prototype;j.da=!1;j.S=null;j.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&(zh(this),this.start()))}};j.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zh(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}j.M=function(){Pl.Z.M.call(this),zh(this),delete this.g};function qh(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function Cy(t){t.g=qh(()=>{t.g=null,t.i&&(t.i=!1,Cy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class MI extends Ns{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cy(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(t){Ns.call(this),this.h=t,this.g={}}St(ao,Ns);var Sp=[];function Ay(t,e,n,s){Array.isArray(n)||(n&&(Sp[0]=n.toString()),n=Sp);for(var r=0;r<n.length;r++){var i=by(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Dy(t){Fh(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bh(e)},t),t.g={}}ao.prototype.M=function(){ao.Z.M.call(this),Dy(this)};ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ll(){this.g=!0}Ll.prototype.Aa=function(){this.g=!1};function RI(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function OI(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Pr(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+PI(t,n)+(s?" "+s:"")})}function NI(t,e){t.info(function(){return"TIMEOUT: "+e})}Ll.prototype.info=function(){};function PI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Yh(n)}catch{return e}}var br={},kp=null;function $l(){return kp=kp||new yt}br.Ma="serverreachability";function My(t){Rt.call(this,br.Ma,t)}St(My,Rt);function lo(t){const e=$l();Et(e,new My(e))}br.STAT_EVENT="statevent";function Ry(t,e){Rt.call(this,br.STAT_EVENT,t),this.stat=e}St(Ry,Rt);function Vt(t){const e=$l();Et(e,new Ry(e,t))}br.Na="timingevent";function Oy(t,e){Rt.call(this,br.Na,t),this.size=e}St(Oy,Rt);function Do(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Fl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ny={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kh(){}Kh.prototype.h=null;function Cp(t){return t.h||(t.h=t.i())}function Py(){}var Mo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gh(){Rt.call(this,"d")}St(Gh,Rt);function Qh(){Rt.call(this,"c")}St(Qh,Rt);var Ou;function Ul(){}St(Ul,Kh);Ul.prototype.g=function(){return new XMLHttpRequest};Ul.prototype.i=function(){return{}};Ou=new Ul;function Ro(t,e,n,s){this.l=t,this.j=e,this.m=n,this.X=s||1,this.V=new ao(this),this.P=LI,t=ku?125:void 0,this.W=new Pl(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ly}function Ly(){this.i=null,this.g="",this.h=!1}var LI=45e3,Nu={},Ga={};j=Ro.prototype;j.setTimeout=function(t){this.P=t};function Pu(t,e,n){t.K=1,t.v=Bl(Zn(e)),t.s=n,t.U=!0,$y(t,null)}function $y(t,e){t.F=Date.now(),Oo(t),t.A=Zn(t.v);var n=t.A,s=t.X;Array.isArray(s)||(s=[String(s)]),Yy(n.h,"t",s),t.C=0,n=t.l.H,t.h=new Ly,t.g=u0(t.l,n?e:null,!t.s),0<t.O&&(t.L=new MI(bt(t.Ia,t,t.g),t.O)),Ay(t.V,t.g,"readystatechange",t.gb),e=t.H?my(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),lo(),RI(t.j,t.u,t.A,t.m,t.X,t.s)}j.gb=function(t){t=t.target;const e=this.L;e&&Bn(t)==3?e.l():this.Ia(t)};j.Ia=function(t){try{if(t==this.g)e:{const u=Bn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(u!=3||ku||this.g&&(this.h.h||this.g.ga()||Rp(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?lo(3):lo(2)),Vl(this);var n=this.g.ba();this.N=n;t:if(Fy(this)){var s=Rp(this.g);t="";var r=s.length,i=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),ji(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,OI(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qa(a)){var c=a;break t}}c=null}if(n=c)Pr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lu(this,n);else{this.i=!1,this.o=3,Vt(12),Xs(this),ji(this);break e}}this.U?(Uy(this,u,o),ku&&this.i&&u==3&&(Ay(this.V,this.W,"tick",this.fb),this.W.start())):(Pr(this.j,this.m,o,null),Lu(this,o)),u==4&&Xs(this),this.i&&!this.I&&(u==4?o0(this.l,this):(this.i=!1,Oo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Vt(12)):(this.o=0,Vt(13)),Xs(this),ji(this)}}}catch{}finally{}};function Fy(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Uy(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=$I(t,n),r==Ga){e==4&&(t.o=4,Vt(14),s=!1),Pr(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Nu){t.o=4,Vt(15),Pr(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Pr(t.j,t.m,r,null),Lu(t,r);Fy(t)&&r!=Ga&&r!=Nu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Vt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),id(e),e.L=!0,Vt(11))):(Pr(t.j,t.m,n,"[Invalid Chunked Response]"),Xs(t),ji(t))}j.fb=function(){if(this.g){var t=Bn(this.g),e=this.g.ga();this.C<e.length&&(Vl(this),Uy(this,t,e),this.i&&t!=4&&Oo(this))}};function $I(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Ga:(n=Number(e.substring(n,s)),isNaN(n)?Nu:(s+=1,s+n>e.length?Ga:(e=e.substr(s,n),t.C=s+n,e)))}j.cancel=function(){this.I=!0,Xs(this)};function Oo(t){t.Y=Date.now()+t.P,Vy(t,t.P)}function Vy(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Do(bt(t.eb,t),e)}function Vl(t){t.B&&(le.clearTimeout(t.B),t.B=null)}j.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(NI(this.j,this.A),this.K!=2&&(lo(),Vt(17)),Xs(this),this.o=2,ji(this)):Vy(this,this.Y-t)};function ji(t){t.l.G==0||t.I||o0(t.l,t)}function Xs(t){Vl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,zh(t.W),Dy(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lu(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||$u(n.i,t))){if(n.I=t.N,!t.J&&$u(n.i,t)&&n.G==3){try{var s=n.Ca.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Za(n),Yl(n);else break e;rd(n),Vt(18)}}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=Do(bt(n.ab,n),6e3));if(1>=qy(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Js(n,11)}else if((t.J||n.g==t)&&Za(n),!qa(e))for(r=n.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const h=c[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=s.i;!i.g&&(Ft(y,"spdy")||Ft(y,"quic")||Ft(y,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(Zh(i,i.h),i.h=null))}if(s.D){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(s.sa=w,Ze(s.F,s.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=t;if(s.oa=c0(s,s.H?s.la:null,s.W),o.J){Ky(s.i,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(Vl(a),Oo(a)),s.g=o}else r0(s);0<n.l.length&&Wl(n)}else c[0]!="stop"&&c[0]!="close"||Js(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Js(n,7):sd(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}lo(4)}catch{}}function FI(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Su(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function Xh(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Su(t)||typeof t=="string")gy(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Su(t)||typeof t=="string"){n=[];for(var s=t.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,t)n[s++]=r;s=FI(t),r=s.length;for(var i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}}function fi(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(t)if(t instanceof fi)for(n=t.T(),s=0;s<n.length;s++)this.set(n[s],t.get(n[s]));else for(s in t)this.set(s,t[s])}j=fi.prototype;j.R=function(){Jh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};j.T=function(){return Jh(this),this.g.concat()};function Jh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var s=t.g[e];ur(t.h,s)&&(t.g[n++]=s),e++}t.g.length=n}if(t.i!=t.g.length){var r={};for(n=e=0;e<t.g.length;)s=t.g[e],ur(r,s)||(t.g[n++]=s,r[s]=1),e++;t.g.length=n}}j.get=function(t,e){return ur(this.h,t)?this.h[t]:e};j.set=function(t,e){ur(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};j.forEach=function(t,e){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);t.call(e,i,r,this)}};function ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var By=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UI(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function hr(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof hr){this.g=e!==void 0?e:t.g,Qa(this,t.j),this.s=t.s,Xa(this,t.i),Ja(this,t.m),this.l=t.l,e=t.h;var n=new co;n.i=e.i,e.g&&(n.g=new fi(e.g),n.h=e.h),Ap(this,n),this.o=t.o}else t&&(n=String(t).match(By))?(this.g=!!e,Qa(this,n[1]||"",!0),this.s=Hi(n[2]||""),Xa(this,n[3]||"",!0),Ja(this,n[4]),this.l=Hi(n[5]||"",!0),Ap(this,n[6]||"",!0),this.o=Hi(n[7]||"")):(this.g=!!e,this.h=new co(null,this.g))}hr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ri(e,Dp,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ri(e,Dp,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Ri(n,n.charAt(0)=="/"?YI:HI,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ri(n,zI)),t.join("")};function Zn(t){return new hr(t)}function Qa(t,e,n){t.j=n?Hi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xa(t,e,n){t.i=n?Hi(e,!0):e}function Ja(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ap(t,e,n){e instanceof co?(t.h=e,qI(t.h,t.g)):(n||(e=Ri(e,WI)),t.h=new co(e,t.g))}function Ze(t,e,n){t.h.set(e,n)}function Bl(t){return Ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function VI(t){return t instanceof hr?Zn(t):new hr(t,void 0)}function BI(t,e,n,s){var r=new hr(null,void 0);return t&&Qa(r,t),e&&Xa(r,e),n&&Ja(r,n),s&&(r.l=s),r}function Hi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ri(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,jI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jI(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Dp=/[#\/\?@]/g,HI=/[#\?:]/g,YI=/[#\?]/g,WI=/[#\?@]/g,zI=/#/g;function co(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ps(t){t.g||(t.g=new fi,t.h=0,t.i&&UI(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=co.prototype;j.add=function(t,e){Ps(this),this.i=null,t=pi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jy(t,e){Ps(t),e=pi(t,e),ur(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,ur(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Jh(t)))}function Hy(t,e){return Ps(t),e=pi(t,e),ur(t.g.h,e)}j.forEach=function(t,e){Ps(this),this.g.forEach(function(n,s){gy(n,function(r){t.call(e,r,s,this)},this)},this)};j.T=function(){Ps(this);for(var t=this.g.R(),e=this.g.T(),n=[],s=0;s<e.length;s++)for(var r=t[s],i=0;i<r.length;i++)n.push(e[s]);return n};j.R=function(t){Ps(this);var e=[];if(typeof t=="string")Hy(this,t)&&(e=wp(e,this.g.get(pi(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=wp(e,t[n])}return e};j.set=function(t,e){return Ps(this),this.i=null,t=pi(this,t),Hy(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Yy(t,e,n){jy(t,e),0<n.length&&(t.i=null,t.g.set(pi(t,e),$h(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var s=e[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),t.push(o)}}return this.i=t.join("&")};function pi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qI(t,e){e&&!t.j&&(Ps(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(jy(this,s),Yy(this,r,n))},t)),t.j=e}var KI=class{constructor(t,e){this.h=t,this.g=e}};function Wy(t){this.l=t||GI,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ea&&le.g.Ea()&&le.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GI=10;function zy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qy(t){return t.h?1:t.g?t.g.size:0}function $u(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zh(t,e){t.g?t.g.add(e):t.h=e}function Ky(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Wy.prototype.cancel=function(){if(this.i=Gy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Gy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return $h(t.i)}function ed(){}ed.prototype.stringify=function(t){return le.JSON.stringify(t,void 0)};ed.prototype.parse=function(t){return le.JSON.parse(t,void 0)};function QI(){this.g=new ed}function XI(t,e,n){const s=n||"";try{Xh(t,function(r,i){let o=r;Co(r)&&(o=Yh(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function JI(t,e){const n=new Ll;if(le.Image){const s=new Image;s.onload=aa(ca,n,s,"TestLoadImage: loaded",!0,e),s.onerror=aa(ca,n,s,"TestLoadImage: error",!1,e),s.onabort=aa(ca,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=aa(ca,n,s,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function ca(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function No(t){this.l=t.$b||null,this.j=t.ib||!1}St(No,Kh);No.prototype.g=function(){return new jl(this.l,this.j)};No.prototype.i=function(t){return function(){return t}}({});function jl(t,e){yt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=td,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(jl,yt);var td=0;j=jl.prototype;j.open=function(t,e){if(this.readyState!=td)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uo(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||le).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=td};j.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qy(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Qy(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}j.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Po(this):uo(this),this.readyState==3&&Qy(this)}};j.Ua=function(t){this.g&&(this.response=this.responseText=t,Po(this))};j.Ta=function(t){this.g&&(this.response=t,Po(this))};j.ha=function(){this.g&&Po(this)};function Po(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uo(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function uo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZI=le.JSON.parse;function at(t){yt.call(this),this.headers=new fi,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Xy,this.K=this.L=!1}St(at,yt);var Xy="",eT=/^https?$/i,tT=["POST","PUT"];j=at.prototype;j.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ou.g(),this.C=this.u?Cp(this.u):Cp(Ou),this.g.onreadystatechange=bt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Mp(this,i);return}t=n||"";const r=new fi(this.headers);s&&Xh(s,function(i,o){r.set(o,i)}),s=dI(r.T()),n=le.FormData&&t instanceof le.FormData,!(0<=py(tT,e))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e0(this),0<this.B&&((this.K=nT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.pa,this)):this.A=qh(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Mp(this,i)}};function nT(t){return ei&&yI()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function sT(t){return t.toLowerCase()=="content-type"}j.pa=function(){typeof Lh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function Mp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Jy(t),Hl(t)}function Jy(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Hl(this))};j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hl(this,!0)),at.Z.M.call(this)};j.Fa=function(){this.s||(this.F||this.v||this.l?Zy(this):this.cb())};j.cb=function(){Zy(this)};function Zy(t){if(t.h&&typeof Lh<"u"&&(!t.C[1]||Bn(t)!=4||t.ba()!=2)){if(t.v&&Bn(t)==4)qh(t.Fa,0,t);else if(Et(t,"readystatechange"),Bn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(By)[1]||null;if(!r&&le.self&&le.self.location){var i=le.self.location.protocol;r=i.substr(0,i.length-1)}s=!eT.test(r?r.toLowerCase():"")}n=s}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var o=2<Bn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",Jy(t)}}finally{Hl(t)}}}}function Hl(t,e){if(t.g){e0(t);const n=t.g,s=t.C[0]?za:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=s}catch{}}}function e0(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}function Bn(t){return t.g?t.g.readyState:0}j.ba=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}};j.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZI(e)}};function Rp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Xy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}j.Da=function(){return this.m};j.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function rT(t){let e="";return Fh(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function nd(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=rT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ze(t,e,n))}function ki(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t0(t){this.za=0,this.l=[],this.h=new Ll,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ki("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ki("baseRetryDelayMs",5e3,t),this.$a=ki("retryDelaySeedMs",1e4,t),this.Ya=ki("forwardChannelMaxRetries",2,t),this.ra=ki("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Wy(t&&t.concurrentRequestLimit),this.Ca=new QI,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}j=t0.prototype;j.ma=8;j.G=1;function sd(t){if(n0(t),t.G==3){var e=t.V++,n=Zn(t.F);Ze(n,"SID",t.J),Ze(n,"RID",e),Ze(n,"TYPE","terminate"),Lo(t,n),e=new Ro(t,t.h,e,void 0),e.K=2,e.v=Bl(Zn(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(e.v.toString(),"")),!n&&le.Image&&(new Image().src=e.v,n=!0),n||(e.g=u0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Oo(e)}l0(t)}j.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Yl(t){t.g&&(id(t),t.g.cancel(),t.g=null)}function n0(t){Yl(t),t.u&&(le.clearTimeout(t.u),t.u=null),Za(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function Hc(t,e){t.l.push(new KI(t.Za++,e)),t.G==3&&Wl(t)}function Wl(t){zy(t.i)||t.m||(t.m=!0,Wh(t.Ha,t),t.C=0)}function iT(t,e){return qy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Do(bt(t.Ha,t,e),a0(t,t.C)),t.C++,!0)}j.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new Ro(this,this.h,t,void 0);let i=this.s;if(this.P&&(i?(i=my(i),yy(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=s0(this,r,e),n=Zn(this.F),Ze(n,"RID",t),Ze(n,"CVER",22),this.D&&Ze(n,"X-HTTP-Session-Id",this.D),Lo(this,n),this.o&&i&&nd(n,this.o,i),Zh(this.i,r),this.Ra&&Ze(n,"TYPE","init"),this.ja?(Ze(n,"$req",e),Ze(n,"SID","null"),r.$=!0,Pu(r,n,null)):Pu(r,n,e),this.G=2}}else this.G==3&&(t?Op(this,t):this.l.length==0||zy(this.i)||Op(this))};function Op(t,e){var n;e?n=e.m:n=t.V++;const s=Zn(t.F);Ze(s,"SID",t.J),Ze(s,"RID",n),Ze(s,"AID",t.U),Lo(t,s),t.o&&t.s&&nd(s,t.o,t.s),n=new Ro(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=s0(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Zh(t.i,n),Pu(n,s,e)}function Lo(t,e){t.j&&Xh({},function(n,s){Ze(e,s,n)})}function s0(t,e,n){n=Math.min(t.l.length,n);var s=t.j?bt(t.j.Oa,t.j,t):null;e:{var r=t.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{XI(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,s}function r0(t){t.g||t.u||(t.Y=1,Wh(t.Ga,t),t.A=0)}function rd(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Do(bt(t.Ga,t),a0(t,t.A)),t.A++,!0)}j.Ga=function(){if(this.u=null,i0(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Do(bt(this.bb,this),t)}};j.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vt(10),Yl(this),i0(this))};function id(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function i0(t){t.g=new Ro(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Zn(t.oa);Ze(e,"RID","rpc"),Ze(e,"SID",t.J),Ze(e,"CI",t.N?"0":"1"),Ze(e,"AID",t.U),Lo(t,e),Ze(e,"TYPE","xmlhttp"),t.o&&t.s&&nd(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Bl(Zn(e)),n.s=null,n.U=!0,$y(n,t)}j.ab=function(){this.v!=null&&(this.v=null,Yl(this),rd(this),Vt(19))};function Za(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function o0(t,e){var n=null;if(t.g==e){Za(t),id(t),t.g=null;var s=2}else if($u(t.i,e))n=e.D,Ky(t.i,e),s=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=$l(),Et(s,new Oy(s,n)),Wl(t)}else r0(t);else if(r=e.o,r==3||r==0&&0<t.I||!(s==1&&iT(t,e)||s==2&&rd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Js(t,5);break;case 4:Js(t,10);break;case 3:Js(t,6);break;default:Js(t,2)}}}function a0(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Js(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var s=bt(t.jb,t);n||(n=new hr("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Qa(n,"https"),Bl(n)),JI(n.toString(),s)}else Vt(2);t.G=0,t.j&&t.j.va(e),l0(t),n0(t)}j.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Vt(2)):(this.h.info("Failed to ping google.com"),Vt(1))};function l0(t){t.G=0,t.I=-1,t.j&&((Gy(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,$h(t.l),t.l.length=0),t.j.ua())}function c0(t,e,n){let s=VI(n);if(s.i!="")e&&Xa(s,e+"."+s.i),Ja(s,s.m);else{const r=le.location;s=BI(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.aa&&Fh(t.aa,function(r,i){Ze(s,i,r)}),e=t.D,n=t.sa,e&&n&&Ze(s,e,n),Ze(s,"VER",t.ma),Lo(t,s),s}function u0(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new at(new No({ib:!0})):new at(t.qa),e.L=t.H,e}function h0(){}j=h0.prototype;j.xa=function(){};j.wa=function(){};j.va=function(){};j.ua=function(){};j.Oa=function(){};function el(){if(ei&&!(10<=Number(vI)))throw Error("Environmental error: no available transport.")}el.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){yt.call(this),this.g=new t0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qa(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gi(this)}St(tn,yt);tn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Wh(bt(t.hb,t,e))),Vt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=c0(t,null,t.W),Wl(t)};tn.prototype.close=function(){sd(this.g)};tn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Hc(this.g,e)}else this.v?(e={},e.__data__=Yh(t),Hc(this.g,e)):Hc(this.g,t)};tn.prototype.M=function(){this.g.j=null,delete this.j,sd(this.g),delete this.g,tn.Z.M.call(this)};function d0(t){Gh.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(d0,Gh);function f0(){Qh.call(this),this.status=1}St(f0,Qh);function gi(t){this.g=t}St(gi,h0);gi.prototype.xa=function(){Et(this.g,"a")};gi.prototype.wa=function(t){Et(this.g,new d0(t))};gi.prototype.va=function(t){Et(this.g,new f0)};gi.prototype.ua=function(){Et(this.g,"b")};el.prototype.createWebChannel=el.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;Fl.NO_ERROR=0;Fl.TIMEOUT=8;Fl.HTTP_ERROR=6;Ny.COMPLETE="complete";Py.EventType=Mo;Mo.OPEN="a";Mo.CLOSE="b";Mo.ERROR="c";Mo.MESSAGE="d";yt.prototype.listen=yt.prototype.N;at.prototype.listenOnce=at.prototype.O;at.prototype.getLastError=at.prototype.La;at.prototype.getLastErrorCode=at.prototype.Da;at.prototype.getStatus=at.prototype.ba;at.prototype.getResponseJson=at.prototype.Qa;at.prototype.getResponseText=at.prototype.ga;at.prototype.send=at.prototype.ea;var oT=function(){return new el},aT=function(){return $l()},Yc=Fl,lT=Ny,cT=br,Np={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uT=No,ua=Py,hT=at;const Pp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mi="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Rh("@firebase/firestore");function Lp(){return dr.logLevel}function G(t,...e){if(dr.logLevel<=Re.DEBUG){const n=e.map(od);dr.debug(`Firestore (${mi}): ${t}`,...n)}}function Ds(t,...e){if(dr.logLevel<=Re.ERROR){const n=e.map(od);dr.error(`Firestore (${mi}): ${t}`,...n)}}function $p(t,...e){if(dr.logLevel<=Re.WARN){const n=e.map(od);dr.warn(`Firestore (${mi}): ${t}`,...n)}}function od(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${mi}) INTERNAL ASSERTION FAILED: `+t;throw Ds(e),new Error(e)}function We(t,e){t||fe()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class pT{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Kn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Kn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new dT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new zt(e)}}class gT{constructor(e,n,s){this.type="FirstParty",this.user=zt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class mT{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new gT(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const s=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.p;return this.p=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.p=n.token,new yT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=_T(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function Pe(t,e){return t<e?-1:t>e?1:0}function ti(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ut(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new ut(0,0))}static max(){return new _e(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,s){n===void 0?n=0:n>e.length&&fe(),s===void 0?s=e.length-n:s>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ho.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ho?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends ho{construct(e,n,s){return new Ke(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new B(b.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const wT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends ho{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return wT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new B(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new B(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new B(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ke.fromString(e))}static fromName(e){return new ee(Ke.fromString(e).popFirst(5))}static empty(){return new ee(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ke(e.slice()))}}function bT(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Ms(r,ee.empty(),e)}function ET(t){return new Ms(t.readTime,t.key,-1)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(_e.min(),ee.empty(),-1)}static max(){return new Ms(_e.max(),ee.empty(),-1)}}function xT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==IT)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,s)=>{n(e)})}static reject(e){return new k((n,s)=>{s(e)})}static waitFor(e){return new k((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=k.resolve(!1);for(const s of e)n=n.next(r=>r?k.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new k((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new k((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.it(s),this.rt=s=>n.writeSequenceNumber(s))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Er(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ad.ot=-1;class ft{constructor(e,n){this.comparator=e,this.root=n||vt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}}class ha{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s!=null?s:vt.RED,this.left=r!=null?r:vt.EMPTY,this.right=i!=null?i:vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new vt(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return vt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}vt.EMPTY=null,vt.RED=!0,vt.BLACK=!1;vt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,s,r){return this}insert(t,e,n){return new vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Up(this.data.getIterator())}getIteratorFrom(e){return new Up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class Up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new cn([])}unionWith(e){let n=new ht(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ti(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Tt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const ST=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(t){if(We(!!t),typeof t=="string"){let e=0;const n=ST.exec(t);if(We(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y0(t){const e=t.mapValue.fields.__previous_value__;return m0(e)?y0(e):e}function fo(t){const e=Rs(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,s,r,i,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class si{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new si("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof si&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return t==null}function tl(t){return t===0&&1/t==-1/0}function CT(t){return typeof t=="number"&&Number.isInteger(t)&&!tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m0(t)?4:AT(t)?9007199254740991:10:fe()}function Mn(t,e){if(t===e)return!0;const n=fr(t);if(n!==fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fo(t).isEqual(fo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Rs(s.timestampValue),o=Rs(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ni(s.bytesValue).isEqual(ni(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return ot(s.geoPointValue.latitude)===ot(r.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ot(s.integerValue)===ot(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=ot(s.doubleValue),o=ot(r.doubleValue);return i===o?tl(i)===tl(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return ti(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Fp(i)!==Fp(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Mn(i[a],o[a])))return!1;return!0}(t,e);default:return fe()}}function po(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function ri(t,e){if(t===e)return 0;const n=fr(t),s=fr(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=ot(r.integerValue||r.doubleValue),a=ot(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Vp(t.timestampValue,e.timestampValue);case 4:return Vp(fo(t),fo(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(r,i){const o=ni(r),a=ni(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Pe(o[l],a[l]);if(c!==0)return c}return Pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=Pe(ot(r.latitude),ot(i.latitude));return o!==0?o:Pe(ot(r.longitude),ot(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ri(o[l],a[l]);if(c)return c}return Pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===da.mapValue&&i===da.mapValue)return 0;if(r===da.mapValue)return 1;if(i===da.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=Pe(a[u],c[u]);if(h!==0)return h;const f=ri(o[a[u]],l[c[u]]);if(f!==0)return f}return Pe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Vp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Rs(t),s=Rs(e),r=Pe(n.seconds,s.seconds);return r!==0?r:Pe(n.nanos,s.nanos)}function Br(t){return Fu(t)}function Fu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Rs(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ni(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ee.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Fu(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Fu(s.fields[a])}`;return i+"}"}(t.mapValue):fe();var e,n}function Bp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uu(t){return!!t&&"integerValue"in t}function ld(t){return!!t&&"arrayValue"in t}function jp(t){return!!t&&"nullValue"in t}function Hp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ba(t){return!!t&&"mapValue"in t}function Yi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Er(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yi(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ba(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yi(n)}setAll(e){let n=At.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Yi(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());ba(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ba(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Er(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new qt(Yi(this.value))}}function v0(t){const e=[];return Er(t.fields,(n,s)=>{const r=new At([n]);if(ba(s)){const i=v0(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,s,r,i,o){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new _t(e,0,_e.min(),_e.min(),qt.empty(),0)}static newFoundDocument(e,n,s){return new _t(e,1,n,_e.min(),s,0)}static newNoDocument(e,n){return new _t(e,2,n,_e.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,_e.min(),qt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ut=null}}function Yp(t,e=null,n=[],s=[],r=null,i=null,o=null){return new DT(t,e,n,s,r,i,o)}function cd(t){const e=pe(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>{return(r=s).field.canonicalString()+r.op.toString()+Br(r.value);var r}).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),zl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Br(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Br(s)).join(",")),e.ut=n}return e.ut}function MT(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${Br(s.value)}`;var s}).join(", ")}]`),zl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Br(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Br(n)).join(",")),`Target(${e})`}function ud(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!UT(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(n=t.filters[r],s=e.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!Mn(n.value,s.value))return!1;var n,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zp(t.startAt,e.startAt)&&zp(t.endAt,e.endAt)}function Vu(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bt extends class{}{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,s):new RT(e,n,s):n==="array-contains"?new PT(e,s):n==="in"?new LT(e,s):n==="not-in"?new $T(e,s):n==="array-contains-any"?new FT(e,s):new Bt(e,n,s)}static ct(e,n,s){return n==="in"?new OT(e,s):new NT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(ri(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.at(ri(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class RT extends Bt{constructor(e,n,s){super(e,n,s),this.key=ee.fromName(s.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.at(n)}}class OT extends Bt{constructor(e,n){super(e,"in",n),this.keys=_0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NT extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=_0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ee.fromName(s.referenceValue))}class PT extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ld(n)&&po(n.arrayValue,this.value)}}class LT extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&po(this.value.arrayValue,n)}}class $T extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!po(this.value.arrayValue,n)}}class FT extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ld(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>po(this.value.arrayValue,s))}}class nl{constructor(e,n){this.position=e,this.inclusive=n}}class Wi{constructor(e,n="asc"){this.field=e,this.dir=n}}function UT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Wp(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ee.comparator(ee.fromName(o.referenceValue),n.key):s=ri(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function zp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}}function VT(t,e,n,s,r,i,o,a){return new Uo(t,e,n,s,r,i,o,a)}function hd(t){return new Uo(t)}function BT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function b0(t){for(const e of t.filters)if(e.ht())return e.field;return null}function E0(t){return t.collectionGroup!==null}function go(t){const e=pe(t);if(e.lt===null){e.lt=[];const n=b0(e),s=w0(e);if(n!==null&&s===null)n.isKeyField()||e.lt.push(new Wi(n)),e.lt.push(new Wi(At.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.lt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Wi(At.keyField(),i))}}}return e.lt}function pr(t){const e=pe(t);if(!e.ft)if(e.limitType==="F")e.ft=Yp(e.path,e.collectionGroup,go(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of go(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Wi(i.field,o))}const s=e.endAt?new nl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nl(e.startAt.position,e.startAt.inclusive):null;e.ft=Yp(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.ft}function x0(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ql(t,e){return ud(pr(t),pr(e))&&t.limitType===e.limitType}function I0(t){return`${cd(pr(t))}|lt:${t.limitType}`}function Bu(t){return`Query(target=${MT(pr(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):ee.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Wp(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,go(n),s)||n.endAt&&!function(r,i,o){const a=Wp(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,go(n),s))}(t,e)}function jT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T0(t){return(e,n)=>{let s=!1;for(const r of go(t)){const i=HT(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function HT(t,e,n){const s=t.field.isKeyField()?ee.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?ri(a,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function k0(t){return{integerValue:""+t}}function YT(t,e){return CT(e)?k0(e):S0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this._=void 0}}function WT(t,e,n){return t instanceof sl?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof mo?A0(t,e):t instanceof yo?D0(t,e):function(s,r){const i=C0(s,r),o=qp(i)+qp(s._t);return Uu(i)&&Uu(s._t)?k0(o):S0(s.wt,o)}(t,e)}function zT(t,e,n){return t instanceof mo?A0(t,e):t instanceof yo?D0(t,e):n}function C0(t,e){return t instanceof rl?Uu(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class sl extends Kl{}class mo extends Kl{constructor(e){super(),this.elements=e}}function A0(t,e){const n=M0(e);for(const s of t.elements)n.some(r=>Mn(r,s))||n.push(s);return{arrayValue:{values:n}}}class yo extends Kl{constructor(e){super(),this.elements=e}}function D0(t,e){let n=M0(e);for(const s of t.elements)n=n.filter(r=>!Mn(r,s));return{arrayValue:{values:n}}}class rl extends Kl{constructor(e,n){super(),this.wt=e,this._t=n}}function qp(t){return ot(t.integerValue||t.doubleValue)}function M0(t){return ld(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qT(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof mo&&s instanceof mo||n instanceof yo&&s instanceof yo?ti(n.elements,s.elements,Mn):n instanceof rl&&s instanceof rl?Mn(n._t,s._t):n instanceof sl&&s instanceof sl}(t.transform,e.transform)}class KT{constructor(e,n){this.version=e,this.transformResults=n}}class jt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jt}static exists(e){return new jt(void 0,e)}static updateTime(e){return new jt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ea(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gl{}function R0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ql(t.key,jt.none()):new Vo(t.key,t.data,jt.none());{const n=t.data,s=qt.empty();let r=new ht(At.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Ls(t.key,s,new cn(r.toArray()),jt.none())}}function GT(t,e,n){t instanceof Vo?function(s,r,i){const o=s.value.clone(),a=Gp(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(s,r,i){if(!Ea(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Gp(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(O0(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function zi(t,e,n,s){return t instanceof Vo?function(r,i,o,a){if(!Ea(r.precondition,i))return o;const l=r.value.clone(),c=Qp(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ls?function(r,i,o,a){if(!Ea(r.precondition,i))return o;const l=Qp(r.fieldTransforms,a,i),c=i.data;return c.setAll(O0(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return Ea(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function QT(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=C0(s.transform,r||null);i!=null&&(n===null&&(n=qt.empty()),n.set(s.field,i))}return n||null}function Kp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&ti(n,s,(r,i)=>qT(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vo extends Gl{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ls extends Gl{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function O0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Gp(t,e,n){const s=new Map;We(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,zT(o,a,n[r]))}return s}function Qp(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,WT(i,o,e))}return s}class Ql extends Gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XT extends Gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ie;function ZT(t){switch(t){default:return fe();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function N0(t){if(t===void 0)return Ds("GRPC error has no .code"),b.UNKNOWN;switch(t){case it.OK:return b.OK;case it.CANCELLED:return b.CANCELLED;case it.UNKNOWN:return b.UNKNOWN;case it.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case it.INTERNAL:return b.INTERNAL;case it.UNAVAILABLE:return b.UNAVAILABLE;case it.UNAUTHENTICATED:return b.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case it.NOT_FOUND:return b.NOT_FOUND;case it.ALREADY_EXISTS:return b.ALREADY_EXISTS;case it.PERMISSION_DENIED:return b.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case it.ABORTED:return b.ABORTED;case it.OUT_OF_RANGE:return b.OUT_OF_RANGE;case it.UNIMPLEMENTED:return b.UNIMPLEMENTED;case it.DATA_LOSS:return b.DATA_LOSS;default:return fe()}}(Ie=it||(it={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new ft(ee.comparator);function es(){return eS}const P0=new ft(ee.comparator);function Oi(...t){let e=P0;for(const n of t)e=e.insert(n.key,n);return e}function L0(t){let e=P0;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return qi()}function $0(){return qi()}function qi(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const tS=new ft(ee.comparator),nS=new ht(ee.comparator);function Ee(...t){let e=nS;for(const n of t)e=e.add(n);return e}const sS=new ht(Pe);function F0(){return sS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n){const s=new Map;return s.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,n)),new Xl(_e.min(),s,F0(),es(),Ee())}}class Bo{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Bo(Tt.EMPTY_BYTE_STRING,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,s,r){this.gt=e,this.removedTargetIds=n,this.key=s,this.yt=r}}class U0{constructor(e,n){this.targetId=e,this.It=n}}class V0{constructor(e,n,s=Tt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Xp{constructor(){this.Tt=0,this.Et=Zp(),this.At=Tt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Ee(),n=Ee(),s=Ee();return this.Et.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:fe()}}),new Bo(this.At,this.Rt,e,n,s)}Dt(){this.bt=!1,this.Et=Zp()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class rS{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=es(),this.Bt=Jp(),this.Lt=new ht(Pe)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const s=this.Qt(n);switch(e.state){case 0:this.jt(n)&&s.Vt(e.resumeToken);break;case 1:s.kt(),s.Pt||s.Dt(),s.Vt(e.resumeToken);break;case 2:s.kt(),s.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(s.Ot(),s.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),s.Vt(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((s,r)=>{this.jt(r)&&n(r)})}zt(e){const n=e.targetId,s=e.It.count,r=this.Ht(n);if(r){const i=r.target;if(Vu(i))if(s===0){const o=new ee(i.path);this.Kt(n,o,_t.newNoDocument(o,_e.min()))}else We(s===1);else this.Jt(n)!==s&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((i,o)=>{const a=this.Ht(o);if(a){if(i.current&&Vu(a.target)){const l=new ee(a.target.path);this.$t.get(l)!==null||this.Xt(o,l)||this.Kt(o,l,_t.newNoDocument(l,e))}i.vt&&(n.set(o,i.St()),i.Dt())}});let s=Ee();this.Bt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ht(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.$t.forEach((i,o)=>o.setReadTime(e));const r=new Xl(e,n,this.Lt,this.$t,s);return this.$t=es(),this.Bt=Jp(),this.Lt=new ht(Pe),r}qt(e,n){if(!this.jt(e))return;const s=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,s),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,s){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,n)?r.Ct(n,1):r.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),s&&(this.$t=this.$t.insert(n,s))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new Xp,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new ht(Pe),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Xp),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function Jp(){return new ft(ee.comparator)}function Zp(){return new ft(ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),oS=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class aS{constructor(e,n){this.databaseId=e,this.dt=n}}function il(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B0(t,e){return t.dt?e.toBase64():e.toUint8Array()}function lS(t,e){return il(t,e.toTimestamp())}function Gn(t){return We(!!t),_e.fromTimestamp(function(e){const n=Rs(e);return new ut(n.seconds,n.nanos)}(t))}function fd(t,e){return function(n){return new Ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function j0(t){const e=Ke.fromString(t);return We(W0(e)),e}function ju(t,e){return fd(t.databaseId,e.path)}function Wc(t,e){const n=j0(e);if(n.get(1)!==t.databaseId.projectId)throw new B(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(H0(n))}function Hu(t,e){return fd(t.databaseId,e)}function cS(t){const e=j0(t);return e.length===4?Ke.emptyPath():H0(e)}function Yu(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H0(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eg(t,e,n){return{name:ju(t,e),fields:n.value.mapValue.fields}}function uS(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.dt?(We(c===void 0||typeof c=="string"),Tt.fromBase64String(c||"")):(We(c===void 0||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?b.UNKNOWN:N0(l.code);return new B(c,l.message||"")}(o);n=new V0(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Wc(t,s.document.name),i=Gn(s.document.updateTime),o=new qt({mapValue:{fields:s.document.fields}}),a=_t.newFoundDocument(r,i,o),l=s.targetIds||[],c=s.removedTargetIds||[];n=new xa(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Wc(t,s.document),i=s.readTime?Gn(s.readTime):_e.min(),o=_t.newNoDocument(r,i),a=s.removedTargetIds||[];n=new xa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Wc(t,s.document),i=s.removedTargetIds||[];n=new xa([],i,r,null)}else{if(!("filter"in e))return fe();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new JT(r),o=s.targetId;n=new U0(o,i)}}return n}function hS(t,e){let n;if(e instanceof Vo)n={update:eg(t,e.key,e.value)};else if(e instanceof Ql)n={delete:ju(t,e.key)};else if(e instanceof Ls)n={update:eg(t,e.key,e.data),updateMask:bS(e.fieldMask)};else{if(!(e instanceof XT))return fe();n={verify:ju(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof sl)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mo)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yo)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rl)return{fieldPath:i.field.canonicalString(),increment:o._t};throw fe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:lS(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:fe()}(t,e.precondition)),n}function dS(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Gn(s.updateTime):Gn(r);return i.isEqual(_e.min())&&(i=Gn(r)),new KT(i,s.transformResults||[])}(n,e))):[]}function fS(t,e){return{documents:[Hu(t,e.path)]}}function pS(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Hu(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hu(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length===0)return;const c=l.map(u=>function(h){if(h.op==="=="){if(Hp(h.value))return{unaryFilter:{field:Ar(h.field),op:"IS_NAN"}};if(jp(h.value))return{unaryFilter:{field:Ar(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Hp(h.value))return{unaryFilter:{field:Ar(h.field),op:"IS_NOT_NAN"}};if(jp(h.value))return{unaryFilter:{field:Ar(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ar(h.field),op:vS(h.op),value:h.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Ar(u.field),direction:yS(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,c){return l.dt||zl(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function gS(t){let e=cS(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){We(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=Y0(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Wi(Lr(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,zl(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new nl(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new nl(f,h)}(n.endAt)),VT(e,r,o,i,a,"F",l,c)}function mS(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y0(t){return t?t.unaryFilter!==void 0?[wS(t)]:t.fieldFilter!==void 0?[_S(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>Y0(e)).reduce((e,n)=>e.concat(n)):fe():[]}function yS(t){return iS[t]}function vS(t){return oS[t]}function Ar(t){return{fieldPath:t.canonicalString()}}function Lr(t){return At.fromServerFormat(t.fieldPath)}function _S(t){return Bt.create(Lr(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function wS(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Lr(t.unaryFilter.field);return Bt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Lr(t.unaryFilter.field);return Bt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lr(t.unaryFilter.field);return Bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Lr(t.unaryFilter.field);return Bt.create(r,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}function bS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function W0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&GT(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zi(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zi(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$0();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=R0(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ti(this.mutations,e.mutations,(n,s)=>Kp(n,s))&&ti(this.baseMutations,e.baseMutations,(n,s)=>Kp(n,s))}}class pd{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){We(e.mutations.length===s.length);let r=tS;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new pd(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,s,r,i=_e.min(),o=_e.min(),a=Tt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.ne=e}}function TS(t){const e=gS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.ze=new kS}addToCollectionParentIndex(e,n){return this.ze.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Ms.min())}updateCollectionGroup(e,n,s){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class kS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ht(Ke.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ht(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ii(0)}static Rn(){return new ii(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?k.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.getBaseDocument(e,n,s))).next(r=>(s!==null&&zi(s.mutation,r,cn.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ee()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ee()){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Oi();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ee()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=es();const o=qi(),a=qi();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Ls)?i=i.insert(c.key,c):u!==void 0&&(o.set(c.key,u.mutation.getFieldMask()),zi(u.mutation,c,u.mutation.getFieldMask(),ut.now()))}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new AS(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=qi();let r=new ft((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||cn.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||Ee()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=$0();u.forEach(f=>{if(!i.has(f)){const g=R0(n.get(f),s.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return k.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):k.resolve(Zs());let a=-1,l=i;return o.next(c=>k.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?k.resolve():this.getBaseDocument(e,u,h).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ee())).next(u=>({batchId:a,changes:L0(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(s=>{let r=Oi();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Oi();return this.indexManager.getCollectionParents(e,r).next(o=>k.forEach(o,a=>{const l=function(c,u){return new Uo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId))).next(i=>{i.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,_t.newInvalidDocument(c)))});let o=Oi();return r.forEach((a,l)=>{const c=i.get(a);c!==void 0&&zi(c.mutation,l,cn.empty(),ut.now()),dd(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,s){return s===null||s.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):k.resolve(_t.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return k.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var s;return this.Jn.set(n.id,{id:(s=n).id,version:s.version,createTime:Gn(s.createTime)}),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(s){return{name:s.name,query:TS(s.bundledQuery),readTime:Gn(s.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.overlays=new ft(ee.comparator),this.Xn=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return k.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.ie(e,n,i)}),k.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Xn.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Xn.delete(s)),k.resolve()}getOverlaysForCollection(e,n,s){const r=Zs(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return k.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new ft((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Zs(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Zs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return k.resolve(a)}ie(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Xn.get(r.largestBatchId).delete(s.key);this.Xn.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new xS(n,s));let i=this.Xn.get(n);i===void 0&&(i=Ee(),this.Xn.set(n,i)),this.Xn.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.Zn=new ht(pt.ts),this.es=new ht(pt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const s=new pt(e,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.rs(new pt(e,n))}os(e,n){e.forEach(s=>this.removeReference(s,n))}us(e){const n=new ee(new Ke([])),s=new pt(n,e),r=new pt(n,e+1),i=[];return this.es.forEachInRange([s,r],o=>{this.rs(o),i.push(o.key)}),i}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new ee(new Ke([])),s=new pt(n,e),r=new pt(n,e+1);let i=Ee();return this.es.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),s=this.Zn.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return ee.comparator(e.key,n.key)||Pe(e.ls,n.ls)}static ns(e,n){return Pe(e.ls,n.ls)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new ht(pt.ts)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ES(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.ds=this.ds.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ws(s),i=r<0?0:r;return k.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pt(n,0),r=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([s,r],o=>{const a=this._s(o.ls);i.push(a)}),k.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ht(Pe);return n.forEach(r=>{const i=new pt(r,0),o=new pt(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([i,o],a=>{s=s.add(a.ls)})}),k.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ee.isDocumentKey(i)||(i=i.child(""));const o=new pt(new ee(i),0);let a=new ht(Pe);return this.ds.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.ls)),!0)},o),k.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(s=>{const r=this._s(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){We(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.ds;return k.forEach(n.mutations,r=>{const i=new pt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=s})}In(e){}containsKey(e,n){const s=new pt(n,0),r=this.ds.firstAfterOrEqual(s);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.ps=e,this.docs=new ft(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ps(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return k.resolve(s?s.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let s=es();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():_t.newInvalidDocument(r))}),k.resolve(s)}getAllFromCollection(e,n,s){let r=es();const i=new ee(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||xT(ET(l),s)<=0||(r=r.insert(l.key,l.mutableCopy()))}return k.resolve(r)}getAllFromCollectionGroup(e,n,s,r){fe()}Is(e,n){return k.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PS(this)}getSize(e){return k.resolve(this.size)}}class PS extends CS{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.zn.addEntry(e,r)):this.zn.removeEntry(s)}),k.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.persistence=e,this.Ts=new yi(n=>cd(n),ud),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Es=0,this.As=new gd,this.targetCount=0,this.Rs=ii.An()}forEachTarget(e,n){return this.Ts.forEach((s,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Es&&(this.Es=n),k.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new ii(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.vn(n),k.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),k.waitFor(i).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const s=this.Ts.get(n)||null;return k.resolve(s)}addMatchingKeys(e,n,s){return this.As.ss(n,s),k.resolve()}removeMatchingKeys(e,n,s){this.As.os(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),k.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),k.resolve()}getMatchingKeysForTargetId(e,n){const s=this.As.hs(n);return k.resolve(s)}containsKey(e,n){return k.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.bs={},this.overlays={},this.Ps=new ad(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new LS(this),this.indexManager=new SS,this.remoteDocumentCache=function(s){return new NS(s)}(s=>this.referenceDelegate.Ss(s)),this.wt=new IS(n),this.Ds=new MS(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.bs[e.toKey()];return s||(s=new OS(n,this.referenceDelegate),this.bs[e.toKey()]=s),s}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,s){G("MemoryPersistence","Starting transaction:",e);const r=new FS(this.Ps.next());return this.referenceDelegate.Cs(),s(r).next(i=>this.referenceDelegate.xs(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ns(e,n){return k.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,n)))}}class FS extends TT{constructor(e){super(),this.currentSequenceNumber=e}}class md{constructor(e){this.persistence=e,this.ks=new gd,this.Os=null}static Ms(e){return new md(e)}get Fs(){if(this.Os)return this.Os;throw fe()}addReference(e,n,s){return this.ks.addReference(s,n),this.Fs.delete(s.toString()),k.resolve()}removeReference(e,n,s){return this.ks.removeReference(s,n),this.Fs.add(s.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),k.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(r=>this.Fs.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Fs.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Fs,s=>{const r=ee.fromPath(s);return this.$s(e,r).next(i=>{i||n.removeEntry(r,_e.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(s=>{s?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return k.or([()=>k.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Pi=s,this.vi=r}static Vi(e,n){let s=Ee(),r=Ee();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new yd(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Ci(e,n).next(i=>i||this.xi(e,n,r,s)).next(i=>i||this.Ni(e,n))}Ci(e,n){return k.resolve(null)}xi(e,n,s,r){return BT(n)||r.isEqual(_e.min())?this.Ni(e,n):this.Di.getDocuments(e,s).next(i=>{const o=this.ki(n,i);return this.Oi(n,o,s,r)?this.Ni(e,n):(Lp()<=Re.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bu(n)),this.Mi(e,o,n,bT(r,-1)))})}ki(e,n){let s=new ht(T0(e));return n.forEach((r,i)=>{dd(e,i)&&(s=s.add(i))}),s}Oi(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,n){return Lp()<=Re.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Bu(n)),this.Di.getDocumentsMatchingQuery(e,n,Ms.min())}Mi(e,n,s,r){return this.Di.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,s,r){this.persistence=e,this.Fi=n,this.wt=r,this.$i=new ft(Pe),this.Bi=new yi(i=>cd(i),ud),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(s)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function BS(t,e,n,s){return new VS(t,e,n,s)}async function z0(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.qi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=Ee();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}function jS(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=k.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(a,g)).next(y=>{const w=l.docVersions.get(g);We(w!==null),y.version.compareTo(w)<0&&(u.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=Ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function q0(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function HS(t,e){const n=pe(t),s=e.snapshotVersion;let r=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});r=n.$i;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?g=g.withResumeToken(Tt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,s)),r=r.insert(h,g),function(y,w,_){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,u)&&a.push(n.Vs.updateTargetData(i,g))});let l=es(),c=Ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(YS(i,o,e.documentUpdates).next(u=>{l=u.Gi,c=u.Qi})),!s.isEqual(_e.min())){const u=n.Vs.getLastRemoteSnapshotVersion(i).next(h=>n.Vs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return k.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.$i=r,i))}function YS(t,e,n){let s=Ee(),r=Ee();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=es();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Gi:o,Qi:r}})}function WS(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function zS(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Vs.getTargetData(s,e).next(i=>i?(r=i,k.resolve(r)):n.Vs.allocateTargetId(s).next(o=>(r=new ir(e,o,0,s.currentSequenceNumber),n.Vs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.$i.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(s.targetId,s),n.Bi.set(e,s.targetId)),s})}async function Wu(t,e,n){const s=pe(t),r=s.$i.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Fo(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.$i=s.$i.remove(e),s.Bi.delete(r.target)}function tg(t,e,n){const s=pe(t);let r=_e.min(),i=Ee();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=pe(a),h=u.Bi.get(c);return h!==void 0?k.resolve(u.$i.get(h)):u.Vs.getTargetData(l,c)}(s,o,pr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Fi.getDocumentsMatchingQuery(o,e,n?r:_e.min(),n?i:Ee())).next(a=>(qS(s,jT(e),a),{documents:a,ji:i})))}function qS(t,e,n){let s=_e.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Li.set(e,s)}class ng{constructor(){this.activeTargetIds=F0()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KS{constructor(){this.Fr=new ng,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,s){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new ng,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,s,r,i){const o=this.oo(e,n);G("RestConnection","Sending: ",o,s);const a={};return this.uo(a,r,i),this.co(e,o,a,s).then(l=>(G("RestConnection","Received: ",l),l),l=>{throw $p("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",s),l})}ao(e,n,s,r,i,o){return this.ro(e,n,s,r,i)}uo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+mi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}oo(e,n){const s=QS[e];return`${this.so}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,s,r){return new Promise((i,o)=>{const a=new hT;a.listenOnce(lT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Yc.NO_ERROR:const c=a.getResponseJson();G("Connection","XHR received:",JSON.stringify(c)),i(c);break;case Yc.TIMEOUT:G("Connection",'RPC "'+e+'" timed out'),o(new B(b.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const u=a.getStatus();if(G("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(y)>=0?y:b.UNKNOWN}(h.status);o(new B(f,h.message))}else o(new B(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new B(b.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{G("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,s,15)})}ho(e,n,s){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=oT(),o=aT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new uT({})),this.uo(a.initMessageHeaders,n,s),ry()||oy()||HE()||ay()||YE()||iy()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");G("Connection","Creating WebChannel: "+l,a);const c=i.createWebChannel(l,a);let u=!1,h=!1;const f=new XS({jr:y=>{h?G("Connection","Not sending because WebChannel is closed:",y):(u||(G("Connection","Opening WebChannel transport."),c.open(),u=!0),G("Connection","WebChannel sending:",y),c.send(y))},Wr:()=>c.close()}),g=(y,w,_)=>{y.listen(w,T=>{try{_(T)}catch($){setTimeout(()=>{throw $},0)}})};return g(c,ua.EventType.OPEN,()=>{h||G("Connection","WebChannel transport opened.")}),g(c,ua.EventType.CLOSE,()=>{h||(h=!0,G("Connection","WebChannel transport closed"),f.eo())}),g(c,ua.EventType.ERROR,y=>{h||(h=!0,$p("Connection","WebChannel transport errored:",y),f.eo(new B(b.UNAVAILABLE,"The operation could not be completed")))}),g(c,ua.EventType.MESSAGE,y=>{var w;if(!h){const _=y.data[0];We(!!_);const T=_,$=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if($){G("Connection","WebChannel received error:",$);const J=$.status;let q=function(H){const P=it[H];if(P!==void 0)return N0(P)}(J),z=$.message;q===void 0&&(q=b.INTERNAL,z="Unknown error status: "+J+" with message "+$.message),h=!0,f.eo(new B(q,z)),c.close()}else G("Connection","WebChannel received:",_),f.no(_)}}),g(o,cT.STAT_EVENT,y=>{y.stat===Np.PROXY?G("Connection","Detected buffering proxy"):y.stat===Np.NOPROXY&&G("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return new aS(t,!0)}class K0{constructor(e,n,s=1e3,r=1.5,i=6e4){this.js=e,this.timerId=n,this.lo=s,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),r=Math.max(0,n-s);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,s,r,i,o,a,l){this.js=e,this.Ao=s,this.Ro=r,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new K0(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Po===n&&this.Uo(s,r)},s=>{e(()=>{const r=new B(b.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(r)})})}Uo(e,n){const s=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{s(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{s(()=>this.qo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZS extends G0{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.wt=i}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=uS(this.wt,e),s=function(r){if(!("targetChange"in r))return _e.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?_e.min():i.readTime?Gn(i.readTime):_e.min()}(e);return this.listener.Go(n,s)}Qo(e){const n={};n.database=Yu(this.wt),n.addTarget=function(r,i){let o;const a=i.target;return o=Vu(a)?{documents:fS(r,a)}:{query:pS(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=B0(r,i.resumeToken):i.snapshotVersion.compareTo(_e.min())>0&&(o.readTime=il(r,i.snapshotVersion.toTimestamp())),o}(this.wt,e);const s=mS(this.wt,e);s&&(n.labels=s),this.Mo(n)}jo(e){const n={};n.database=Yu(this.wt),n.removeTarget=e,this.Mo(n)}}class ek extends G0{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=dS(e.writeResults,e.commitTime),s=Gn(e.commitTime);return this.listener.Jo(s,n)}return We(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Yu(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>hS(this.wt,s))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=s,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new B(b.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ro(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new B(b.UNKNOWN,r.toString())})}ao(e,n,s,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ao(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(b.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class nk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ds(n),this.su=!1):G("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(o=>{s.enqueueAndForget(async()=>{xr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.lu.add(4),await jo(l),l._u.set("Unknown"),l.lu.delete(4),await Zl(l)}(this))})}),this._u=new nk(s,r)}}async function Zl(t){if(xr(t))for(const e of t.fu)await e(!0)}async function jo(t){for(const e of t.fu)await e(!1)}function Q0(t,e){const n=pe(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),wd(n)?_d(n):vi(n).Co()&&vd(n,e))}function X0(t,e){const n=pe(t),s=vi(n);n.hu.delete(e),s.Co()&&J0(n,e),n.hu.size===0&&(s.Co()?s.ko():xr(n)&&n._u.set("Unknown"))}function vd(t,e){t.wu.Nt(e.targetId),vi(t).Qo(e)}function J0(t,e){t.wu.Nt(e),vi(t).jo(e)}function _d(t){t.wu=new rS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),vi(t).start(),t._u.iu()}function wd(t){return xr(t)&&!vi(t).Do()&&t.hu.size>0}function xr(t){return pe(t).lu.size===0}function Z0(t){t.wu=void 0}async function rk(t){t.hu.forEach((e,n)=>{vd(t,e)})}async function ik(t,e){Z0(t),wd(t)?(t._u.uu(e),_d(t)):t._u.set("Unknown")}async function ok(t,e,n){if(t._u.set("Online"),e instanceof V0&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.hu.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.hu.delete(o),s.wu.removeTarget(o))}(t,e)}catch(s){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ol(t,s)}else if(e instanceof xa?t.wu.Ut(e):e instanceof U0?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(_e.min()))try{const s=await q0(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.wu.Yt(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.hu.get(l);c&&r.hu.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=r.hu.get(a);if(!l)return;r.hu.set(a,l.withResumeToken(Tt.EMPTY_BYTE_STRING,l.snapshotVersion)),J0(r,a);const c=new ir(l.target,a,1,l.sequenceNumber);vd(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){G("RemoteStore","Failed to raise snapshot:",s),await ol(t,s)}}async function ol(t,e,n){if(!Fo(e))throw e;t.lu.add(1),await jo(t),t._u.set("Offline"),n||(n=()=>q0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Zl(t)})}function ev(t,e){return e().catch(n=>ol(t,n,e))}async function ec(t){const e=pe(t),n=Os(e);let s=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;ak(e);)try{const r=await WS(e.localStore,s);if(r===null){e.au.length===0&&n.ko();break}s=r.batchId,lk(e,r)}catch(r){await ol(e,r)}tv(e)&&nv(e)}function ak(t){return xr(t)&&t.au.length<10}function lk(t,e){t.au.push(e);const n=Os(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function tv(t){return xr(t)&&!Os(t).Do()&&t.au.length>0}function nv(t){Os(t).start()}async function ck(t){Os(t).Xo()}async function uk(t){const e=Os(t);for(const n of t.au)e.Ho(n.mutations)}async function hk(t,e,n){const s=t.au.shift(),r=pd.from(s,e,n);await ev(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ec(t)}async function dk(t,e){e&&Os(t).zo&&await async function(n,s){if(r=s.code,ZT(r)&&r!==b.ABORTED){const i=n.au.shift();Os(n).No(),await ev(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ec(n)}var r}(t,e),tv(t)&&nv(t)}async function rg(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const s=xr(n);n.lu.add(3),await jo(n),s&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Zl(n)}async function fk(t,e){const n=pe(t);e?(n.lu.delete(2),await Zl(n)):e||(n.lu.add(2),await jo(n),n._u.set("Unknown"))}function vi(t){return t.mu||(t.mu=function(e,n,s){const r=pe(e);return r.tu(),new ZS(n,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,s)}(t.datastore,t.asyncQueue,{zr:rk.bind(null,t),Jr:ik.bind(null,t),Go:ok.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),wd(t)?_d(t):t._u.set("Unknown")):(await t.mu.stop(),Z0(t))})),t.mu}function Os(t){return t.gu||(t.gu=function(e,n,s){const r=pe(e);return r.tu(),new ek(n,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,s)}(t.datastore,t.asyncQueue,{zr:ck.bind(null,t),Jr:dk.bind(null,t),Yo:uk.bind(null,t),Jo:hk.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await ec(t)):(await t.gu.stop(),t.au.length>0&&(G("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new bd(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ed(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),Fo(t))return new B(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ee.comparator(n.key,s.key):(n,s)=>ee.comparator(n.key,s.key),this.keyedMap=Oi(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new jr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new jr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.yu=new ft(ee.comparator)}track(e){const n=e.doc.key,s=this.yu.get(n);s?e.type!==0&&s.type===3?this.yu=this.yu.insert(n,e):e.type===3&&s.type!==1?this.yu=this.yu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.yu=this.yu.remove(n):e.type===1&&s.type===2?this.yu=this.yu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):fe():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,s)=>{e.push(s)}),e}}class oi{constructor(e,n,s,r,i,o,a,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,s,r){const i=[];return n.forEach(o=>{i.push({type:0,doc:o})}),new oi(e,n,jr.emptySet(n),i,s,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Iu=void 0,this.listeners=[]}}class gk{constructor(){this.queries=new yi(e=>I0(e),ql),this.onlineState="Unknown",this.Tu=new Set}}async function sv(t,e){const n=pe(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new pk),r)try{i.Iu=await n.onListen(s)}catch(o){const a=Ed(o,`Initialization of query '${Bu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.Eu(n.onlineState),i.Iu&&e.Au(i.Iu)&&xd(n)}async function rv(t,e){const n=pe(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function mk(t,e){const n=pe(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Au(r)&&(s=!0);o.Iu=r}}s&&xd(n)}function yk(t,e,n){const s=pe(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function xd(t){t.Tu.forEach(e=>{e.next()})}class iv{constructor(e,n,s){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new oi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Du||!s)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=oi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.key=e}}class av{constructor(e){this.key=e}}class vk{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Ee(),this.mutatedKeys=Ee(),this.Lu=T0(e),this.Uu=new jr(this.Lu)}get qu(){return this.Fu}Ku(e,n){const s=n?n.Gu:new ig,r=n?n.Uu:this.Uu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),g=dd(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;f&&g?f.data.isEqual(g.data)?y!==w&&(s.track({type:3,doc:g}),_=!0):this.Qu(f,g)||(s.track({type:2,doc:g}),_=!0,(l&&this.Lu(g,l)>0||c&&this.Lu(g,c)<0)&&(a=!0)):!f&&g?(s.track({type:0,doc:g}),_=!0):f&&!g&&(s.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=w?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Uu:o,Gu:s,Oi:a,mutatedKeys:i}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort((c,u)=>function(h,f){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return g(h)-g(f)}(c.type,u.type)||this.Lu(c.doc,u.doc)),this.ju(s);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,l=a!==this.$u;return this.$u=a,i.length!==0||l?{snapshot:new oi(this.query,e.Uu,r,i,e.mutatedKeys,a===0,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new ig,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Ee(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const n=[];return e.forEach(s=>{this.Bu.has(s)||n.push(new av(s))}),this.Bu.forEach(s=>{e.has(s)||n.push(new ov(s))}),n}Ju(e){this.Fu=e.ji,this.Bu=Ee();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return oi.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class _k{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wk{constructor(e){this.key=e,this.Xu=!1}}class bk{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new yi(a=>I0(a),ql),this.ec=new Map,this.nc=new Set,this.sc=new ft(ee.comparator),this.ic=new Map,this.rc=new gd,this.oc={},this.uc=new Map,this.cc=ii.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function Ek(t,e){const n=Rk(t);let s,r;const i=n.tc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.Yu();else{const o=await zS(n.localStore,pr(e));n.isPrimaryClient&&Q0(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await xk(n,e,s,a==="current")}return r}async function xk(t,e,n,s){t.hc=(u,h,f)=>async function(g,y,w,_){let T=y.view.Ku(w);T.Oi&&(T=await tg(g.localStore,y.query,!1).then(({documents:q})=>y.view.Ku(q,T)));const $=_&&_.targetChanges.get(y.targetId),J=y.view.applyChanges(T,g.isPrimaryClient,$);return ag(g,y.targetId,J.zu),J.snapshot}(t,u,h,f);const r=await tg(t.localStore,e,!0),i=new vk(e,r.ji),o=i.Ku(r.documents),a=Bo.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline"),l=i.applyChanges(o,t.isPrimaryClient,a);ag(t,n,l.zu);const c=new _k(e,n,i);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function Ik(t,e){const n=pe(t),s=n.tc.get(e),r=n.ec.get(s.targetId);if(r.length>1)return n.ec.set(s.targetId,r.filter(i=>!ql(i,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Wu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),X0(n.remoteStore,s.targetId),zu(n,s.targetId)}).catch($o)):(zu(n,s.targetId),await Wu(n.localStore,s.targetId,!0))}async function Tk(t,e,n){const s=Ok(t);try{const r=await function(i,o){const a=pe(i),l=ut.now(),c=o.reduce((f,g)=>f.add(g.key),Ee());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=es(),y=Ee();return a.Ui.getEntries(f,c).next(w=>{g=w,g.forEach((_,T)=>{T.isValidDocument()||(y=y.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(w=>{u=w;const _=[];for(const T of o){const $=QT(T,u.get(T.key).overlayedDocument);$!=null&&_.push(new Ls(T.key,$,v0($.value.mapValue),jt.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,_,o)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(f,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:L0(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.oc[i.currentUser.toKey()];l||(l=new ft(Pe)),l=l.insert(o,a),i.oc[i.currentUser.toKey()]=l}(s,r.batchId,n),await Ho(s,r.changes),await ec(s.remoteStore)}catch(r){const i=Ed(r,"Failed to persist write");n.reject(i)}}async function lv(t,e){const n=pe(t);try{const s=await HS(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.ic.get(i);o&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Xu=!0:r.modifiedDocuments.size>0?We(o.Xu):r.removedDocuments.size>0&&(We(o.Xu),o.Xu=!1))}),await Ho(n,s,e)}catch(s){await $o(s)}}function og(t,e,n){const s=pe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.tc.forEach((i,o)=>{const a=o.view.Eu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=pe(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.Eu(o)&&(l=!0)}),l&&xd(a)}(s.eventManager,e),r.length&&s.Zu.Go(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Sk(t,e,n){const s=pe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.ic.get(e),i=r&&r.key;if(i){let o=new ft(ee.comparator);o=o.insert(i,_t.newNoDocument(i,_e.min()));const a=Ee().add(i),l=new Xl(_e.min(),new Map,new ht(Pe),o,a);await lv(s,l),s.sc=s.sc.remove(i),s.ic.delete(e),Id(s)}else await Wu(s.localStore,e,!1).then(()=>zu(s,e,n)).catch($o)}async function kk(t,e){const n=pe(t),s=e.batch.batchId;try{const r=await jS(n.localStore,e);uv(n,s,null),cv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ho(n,r)}catch(r){await $o(r)}}async function Ck(t,e,n){const s=pe(t);try{const r=await function(i,o){const a=pe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(We(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);uv(s,e,n),cv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ho(s,r)}catch(r){await $o(r)}}function cv(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function uv(t,e,n){const s=pe(t);let r=s.oc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.oc[s.currentUser.toKey()]=r}}function zu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.ec.get(e))t.tc.delete(s),n&&t.Zu.lc(s,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(s=>{t.rc.containsKey(s)||hv(t,s)})}function hv(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(X0(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),Id(t))}function ag(t,e,n){for(const s of n)s instanceof ov?(t.rc.addReference(s.key,e),Ak(t,s)):s instanceof av?(G("SyncEngine","Document no longer in limbo: "+s.key),t.rc.removeReference(s.key,e),t.rc.containsKey(s.key)||hv(t,s.key)):fe()}function Ak(t,e){const n=e.key,s=n.path.canonicalString();t.sc.get(n)||t.nc.has(s)||(G("SyncEngine","New document in limbo: "+n),t.nc.add(s),Id(t))}function Id(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new ee(Ke.fromString(e)),s=t.cc.next();t.ic.set(s,new wk(n)),t.sc=t.sc.insert(n,s),Q0(t.remoteStore,new ir(pr(hd(n.path)),s,2,ad.ot))}}async function Ho(t,e,n){const s=pe(t),r=[],i=[],o=[];s.tc.isEmpty()||(s.tc.forEach((a,l)=>{o.push(s.hc(l,e,n).then(c=>{if(c){s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=yd.Vi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.Zu.Go(r),await async function(a,l){const c=pe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>k.forEach(l,h=>k.forEach(h.Pi,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>k.forEach(h.vi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!Fo(u))throw u;G("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.$i.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);c.$i=c.$i.insert(h,y)}}}(s.localStore,i))}async function Dk(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const s=await z0(n.localStore,e);n.currentUser=e,function(r,i){r.uc.forEach(o=>{o.forEach(a=>{a.reject(new B(b.CANCELLED,i))})}),r.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ho(n,s.Ki)}}function Mk(t,e){const n=pe(t),s=n.ic.get(e);if(s&&s.Xu)return Ee().add(s.key);{let r=Ee();const i=n.ec.get(e);if(!i)return r;for(const o of i){const a=n.tc.get(o);r=r.unionWith(a.view.qu)}return r}}function Rk(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sk.bind(null,e),e.Zu.Go=mk.bind(null,e.eventManager),e.Zu.lc=yk.bind(null,e.eventManager),e}function Ok(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}class Nk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Jl(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return BS(this.persistence,new US,e.initialUser,this.wt)}_c(e){return new $S(md.Ms,this.wt)}dc(e){return new KS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Pk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>og(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dk.bind(null,this.syncEngine),await fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new gk}createDatastore(e){const n=Jl(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new JS(r));var r;return function(i,o,a,l){return new tk(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>og(this.syncEngine,a,0),o=sg.V()?new sg:new GS,new sk(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new bk(s,r,i,o,a,l);return c&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pe(e);G("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await jo(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=zt.UNAUTHENTICATED,this.clientId=p0.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{G("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(G("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ed(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $k(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await z0(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Fk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Uk(t);G("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>rg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rg(e.remoteStore,i)),t.onlineComponents=e}async function Uk(t){return t.offlineComponents||(G("FirestoreClient","Using default OfflineComponentProvider"),await $k(t,new Nk)),t.offlineComponents}async function fv(t){return t.onlineComponents||(G("FirestoreClient","Using default OnlineComponentProvider"),await Fk(t,new Pk)),t.onlineComponents}function Vk(t){return fv(t).then(e=>e.syncEngine)}async function pv(t){const e=await fv(t),n=e.eventManager;return n.onListen=Ek.bind(null,e.syncEngine),n.onUnlisten=Ik.bind(null,e.syncEngine),n}function Bk(t,e,n={}){const s=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new dv({next:h=>{i.enqueueAndForget(()=>rv(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new B(b.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new B(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new iv(hd(o.path),c,{includeMetadataChanges:!0,Du:!0});return sv(r,u)}(await pv(t),t.asyncQueue,e,n,s)),s.promise}function jk(t,e,n={}){const s=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new dv({next:h=>{i.enqueueAndForget(()=>rv(r,u)),h.fromCache&&a.source==="server"?l.reject(new B(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new iv(o,c,{includeMetadataChanges:!0,Du:!0});return sv(r,u)}(await pv(t),t.asyncQueue,e,n,s)),s.promise}const lg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e,n){if(!n)throw new B(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hk(t,e,n,s){if(e===!0&&s===!0)throw new B(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cg(t){if(!ee.isDocumentKey(t))throw new B(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ug(t){if(ee.isDocumentKey(t))throw new B(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tc(t);throw new B(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Yk(t,e){if(e<=0)throw new B(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new B(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Hk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s){this._authCredentials=n,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hg({}),this._settingsFrozen=!1,e instanceof si?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new B(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new si(r.options.projectId)}(e))}get app(){if(!this._app)throw new B(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fT;switch(n.type){case"gapi":const s=n.client;return We(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new mT(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new B(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=lg.get(e);n&&(G("ComponentProvider","Removing Datastore"),lg.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class _i{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _i(this.firestore,e,this._query)}}class Ts extends _i{constructor(e,n,s){super(e,n,hd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ee(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function kn(t,e,...n){if(t=It(t),gv("collection","path",e),t instanceof Td){const s=Ke.fromString(e,...n);return ug(s),new Ts(t,null,s)}{if(!(t instanceof Ht||t instanceof Ts))throw new B(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ke.fromString(e,...n));return ug(s),new Ts(t.firestore,null,s)}}function Dt(t,e,...n){if(t=It(t),arguments.length===1&&(e=p0.I()),gv("doc","path",e),t instanceof Td){const s=Ke.fromString(e,...n);return cg(s),new Ht(t,null,new ee(s))}{if(!(t instanceof Ht||t instanceof Ts))throw new B(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ke.fromString(e,...n));return cg(s),new Ht(t.firestore,t instanceof Ts?t.converter:null,new ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new K0(this,"async_queue_retry"),this.Kc=()=>{const n=zc();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=zc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new Kn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Fo(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(s=>{this.Bc=s,this.Lc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Ds("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Lc=!1,s))));return this.Oc=n,n}enqueueAfterDelay(e,n,s){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const r=bd.createAndSchedule(this,e,n,s,i=>this.Wc(i));return this.$c.push(r),r}Gc(){this.Bc&&fe()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class $s extends Td{constructor(e,n,s){super(e,n,s),this.type="firestore",this._queue=new Wk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mv(this),this._firestoreClient.terminate()}}function zk(t=hy()){return Ph(t,"firestore").getImmediate()}function nc(t){return t._firestoreClient||mv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mv(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new kT(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Lk(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Tt.fromBase64String(e))}catch(n){throw new B(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^__.*__$/;class Kk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vo(e,this.data,n,this.fieldTransforms)}}class yv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Cd{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.wt=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ta({path:s,na:!1});return r.sa(e),r}ia(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ta({path:s,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return al(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(vv(this.Zc)&&qk.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=s||Jl(e)}aa(e,n,s,r=!1){return new Cd({Zc:e,methodName:n,ca:s,path:At.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Wo(t){const e=t._freezeSettings(),n=Jl(t._databaseId);return new Gk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ad(t,e,n,s,r,i={}){const o=t.aa(i.merge||i.mergeFields?2:0,e,n,r);Dd("Data must be an object, but it was:",o,s);const a=bv(s,o);let l,c;if(i.merge)l=new cn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=qu(e,h,n);if(!o.contains(f))throw new B(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xv(u,f)||u.push(f)}l=new cn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Kk(new qt(a),l,c)}class sc extends Sd{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sc}}function _v(t,e,n,s){const r=t.aa(1,e,n);Dd("Data must be an object, but it was:",r,s);const i=[],o=qt.empty();Er(s,(l,c)=>{const u=Md(e,l,n);c=It(c);const h=r.ia(u);if(c instanceof sc)i.push(u);else{const f=zo(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new cn(i);return new yv(o,a,r.fieldTransforms)}function wv(t,e,n,s,r,i){const o=t.aa(1,e,n),a=[qu(e,s,n)],l=[r];if(i.length%2!=0)throw new B(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(qu(e,i[f])),l.push(i[f+1]);const c=[],u=qt.empty();for(let f=a.length-1;f>=0;--f)if(!xv(c,a[f])){const g=a[f];let y=l[f];y=It(y);const w=o.ia(g);if(y instanceof sc)c.push(g);else{const _=zo(y,w);_!=null&&(c.push(g),u.set(g,_))}}const h=new cn(c);return new yv(u,h,o.fieldTransforms)}function Qk(t,e,n,s=!1){return zo(n,t.aa(s?4:3,e))}function zo(t,e){if(Ev(t=It(t)))return Dd("Unsupported field value:",e,t),bv(t,e);if(t instanceof Sd)return function(n,s){if(!vv(s.Zc))throw s.oa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.oa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=zo(o,s.ra(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YT(s.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=ut.fromDate(n);return{timestampValue:il(s.wt,r)}}if(n instanceof ut){const r=new ut(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:il(s.wt,r)}}if(n instanceof kd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ai)return{bytesValue:B0(s.wt,n._byteString)};if(n instanceof Ht){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.oa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:fd(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.oa(`Unsupported field value: ${tc(n)}`)}(t,e)}function bv(t,e){const n={};return g0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(t,(s,r)=>{const i=zo(r,e.ea(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Ev(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof kd||t instanceof ai||t instanceof Ht||t instanceof Sd)}function Dd(t,e,n){if(!Ev(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=tc(n);throw s==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+s)}}function qu(t,e,n){if((e=It(e))instanceof Yo)return e._internalPath;if(typeof e=="string")return Md(t,e);throw al("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xk=new RegExp("[~\\*/\\[\\]]");function Md(t,e,n){if(e.search(Xk)>=0)throw al(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yo(...e.split("."))._internalPath}catch{throw al(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function al(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new B(b.INVALID_ARGUMENT,a+t+l)}function xv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jk extends Iv{data(){return super.data()}}function Rd(t,e){return typeof e=="string"?Md(t,e):e instanceof Yo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tv extends Iv{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Rd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ia extends Tv{data(e={}){return super.data(e)}}class Zk{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ni(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ia(this._firestore,this._userDataWriter,s.key,s,new Ni(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>({type:"added",doc:new Ia(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ni(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:i++}))}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new Ia(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ni(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:eC(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}function jn(t,...e){for(const n of e)t=n._apply(t);return t}class nC extends Sv{constructor(e,n,s){super(),this.fa=e,this.da=n,this._a=s,this.type="where"}_apply(e){const n=Wo(e.firestore),s=function(r,i,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new B(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fg(u,c);const g=[];for(const y of u)g.push(dg(a,r,y));h={arrayValue:{values:g}}}else h=dg(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fg(u,c),h=Qk(o,i,u,c==="in"||c==="not-in");const f=Bt.create(l,c,h);return function(g,y){if(y.ht()){const _=b0(g);if(_!==null&&!_.isEqual(y.field))throw new B(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_.toString()}' and '${y.field.toString()}'`);const T=w0(g);T!==null&&iC(g,y.field,T)}const w=function(_,T){for(const $ of _.filters)if(T.indexOf($.op)>=0)return $.op;return null}(g,function(_){switch(_){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(y.op));if(w!==null)throw w===y.op?new B(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${y.op.toString()}' filter.`):new B(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${y.op.toString()}' filters with '${w.toString()}' filters.`)}(r,f),f}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new _i(e.firestore,e.converter,function(r,i){const o=r.filters.concat([i]);return new Uo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,s))}}function $t(t,e,n){const s=e,r=Rd("where",t);return new nC(r,s,n)}class sC extends Sv{constructor(e,n,s){super(),this.type=e,this.ma=n,this.ga=s}_apply(e){return new _i(e.firestore,e.converter,x0(e._query,this.ma,this.ga))}}function rC(t){return Yk("limit",t),new sC("limit",t,"F")}function dg(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new B(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E0(e)&&n.indexOf("/")!==-1)throw new B(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ke.fromString(n));if(!ee.isDocumentKey(s))throw new B(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bp(t,new ee(s))}if(n instanceof Ht)return Bp(t,n._key);throw new B(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(n)}.`)}function fg(t,e){if(!Array.isArray(t)||t.length===0)throw new B(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new B(b.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iC(t,e,n){if(!n.isEqual(e))throw new B(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{convertValue(e,n="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){const s={};return Er(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new kd(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=y0(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fo(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ke.fromString(e);We(W0(s));const r=new si(s.get(1),s.get(3)),i=new ee(s.popFirst(5));return r.isEqual(n)||Ds(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wo(e)}set(e,n,s){this._verifyNotCommitted();const r=qc(e,this._firestore),i=Od(r.converter,n,s),o=Ad(this._dataReader,"WriteBatch.set",r._key,i,r.converter!==null,s);return this._mutations.push(o.toMutation(r._key,jt.none())),this}update(e,n,s,...r){this._verifyNotCommitted();const i=qc(e,this._firestore);let o;return o=typeof(n=It(n))=="string"||n instanceof Yo?wv(this._dataReader,"WriteBatch.update",i._key,n,s,r):_v(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,jt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qc(e,this._firestore);return this._mutations=this._mutations.concat(new Ql(n._key,jt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qc(t,e){if((t=It(t)).firestore!==e)throw new B(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(t){t=yn(t,Ht);const e=yn(t.firestore,$s);return Bk(nc(e),t._key).then(n=>uC(e,t,n))}class kv extends oC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Hn(t){t=yn(t,_i);const e=yn(t.firestore,$s),n=nc(e),s=new kv(e);return tC(t._query),jk(n,t._query).then(r=>new Zk(e,s,t,r))}function qo(t,e,n){t=yn(t,Ht);const s=yn(t.firestore,$s),r=Od(t.converter,e,n);return Ko(s,[Ad(Wo(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,jt.none())])}function vo(t,e,n,...s){t=yn(t,Ht);const r=yn(t.firestore,$s),i=Wo(r);let o;return o=typeof(e=It(e))=="string"||e instanceof Yo?wv(i,"updateDoc",t._key,e,n,s):_v(i,"updateDoc",t._key,e),Ko(r,[o.toMutation(t._key,jt.exists(!0))])}function Nd(t){return Ko(yn(t.firestore,$s),[new Ql(t._key,jt.none())])}function cC(t,e){const n=yn(t.firestore,$s),s=Dt(t),r=Od(t.converter,e);return Ko(n,[Ad(Wo(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,jt.exists(!1))]).then(()=>s)}function Ko(t,e){return function(n,s){const r=new Kn;return n.asyncQueue.enqueueAndForget(async()=>Tk(await Vk(n),s,r)),r.promise}(nc(t),e)}function uC(t,e,n){const s=n.docs.get(e._key),r=new kv(t);return new Tv(t,r,e._key,s,new Ni(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){return nc(t=yn(t,$s)),new aC(t,e=>Ko(t,e))}(function(t,e=!0){(function(n){mi=n})(ko),Zr(new lr("firestore",(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),i=new $s(r,new pT(n.getProvider("auth-internal")),new vT(n.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC")),Is(Pp,"3.4.12",t),Is(Pp,"3.4.12","esm2017")})();var dC="firebase",fC="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(dC,fC,"app");function Pd(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function Cv(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pC=Cv,Av=new To("auth","Firebase",Cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new Rh("@firebase/auth");function Ta(t,...e){pg.logLevel<=Re.ERROR&&pg.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw Ld(t,...e)}function Cn(t,...e){return Ld(t,...e)}function Dv(t,e,n){const s=Object.assign(Object.assign({},pC()),{[e]:n});return new To("auth","Firebase",s).create(e,{appName:t.name})}function gC(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Rn(t,"argument-error"),Dv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ld(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Av.create(t,...e)}function de(t,e,...n){if(!t)throw Ld(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ta(e),new Error(e)}function ts(t,e){t||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map;function Wn(t){ts(t instanceof Function,"Expected a class definition");let e=gg.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gg.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t,e){const n=Ph(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Ya(i,e!=null?e:{}))return r;Rn(r,"already-initialized")}return n.initialize({options:e})}function yC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vC(){return mg()==="http:"||mg()==="https:"}function mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vC()||iy()||"connection"in navigator)?navigator.onLine:!0}function wC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=ry()||oy()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Go(3e4,6e4);function xC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rc(t,e,n,s,r={}){return Rv(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=So(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Mv.fetch()(Ov(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Rv(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},bC),e);try{const r=new TC(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fa(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fa(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fa(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fa(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Dv(t,u,c);Rn(t,u)}}catch(r){if(r instanceof wr)throw r;Rn(t,"network-request-failed")}}async function IC(t,e,n,s,r={}){const i=await rc(t,e,n,s,r);return"mfaPendingCredential"in i&&Rn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Ov(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?$d(t.config,r):`${t.config.apiScheme}://${r}`}class TC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Cn(this.auth,"network-request-failed")),EC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fa(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Cn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t,e){return rc(t,"POST","/v1/accounts:delete",e)}async function kC(t,e){return rc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(t,e=!1){const n=It(t),s=await n.getIdToken(e),r=Fd(s);de(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Ki(Kc(r.auth_time)),issuedAtTime:Ki(Kc(r.iat)),expirationTime:Ki(Kc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Kc(t){return Number(t)*1e3}function Fd(t){var e;const[n,s,r]=t.split(".");if(n===void 0||s===void 0||r===void 0)return Ta("JWT malformed, contained fewer than 3 sections"),null;try{const i=BE(s);return i?JSON.parse(i):(Ta("Failed to decode base64 JWT payload"),null)}catch(i){return Ta("Caught error parsing JWT payload as JSON",(e=i)===null||e===void 0?void 0:e.toString()),null}}function AC(t){const e=Fd(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wr&&DC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function DC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ki(this.lastLoginAt),this.creationTime=Ki(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){var e;const n=t.auth,s=await t.getIdToken(),r=await _o(t,kC(n,{idToken:s}));de(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?NC(i.providerUserInfo):[],a=OC(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Nv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function RC(t){const e=It(t);await ll(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function NC(t){return t.map(e=>{var{providerId:n}=e,s=Pd(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,e){const n=await Rv(t,{},async()=>{const s=So({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=Ov(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mv.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await PC(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new wo;return s&&(de(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(de(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=Pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Nv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CC(this,e)}reload(){return RC(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ll(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _o(this,SC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,l,c,u;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,$=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:J,emailVerified:q,isAnonymous:z,providerData:H,stsTokenManager:P}=n;de(J&&P,e,"internal-error");const A=wo.fromJSON(this.name,P);de(typeof J=="string",e,"internal-error"),hs(h,e.name),hs(f,e.name),de(typeof q=="boolean",e,"internal-error"),de(typeof z=="boolean",e,"internal-error"),hs(g,e.name),hs(y,e.name),hs(w,e.name),hs(_,e.name),hs(T,e.name),hs($,e.name);const O=new or({uid:J,auth:e,email:f,emailVerified:q,displayName:h,isAnonymous:z,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:A,createdAt:T,lastLoginAt:$});return H&&Array.isArray(H)&&(O.providerData=H.map(se=>Object.assign({},se))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(e,n,s=!1){const r=new wo;r.updateFromServerResponse(n);const i=new or({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await ll(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Pv.type="NONE";const yg=Pv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e,n){return`firebase:${t}:${e}:${n}`}class Hr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Sa(this.userKey,r.apiKey,i),this.fullPersistenceKey=Sa("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Hr(Wn(yg),e,s);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=r[0]||Wn(yg);const o=Sa(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=or._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Hr(i,e,s):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Hr(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vv(e))return"Blackberry";if(Bv(e))return"Webos";if(Ud(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Uv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Lv(t=mt()){return/firefox\//i.test(t)}function Ud(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(t=mt()){return/crios\//i.test(t)}function Fv(t=mt()){return/iemobile/i.test(t)}function Uv(t=mt()){return/android/i.test(t)}function Vv(t=mt()){return/blackberry/i.test(t)}function Bv(t=mt()){return/webos/i.test(t)}function ic(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LC(t=mt()){var e;return ic(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $C(){return ay()&&document.documentMode===10}function jv(t=mt()){return ic(t)||Uv(t)||Bv(t)||Vv(t)||/windows phone/i.test(t)||Fv(t)}function FC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e=[]){let n;switch(t){case"Browser":n=vg(mt());break;case"Worker":n=`${vg(mt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=r)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _g(this),this.idTokenSubscription=new _g(this),this.beforeStateQueue=new UC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Av,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Hr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await ll(e)}catch(s){if(((n=s)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?It(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Hr.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return de(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function Vd(t){return It(t)}class _g{constructor(e){this.auth=e,this.observer=null,this.addObserver=XE(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yr(t,e){return IC(t,"POST","/v1/accounts:signInWithIdp",xC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="http://localhost";class gr extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=Pd(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new gr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Yr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yr(e,n)}buildRequest(){const e={requestUri:BC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=So(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Bd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Qo{constructor(){super("facebook.com")}static credential(e){return gr._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gr._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return In.credential(n,s)}catch{return null}}}In.GOOGLE_SIGN_IN_METHOD="google.com";In.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Qo{constructor(){super("github.com")}static credential(e){return gr._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Qo{constructor(){super("twitter.com")}static credential(e,n){return gr._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await or._fromIdTokenResponse(e,s,r),o=wg(s);return new li({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=wg(s);return new li({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function wg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends wr{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,cl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new cl(e,n,s,r)}}function Wv(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cl._fromErrorAndOperation(t,i,e,s):i})}async function jC(t,e,n=!1){const s=await _o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return li._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e,n=!1){var s;const{auth:r}=t,i="reauthenticate";try{const o=await _o(t,Wv(r,i,e,t),n);de(o.idToken,r,"internal-error");const a=Fd(o.idToken);de(a,r,"internal-error");const{sub:l}=a;return de(t.uid===l,r,"user-mismatch"),li._forOperation(t,i,o)}catch(o){throw((s=o)===null||s===void 0?void 0:s.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e,n=!1){const s="signIn",r=await Wv(t,s,e),i=await li._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}function WC(t,e,n,s){return It(t).onAuthStateChanged(e,n,s)}function zC(t){return It(t).signOut()}const ul="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ul,"1"),this.storage.removeItem(ul),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){const t=mt();return Ud(t)||ic(t)}const KC=1e3,GC=10;class qv extends zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qC()&&FC(),this.fallbackToPolling=jv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);$C()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,GC):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qv.type="LOCAL";const QC=qv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Kv.type="SESSION";const Gv=Kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new oc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await XC(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=jd("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function ZC(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function e2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function n2(){return Qv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="firebaseLocalStorageDb",s2=1,hl="firebaseLocalStorage",Jv="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ac(t,e){return t.transaction([hl],e?"readwrite":"readonly").objectStore(hl)}function r2(){const t=indexedDB.deleteDatabase(Xv);return new Xo(t).toPromise()}function Gu(){const t=indexedDB.open(Xv,s2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(hl,{keyPath:Jv})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(hl)?e(s):(s.close(),await r2(),e(await Gu()))})})}async function bg(t,e,n){const s=ac(t,!0).put({[Jv]:e,value:n});return new Xo(s).toPromise()}async function i2(t,e){const n=ac(t,!1).get(e),s=await new Xo(n).toPromise();return s===void 0?null:s.value}function Eg(t,e){const n=ac(t,!0).delete(e);return new Xo(n).toPromise()}const o2=800,a2=3;class Zv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>a2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oc._getInstance(n2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await e2(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);!s||((e=s[0])===null||e===void 0?void 0:e.fulfilled)&&((n=s[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gu();return await bg(e,ul,"1"),await Eg(e,ul),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bg(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>i2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Eg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=ac(r,!1).getAll();return new Xo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zv.type="LOCAL";const l2=Zv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function u2(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Cn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",c2().appendChild(s)})}function h2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Go(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t,e){return e?Wn(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d2(t){return YC(t.auth,new Hd(t),t.bypassAuthState)}function f2(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),HC(n,new Hd(t),t.bypassAuthState)}async function p2(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),jC(n,new Hd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d2;case"linkViaPopup":case"linkViaRedirect":return p2;case"reauthViaPopup":case"reauthViaRedirect":return f2;default:Rn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Go(2e3,1e4);async function m2(t,e,n){const s=Vd(t);gC(t,e,Bd);const r=e_(s,n);return new er(s,"signInViaPopup",e,r).executeNotNull()}class er extends t_{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,er.currentPopupAction&&er.currentPopupAction.cancel(),er.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,er.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,g2.get())};e()}}er.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="pendingRedirect",ka=new Map;class v2 extends t_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ka.get(this.auth._key());if(!e){try{const s=await _2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ka.set(this.auth._key(),e)}return this.bypassAuthState||ka.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(t,e){const n=E2(e),s=b2(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function w2(t,e){ka.set(t._key(),e)}function b2(t){return Wn(t._redirectPersistence)}function E2(t){return Sa(y2,t.config.apiKey,t.name)}async function x2(t,e,n=!1){const s=Vd(t),r=e_(s,e),o=await new v2(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=10*60*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!n_(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I2&&this.cachedEventUids.clear(),this.cachedEventUids.has(xg(e))}saveEventToCache(e){this.cachedEventUids.add(xg(e)),this.lastProcessedEventTime=Date.now()}}function xg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e={}){return rc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function D2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k2(t);for(const n of e)try{if(M2(n))return}catch{}Rn(t,"unauthorized-domain")}function M2(t){const e=Ku(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!A2.test(n))return!1;if(C2.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Go(3e4,6e4);function Ig(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O2(t){return new Promise((e,n)=>{var s,r,i;function o(){Ig(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ig(),n(Cn(t,"network-request-failed"))},timeout:R2.get()})}if(!((r=(s=An().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=An().gapi)===null||i===void 0)&&i.load)o();else{const a=h2("iframefcb");return An()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},u2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ca=null,e})}let Ca=null;function N2(t){return Ca=Ca||O2(t),Ca}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Go(5e3,15e3),L2="__/auth/iframe",$2="emulator/auth/iframe",F2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$d(e,$2):`https://${t.config.authDomain}/${L2}`,s={apiKey:e.apiKey,appName:t.name,v:ko},r=U2.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${So(s).slice(1)}`}async function B2(t){const e=await N2(t),n=An().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:V2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F2,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=An().setTimeout(()=>{i(o)},P2.get());function l(){An().clearTimeout(a),r(s)}s.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,Y2=600,W2="_blank",z2="http://localhost";class Tg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q2(t,e,n,s=H2,r=Y2){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},j2),{width:s.toString(),height:r.toString(),top:i,left:o}),c=mt().toLowerCase();n&&(a=$v(c)?W2:n),Lv(c)&&(e=e||z2,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(LC(c)&&a!=="_self")return K2(e||"",a),new Tg(null);const h=window.open(e||"",a,u);de(h,t,"popup-blocked");try{h.focus()}catch{}return new Tg(h)}function K2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__/auth/handler",Q2="emulator/auth/handler";function Sg(t,e,n,s,r,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ko,eventId:r};if(e instanceof Bd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(i||{}))o[l]=c}if(e instanceof Qo){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${X2(t)}?${So(a).slice(1)}`}function X2({config:t}){return t.emulator?$d(t,Q2):`https://${t.authDomain}/${G2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gv,this._completeRedirectFn=x2,this._overrideRedirectResult=w2}async _openPopup(e,n,s,r){var i;ts((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=Sg(e,n,s,Ku(),r);return q2(e,o,jd())}async _openRedirect(e,n,s,r){return await this._originValidation(e),ZC(Sg(e,n,s,Ku(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(ts(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await B2(e),s=new T2(e);return n.register("authEvent",r=>(de(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gc,{type:Gc},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Gc];o!==void 0&&n(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jv()||Ud()||ic()}}const Z2=J2;var kg="@firebase/auth",Cg="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{var r;e(((r=s)===null||r===void 0?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nA(t){Zr(new lr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=s.options;return((a,l)=>{de(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),de(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hv(t)},u=new VC(a,l,c);return yC(u,n),u})(s,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zr(new lr("auth-internal",e=>{const n=Vd(e.getProvider("auth").getImmediate());return(s=>new eA(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(kg,Cg,tA(t)),Is(kg,Cg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t=hy()){const e=Ph(t,"auth");return e.isInitialized()?e.getImmediate():mC(t,{popupRedirectResolver:Z2,persistence:[l2,QC,Gv]})}nA("Browser");const sA={apiKey:"AIzaSyAStJCaI-NlxZufpRC-eiaGxTbDsOCETgk",authDomain:"moneylee.firebaseapp.com",projectId:"moneylee",storageBucket:"moneylee.appspot.com",messagingSenderId:"288288661557",appId:"1:288288661557:web:a6f75c19c60d2a1d36917c"},rA=new In,iA=Qx(sA),je=zk(iA);lc();const oA=d("h3",{class:"text-3xl font-medium text-gray-700"},"Dashboard",-1),aA=xh('<div class="mt-4"><div class="flex flex-wrap -mx-6"><div class="w-full px-6 sm:w-1/2 xl:w-1/3"><div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm"><div class="p-3 bg-indigo-600 bg-opacity-75 rounded-full"><svg class="w-8 h-8 text-white" viewBox="0 0 28 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.08889C18.2 11.5373 16.3196 13.5222 14 13.5222C11.6804 13.5222 9.79999 11.5373 9.79999 9.08889C9.79999 6.64043 11.6804 4.65556 14 4.65556C16.3196 4.65556 18.2 6.64043 18.2 9.08889Z" fill="currentColor"></path><path d="M25.2 12.0444C25.2 13.6768 23.9464 15 22.4 15C20.8536 15 19.6 13.6768 19.6 12.0444C19.6 10.4121 20.8536 9.08889 22.4 9.08889C23.9464 9.08889 25.2 10.4121 25.2 12.0444Z" fill="currentColor"></path><path d="M19.6 22.3889C19.6 19.1243 17.0927 16.4778 14 16.4778C10.9072 16.4778 8.39999 19.1243 8.39999 22.3889V26.8222H19.6V22.3889Z" fill="currentColor"></path><path d="M8.39999 12.0444C8.39999 13.6768 7.14639 15 5.59999 15C4.05359 15 2.79999 13.6768 2.79999 12.0444C2.79999 10.4121 4.05359 9.08889 5.59999 9.08889C7.14639 9.08889 8.39999 10.4121 8.39999 12.0444Z" fill="currentColor"></path><path d="M22.4 26.8222V22.3889C22.4 20.8312 22.0195 19.3671 21.351 18.0949C21.6863 18.0039 22.0378 17.9556 22.4 17.9556C24.7197 17.9556 26.6 19.9404 26.6 22.3889V26.8222H22.4Z" fill="currentColor"></path><path d="M6.64896 18.0949C5.98058 19.3671 5.59999 20.8312 5.59999 22.3889V26.8222H1.39999V22.3889C1.39999 19.9404 3.2804 17.9556 5.59999 17.9556C5.96219 17.9556 6.31367 18.0039 6.64896 18.0949Z" fill="currentColor"></path></svg></div><div class="mx-5"><h4 class="text-2xl font-semibold text-gray-700">8,282</h4><div class="text-gray-500">New Users</div></div></div></div><div class="w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 sm:mt-0"><div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm"><div class="p-3 bg-blue-600 bg-opacity-75 rounded-full"><svg class="w-8 h-8 text-white" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.19999 1.4C3.4268 1.4 2.79999 2.02681 2.79999 2.8C2.79999 3.57319 3.4268 4.2 4.19999 4.2H5.9069L6.33468 5.91114C6.33917 5.93092 6.34409 5.95055 6.34941 5.97001L8.24953 13.5705L6.99992 14.8201C5.23602 16.584 6.48528 19.6 8.97981 19.6H21C21.7731 19.6 22.4 18.9732 22.4 18.2C22.4 17.4268 21.7731 16.8 21 16.8H8.97983L10.3798 15.4H19.6C20.1303 15.4 20.615 15.1004 20.8521 14.6261L25.0521 6.22609C25.2691 5.79212 25.246 5.27673 24.991 4.86398C24.7357 4.45123 24.2852 4.2 23.8 4.2H8.79308L8.35818 2.46044C8.20238 1.83722 7.64241 1.4 6.99999 1.4H4.19999Z" fill="currentColor"></path><path d="M22.4 23.1C22.4 24.2598 21.4598 25.2 20.3 25.2C19.1403 25.2 18.2 24.2598 18.2 23.1C18.2 21.9402 19.1403 21 20.3 21C21.4598 21 22.4 21.9402 22.4 23.1Z" fill="currentColor"></path><path d="M9.1 25.2C10.2598 25.2 11.2 24.2598 11.2 23.1C11.2 21.9402 10.2598 21 9.1 21C7.9402 21 7 21.9402 7 23.1C7 24.2598 7.9402 25.2 9.1 25.2Z" fill="currentColor"></path></svg></div><div class="mx-5"><h4 class="text-2xl font-semibold text-gray-700">200,521</h4><div class="text-gray-500">Total Orders</div></div></div></div><div class="w-full px-6 mt-6 sm:w-1/2 xl:w-1/3 xl:mt-0"><div class="flex items-center px-5 py-6 bg-white rounded-md shadow-sm"><div class="p-3 bg-pink-600 bg-opacity-75 rounded-full"><svg class="w-8 h-8 text-white" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99998 11.2H21L22.4 23.8H5.59998L6.99998 11.2Z" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linejoin="round"></path><path d="M9.79999 8.4C9.79999 6.08041 11.6804 4.2 14 4.2C16.3196 4.2 18.2 6.08041 18.2 8.4V12.6C18.2 14.9197 16.3196 16.8 14 16.8C11.6804 16.8 9.79999 14.9197 9.79999 12.6V8.4Z" stroke="currentColor" stroke-width="2"></path></svg></div><div class="mx-5"><h4 class="text-2xl font-semibold text-gray-700">215,542</h4><div class="text-gray-500">Available Products</div></div></div></div></div></div><div class="mt-8"></div>',2),lA={class:"flex flex-col mt-8"},cA={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},uA={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},hA={class:"min-w-full"},dA=d("thead",null,[d("tr",null,[d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Name "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Title "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Status "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase border-b border-gray-200 bg-gray-50"}," Role "),d("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50"})])],-1),fA={class:"bg-white"},pA={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},gA={class:"flex items-center"},mA=d("div",{class:"flex-shrink-0 w-10 h-10"},[d("img",{class:"w-10 h-10 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""})],-1),yA={class:"ml-4"},vA={class:"text-sm font-medium leading-5 text-gray-900"},_A={class:"text-sm leading-5 text-gray-500"},wA={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},bA={class:"text-sm leading-5 text-gray-900"},EA={class:"text-sm leading-5 text-gray-500"},xA={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},IA={class:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},TA={class:"px-6 py-4 text-sm leading-5 text-gray-500 border-b border-gray-200 whitespace-nowrap"},SA=d("td",{class:"px-6 py-4 text-sm font-medium leading-5 text-right border-b border-gray-200 whitespace-nowrap"},[d("a",{href:"#",class:"text-indigo-600 hover:text-indigo-900"},"Edit")],-1),kA=lt({setup(t){const e={name:"John Doe",email:"john@example.com",title:"Software Engineer",title2:"Web dev",status:"Active",role:"Owner"},n=async()=>{try{const r=await cC(kn(je,"users"),{first:"Ada",last:"Lovelace",born:1815});console.log("Document written with ID: ",r.id)}catch(r){console.error("Error adding document: ",r)}},s=oe([...Array(10).keys()].map(()=>e));return(r,i)=>(Z(),ae("div",null,[oA,d("button",{onClick:n},"Add Data"),aA,d("div",lA,[d("div",cA,[d("div",uA,[d("table",hA,[dA,d("tbody",fA,[(Z(!0),ae(qe,null,As(s.value,(o,a)=>(Z(),ae("tr",{key:a},[d("td",pA,[d("div",gA,[mA,d("div",yA,[d("div",vA,ye(o.name),1),d("div",_A,ye(o.email),1)])])]),d("td",wA,[d("div",bA,ye(o.title),1),d("div",EA,ye(o.title2),1)]),d("td",xA,[d("span",IA,ye(o.status),1)]),d("td",TA,ye(o.role),1),SA]))),128))])])])])])]))}});function cc(t){const e=new Date().valueOf().toString();return`${t}_${e}`}const mr=Io("category",{state:()=>({categories:oe([])}),getters:{getCategory(t){return e=>t.categories.find(n=>n._id===e)},getCategoriesPicklist(t){return t.categories.flatMap(e=>{if(e.isActive&&e.parentId){const n=t.categories.find(r=>r._id===e.parentId);return{label:n?`${n.name} > ${e.name}`:e.name,value:e._id}}return[]})}},actions:{async load(){const t=Gt(),e=await Hn(jn(kn(je,"categories"),$t("userId","==",t.user.uid)));this.categories=[],e.forEach(n=>{const s=n.data();s.userId===t.user.uid&&this.categories.push(s)})},async getOrAddCategory(t){const e=Gt();try{if(t._id)t=this.categories[this.categories.findIndex(n=>n._id===t._id)];else{t={...t,_id:cc("category"),userId:e.user.uid,isActive:!0};try{await qo(Dt(je,"categories",t._id),t),this.categories.push(t)}catch(n){console.error("Error adding document: ",n)}}return t}catch(n){console.log(n)}},async updateCategory(t){if(!t._id)return;const e=this.categories.findIndex(s=>s._id===t._id),n={...this.categories[e],...t};try{await vo(Dt(je,"categories",n._id),n),this.categories[e]=n}catch(s){console.error("Error updating document: ",s)}},async delete(t){const e=this.categories.findIndex(n=>n._id===t);try{const n=this.categories[e];await Nd(Dt(je,"categories",n._id)),this.categories.splice(e,1)}catch(n){console.error("Error adding document: ",n)}}}});//! moment.js
//! version : 2.29.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var s_;function M(){return s_.apply(null,arguments)}function CA(t){s_=t}function vn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ar(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yd(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ae(t,e))return!1;return!0}function Wt(t){return t===void 0}function ns(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Jo(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function r_(t,e){var n=[],s,r=t.length;for(s=0;s<r;++s)n.push(e(t[s],s));return n}function vs(t,e){for(var n in e)Ae(e,n)&&(t[n]=e[n]);return Ae(e,"toString")&&(t.toString=e.toString),Ae(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Nn(t,e,n,s){return C_(t,e,n,s,!0).utc()}function AA(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ge(t){return t._pf==null&&(t._pf=AA()),t._pf}var Qu;Array.prototype.some?Qu=Array.prototype.some:Qu=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function Wd(t){if(t._isValid==null){var e=ge(t),n=Qu.call(e.parsedDateParts,function(r){return r!=null}),s=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s}return t._isValid}function uc(t){var e=Nn(NaN);return t!=null?vs(ge(e),t):ge(e).userInvalidated=!0,e}var Ag=M.momentProperties=[],Qc=!1;function zd(t,e){var n,s,r,i=Ag.length;if(Wt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Wt(e._i)||(t._i=e._i),Wt(e._f)||(t._f=e._f),Wt(e._l)||(t._l=e._l),Wt(e._strict)||(t._strict=e._strict),Wt(e._tzm)||(t._tzm=e._tzm),Wt(e._isUTC)||(t._isUTC=e._isUTC),Wt(e._offset)||(t._offset=e._offset),Wt(e._pf)||(t._pf=ge(e)),Wt(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)s=Ag[n],r=e[s],Wt(r)||(t[s]=r);return t}function Zo(t){zd(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Qc===!1&&(Qc=!0,M.updateOffset(this),Qc=!1)}function _n(t){return t instanceof Zo||t!=null&&t._isAMomentObject!=null}function i_(t){M.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function un(t,e){var n=!0;return vs(function(){if(M.deprecationHandler!=null&&M.deprecationHandler(null,t),n){var s=[],r,i,o,a=arguments.length;for(i=0;i<a;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(o in arguments[0])Ae(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];s.push(r)}i_(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Dg={};function o_(t,e){M.deprecationHandler!=null&&M.deprecationHandler(t,e),Dg[t]||(i_(e),Dg[t]=!0)}M.suppressDeprecationWarnings=!1;M.deprecationHandler=null;function Pn(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function DA(t){var e,n;for(n in t)Ae(t,n)&&(e=t[n],Pn(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Xu(t,e){var n=vs({},t),s;for(s in e)Ae(e,s)&&(ar(t[s])&&ar(e[s])?(n[s]={},vs(n[s],t[s]),vs(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)Ae(t,s)&&!Ae(e,s)&&ar(t[s])&&(n[s]=vs({},n[s]));return n}function qd(t){t!=null&&this.set(t)}var Ju;Object.keys?Ju=Object.keys:Ju=function(t){var e,n=[];for(e in t)Ae(t,e)&&n.push(e);return n};var MA={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function RA(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return Pn(s)?s.call(e,n):s}function On(t,e,n){var s=""+Math.abs(t),r=e-s.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+s}var Kd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xc={},Wr={};function X(t,e,n,s){var r=s;typeof s=="string"&&(r=function(){return this[s]()}),t&&(Wr[t]=r),e&&(Wr[e[0]]=function(){return On(r.apply(this,arguments),e[1],e[2])}),n&&(Wr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function OA(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function NA(t){var e=t.match(Kd),n,s;for(n=0,s=e.length;n<s;n++)Wr[e[n]]?e[n]=Wr[e[n]]:e[n]=OA(e[n]);return function(r){var i="",o;for(o=0;o<s;o++)i+=Pn(e[o])?e[o].call(r,t):e[o];return i}}function Aa(t,e){return t.isValid()?(e=a_(e,t.localeData()),Xc[e]=Xc[e]||NA(e),Xc[e](t)):t.localeData().invalidDate()}function a_(t,e){var n=5;function s(r){return e.longDateFormat(r)||r}for(pa.lastIndex=0;n>=0&&pa.test(t);)t=t.replace(pa,s),pa.lastIndex=0,n-=1;return t}var PA={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function LA(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Kd).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var $A="Invalid date";function FA(){return this._invalidDate}var UA="%d",VA=/\d{1,2}/;function BA(t){return this._ordinal.replace("%d",t)}var jA={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function HA(t,e,n,s){var r=this._relativeTime[n];return Pn(r)?r(t,e,n,s):r.replace(/%d/i,t)}function YA(t,e){var n=this._relativeTime[t>0?"future":"past"];return Pn(n)?n(e):n.replace(/%s/i,e)}var Gi={};function Nt(t,e){var n=t.toLowerCase();Gi[n]=Gi[n+"s"]=Gi[e]=t}function hn(t){return typeof t=="string"?Gi[t]||Gi[t.toLowerCase()]:void 0}function Gd(t){var e={},n,s;for(s in t)Ae(t,s)&&(n=hn(s),n&&(e[n]=t[s]));return e}var l_={};function Pt(t,e){l_[t]=e}function WA(t){var e=[],n;for(n in t)Ae(t,n)&&e.push({unit:n,priority:l_[n]});return e.sort(function(s,r){return s.priority-r.priority}),e}function hc(t){return t%4===0&&t%100!==0||t%400===0}function on(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function we(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=on(e)),n}function wi(t,e){return function(n){return n!=null?(c_(this,t,n),M.updateOffset(this,e),this):dl(this,t)}}function dl(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function c_(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&hc(t.year())&&t.month()===1&&t.date()===29?(n=we(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),yc(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function zA(t){return t=hn(t),Pn(this[t])?this[t]():this}function qA(t,e){if(typeof t=="object"){t=Gd(t);var n=WA(t),s,r=n.length;for(s=0;s<r;s++)this[n[s].unit](t[n[s].unit])}else if(t=hn(t),Pn(this[t]))return this[t](e);return this}var u_=/\d/,nn=/\d\d/,h_=/\d{3}/,Qd=/\d{4}/,dc=/[+-]?\d{6}/,Qe=/\d\d?/,d_=/\d\d\d\d?/,f_=/\d\d\d\d\d\d?/,fc=/\d{1,3}/,Xd=/\d{1,4}/,pc=/[+-]?\d{1,6}/,bi=/\d+/,gc=/[+-]?\d+/,KA=/Z|[+-]\d\d:?\d\d/gi,mc=/Z|[+-]\d\d(?::?\d\d)?/gi,GA=/[+-]?\d+(\.\d{1,3})?/,ea=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fl;fl={};function V(t,e,n){fl[t]=Pn(e)?e:function(s,r){return s&&n?n:e}}function QA(t,e){return Ae(fl,t)?fl[t](e._strict,e._locale):new RegExp(XA(t))}function XA(t){return Xt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,r,i){return n||s||r||i}))}function Xt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Zu={};function $e(t,e){var n,s=e,r;for(typeof t=="string"&&(t=[t]),ns(e)&&(s=function(i,o){o[e]=we(i)}),r=t.length,n=0;n<r;n++)Zu[t[n]]=s}function ta(t,e){$e(t,function(n,s,r,i){r._w=r._w||{},e(n,r._w,r,i)})}function JA(t,e,n){e!=null&&Ae(Zu,t)&&Zu[t](e,n._a,n,t)}var Ot=0,zn=1,Tn=2,ct=3,fn=4,qn=5,tr=6,ZA=7,eD=8;function tD(t,e){return(t%e+e)%e}var rt;Array.prototype.indexOf?rt=Array.prototype.indexOf:rt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function yc(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=tD(e,12);return t+=(e-n)/12,n===1?hc(t)?29:28:31-n%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1});X("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});X("MMMM",0,0,function(t){return this.localeData().months(this,t)});Nt("month","M");Pt("month",8);V("M",Qe);V("MM",Qe,nn);V("MMM",function(t,e){return e.monthsShortRegex(t)});V("MMMM",function(t,e){return e.monthsRegex(t)});$e(["M","MM"],function(t,e){e[zn]=we(t)-1});$e(["MMM","MMMM"],function(t,e,n,s){var r=n._locale.monthsParse(t,s,n._strict);r!=null?e[zn]=r:ge(n).invalidMonth=t});var nD="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),p_="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),g_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,sD=ea,rD=ea;function iD(t,e){return t?vn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||g_).test(e)?"format":"standalone"][t.month()]:vn(this._months)?this._months:this._months.standalone}function oD(t,e){return t?vn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[g_.test(e)?"format":"standalone"][t.month()]:vn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function aD(t,e,n){var s,r,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)i=Nn([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(r=rt.call(this._shortMonthsParse,o),r!==-1?r:null):(r=rt.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=rt.call(this._shortMonthsParse,o),r!==-1?r:(r=rt.call(this._longMonthsParse,o),r!==-1?r:null)):(r=rt.call(this._longMonthsParse,o),r!==-1?r:(r=rt.call(this._shortMonthsParse,o),r!==-1?r:null))}function lD(t,e,n){var s,r,i;if(this._monthsParseExact)return aD.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(r=Nn([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function m_(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=we(e);else if(e=t.localeData().monthsParse(e),!ns(e))return t}return n=Math.min(t.date(),yc(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function y_(t){return t!=null?(m_(this,t),M.updateOffset(this,!0),this):dl(this,"Month")}function cD(){return yc(this.year(),this.month())}function uD(t){return this._monthsParseExact?(Ae(this,"_monthsRegex")||v_.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ae(this,"_monthsShortRegex")||(this._monthsShortRegex=sD),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function hD(t){return this._monthsParseExact?(Ae(this,"_monthsRegex")||v_.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ae(this,"_monthsRegex")||(this._monthsRegex=rD),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function v_(){function t(o,a){return a.length-o.length}var e=[],n=[],s=[],r,i;for(r=0;r<12;r++)i=Nn([2e3,r]),e.push(this.monthsShort(i,"")),n.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(e.sort(t),n.sort(t),s.sort(t),r=0;r<12;r++)e[r]=Xt(e[r]),n[r]=Xt(n[r]);for(r=0;r<24;r++)s[r]=Xt(s[r]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}X("Y",0,0,function(){var t=this.year();return t<=9999?On(t,4):"+"+t});X(0,["YY",2],0,function(){return this.year()%100});X(0,["YYYY",4],0,"year");X(0,["YYYYY",5],0,"year");X(0,["YYYYYY",6,!0],0,"year");Nt("year","y");Pt("year",1);V("Y",gc);V("YY",Qe,nn);V("YYYY",Xd,Qd);V("YYYYY",pc,dc);V("YYYYYY",pc,dc);$e(["YYYYY","YYYYYY"],Ot);$e("YYYY",function(t,e){e[Ot]=t.length===2?M.parseTwoDigitYear(t):we(t)});$e("YY",function(t,e){e[Ot]=M.parseTwoDigitYear(t)});$e("Y",function(t,e){e[Ot]=parseInt(t,10)});function Qi(t){return hc(t)?366:365}M.parseTwoDigitYear=function(t){return we(t)+(we(t)>68?1900:2e3)};var __=wi("FullYear",!0);function dD(){return hc(this.year())}function fD(t,e,n,s,r,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,s,r,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,s,r,i,o),a}function bo(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function pl(t,e,n){var s=7+e-n,r=(7+bo(t,0,s).getUTCDay()-e)%7;return-r+s-1}function w_(t,e,n,s,r){var i=(7+n-s)%7,o=pl(t,s,r),a=1+7*(e-1)+i+o,l,c;return a<=0?(l=t-1,c=Qi(l)+a):a>Qi(t)?(l=t+1,c=a-Qi(t)):(l=t,c=a),{year:l,dayOfYear:c}}function Eo(t,e,n){var s=pl(t.year(),e,n),r=Math.floor((t.dayOfYear()-s-1)/7)+1,i,o;return r<1?(o=t.year()-1,i=r+Qn(o,e,n)):r>Qn(t.year(),e,n)?(i=r-Qn(t.year(),e,n),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function Qn(t,e,n){var s=pl(t,e,n),r=pl(t+1,e,n);return(Qi(t)-s+r)/7}X("w",["ww",2],"wo","week");X("W",["WW",2],"Wo","isoWeek");Nt("week","w");Nt("isoWeek","W");Pt("week",5);Pt("isoWeek",5);V("w",Qe);V("ww",Qe,nn);V("W",Qe);V("WW",Qe,nn);ta(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=we(t)});function pD(t){return Eo(t,this._week.dow,this._week.doy).week}var gD={dow:0,doy:6};function mD(){return this._week.dow}function yD(){return this._week.doy}function vD(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function _D(t){var e=Eo(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}X("d",0,"do","day");X("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});X("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});X("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});X("e",0,0,"weekday");X("E",0,0,"isoWeekday");Nt("day","d");Nt("weekday","e");Nt("isoWeekday","E");Pt("day",11);Pt("weekday",11);Pt("isoWeekday",11);V("d",Qe);V("e",Qe);V("E",Qe);V("dd",function(t,e){return e.weekdaysMinRegex(t)});V("ddd",function(t,e){return e.weekdaysShortRegex(t)});V("dddd",function(t,e){return e.weekdaysRegex(t)});ta(["dd","ddd","dddd"],function(t,e,n,s){var r=n._locale.weekdaysParse(t,s,n._strict);r!=null?e.d=r:ge(n).invalidWeekday=t});ta(["d","e","E"],function(t,e,n,s){e[s]=we(t)});function wD(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function bD(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Jd(t,e){return t.slice(e,7).concat(t.slice(0,e))}var ED="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),b_="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xD="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ID=ea,TD=ea,SD=ea;function kD(t,e){var n=vn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Jd(n,this._week.dow):t?n[t.day()]:n}function CD(t){return t===!0?Jd(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function AD(t){return t===!0?Jd(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function DD(t,e,n){var s,r,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)i=Nn([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(r=rt.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=rt.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=rt.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=rt.call(this._weekdaysParse,o),r!==-1||(r=rt.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=rt.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=rt.call(this._shortWeekdaysParse,o),r!==-1||(r=rt.call(this._weekdaysParse,o),r!==-1)?r:(r=rt.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=rt.call(this._minWeekdaysParse,o),r!==-1||(r=rt.call(this._weekdaysParse,o),r!==-1)?r:(r=rt.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function MD(t,e,n){var s,r,i;if(this._weekdaysParseExact)return DD.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(r=Nn([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function RD(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=wD(t,this.localeData()),this.add(t-e,"d")):e}function OD(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function ND(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=bD(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function PD(t){return this._weekdaysParseExact?(Ae(this,"_weekdaysRegex")||Zd.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ae(this,"_weekdaysRegex")||(this._weekdaysRegex=ID),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function LD(t){return this._weekdaysParseExact?(Ae(this,"_weekdaysRegex")||Zd.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ae(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=TD),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function $D(t){return this._weekdaysParseExact?(Ae(this,"_weekdaysRegex")||Zd.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ae(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=SD),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zd(){function t(u,h){return h.length-u.length}var e=[],n=[],s=[],r=[],i,o,a,l,c;for(i=0;i<7;i++)o=Nn([2e3,1]).day(i),a=Xt(this.weekdaysMin(o,"")),l=Xt(this.weekdaysShort(o,"")),c=Xt(this.weekdays(o,"")),e.push(a),n.push(l),s.push(c),r.push(a),r.push(l),r.push(c);e.sort(t),n.sort(t),s.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ef(){return this.hours()%12||12}function FD(){return this.hours()||24}X("H",["HH",2],0,"hour");X("h",["hh",2],0,ef);X("k",["kk",2],0,FD);X("hmm",0,0,function(){return""+ef.apply(this)+On(this.minutes(),2)});X("hmmss",0,0,function(){return""+ef.apply(this)+On(this.minutes(),2)+On(this.seconds(),2)});X("Hmm",0,0,function(){return""+this.hours()+On(this.minutes(),2)});X("Hmmss",0,0,function(){return""+this.hours()+On(this.minutes(),2)+On(this.seconds(),2)});function E_(t,e){X(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}E_("a",!0);E_("A",!1);Nt("hour","h");Pt("hour",13);function x_(t,e){return e._meridiemParse}V("a",x_);V("A",x_);V("H",Qe);V("h",Qe);V("k",Qe);V("HH",Qe,nn);V("hh",Qe,nn);V("kk",Qe,nn);V("hmm",d_);V("hmmss",f_);V("Hmm",d_);V("Hmmss",f_);$e(["H","HH"],ct);$e(["k","kk"],function(t,e,n){var s=we(t);e[ct]=s===24?0:s});$e(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});$e(["h","hh"],function(t,e,n){e[ct]=we(t),ge(n).bigHour=!0});$e("hmm",function(t,e,n){var s=t.length-2;e[ct]=we(t.substr(0,s)),e[fn]=we(t.substr(s)),ge(n).bigHour=!0});$e("hmmss",function(t,e,n){var s=t.length-4,r=t.length-2;e[ct]=we(t.substr(0,s)),e[fn]=we(t.substr(s,2)),e[qn]=we(t.substr(r)),ge(n).bigHour=!0});$e("Hmm",function(t,e,n){var s=t.length-2;e[ct]=we(t.substr(0,s)),e[fn]=we(t.substr(s))});$e("Hmmss",function(t,e,n){var s=t.length-4,r=t.length-2;e[ct]=we(t.substr(0,s)),e[fn]=we(t.substr(s,2)),e[qn]=we(t.substr(r))});function UD(t){return(t+"").toLowerCase().charAt(0)==="p"}var VD=/[ap]\.?m?\.?/i,BD=wi("Hours",!0);function jD(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var I_={calendar:MA,longDateFormat:PA,invalidDate:$A,ordinal:UA,dayOfMonthOrdinalParse:VA,relativeTime:jA,months:nD,monthsShort:p_,week:gD,weekdays:ED,weekdaysMin:xD,weekdaysShort:b_,meridiemParse:VD},Je={},Ci={},xo;function HD(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function Mg(t){return t&&t.toLowerCase().replace("_","-")}function YD(t){for(var e=0,n,s,r,i;e<t.length;){for(i=Mg(t[e]).split("-"),n=i.length,s=Mg(t[e+1]),s=s?s.split("-"):null;n>0;){if(r=vc(i.slice(0,n).join("-")),r)return r;if(s&&s.length>=n&&HD(i,s)>=n-1)break;n--}e++}return xo}function WD(t){return t.match("^[^/\\\\]*$")!=null}function vc(t){var e=null,n;if(Je[t]===void 0&&typeof Ra<"u"&&Ra&&Ra.exports&&WD(t))try{e=xo._abbr,n=require,n("./locale/"+t),Ss(e)}catch{Je[t]=null}return Je[t]}function Ss(t,e){var n;return t&&(Wt(e)?n=is(t):n=tf(t,e),n?xo=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),xo._abbr}function tf(t,e){if(e!==null){var n,s=I_;if(e.abbr=t,Je[t]!=null)o_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Je[t]._config;else if(e.parentLocale!=null)if(Je[e.parentLocale]!=null)s=Je[e.parentLocale]._config;else if(n=vc(e.parentLocale),n!=null)s=n._config;else return Ci[e.parentLocale]||(Ci[e.parentLocale]=[]),Ci[e.parentLocale].push({name:t,config:e}),null;return Je[t]=new qd(Xu(s,e)),Ci[t]&&Ci[t].forEach(function(r){tf(r.name,r.config)}),Ss(t),Je[t]}else return delete Je[t],null}function zD(t,e){if(e!=null){var n,s,r=I_;Je[t]!=null&&Je[t].parentLocale!=null?Je[t].set(Xu(Je[t]._config,e)):(s=vc(t),s!=null&&(r=s._config),e=Xu(r,e),s==null&&(e.abbr=t),n=new qd(e),n.parentLocale=Je[t],Je[t]=n),Ss(t)}else Je[t]!=null&&(Je[t].parentLocale!=null?(Je[t]=Je[t].parentLocale,t===Ss()&&Ss(t)):Je[t]!=null&&delete Je[t]);return Je[t]}function is(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return xo;if(!vn(t)){if(e=vc(t),e)return e;t=[t]}return YD(t)}function qD(){return Ju(Je)}function nf(t){var e,n=t._a;return n&&ge(t).overflow===-2&&(e=n[zn]<0||n[zn]>11?zn:n[Tn]<1||n[Tn]>yc(n[Ot],n[zn])?Tn:n[ct]<0||n[ct]>24||n[ct]===24&&(n[fn]!==0||n[qn]!==0||n[tr]!==0)?ct:n[fn]<0||n[fn]>59?fn:n[qn]<0||n[qn]>59?qn:n[tr]<0||n[tr]>999?tr:-1,ge(t)._overflowDayOfYear&&(e<Ot||e>Tn)&&(e=Tn),ge(t)._overflowWeeks&&e===-1&&(e=ZA),ge(t)._overflowWeekday&&e===-1&&(e=eD),ge(t).overflow=e),t}var KD=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,GD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,QD=/Z|[+-]\d\d(?::?\d\d)?/,ga=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Jc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],XD=/^\/?Date\((-?\d+)/i,JD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ZD={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function T_(t){var e,n,s=t._i,r=KD.exec(s)||GD.exec(s),i,o,a,l,c=ga.length,u=Jc.length;if(r){for(ge(t).iso=!0,e=0,n=c;e<n;e++)if(ga[e][1].exec(r[1])){o=ga[e][0],i=ga[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(r[3]){for(e=0,n=u;e<n;e++)if(Jc[e][1].exec(r[3])){a=(r[2]||" ")+Jc[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(r[4])if(QD.exec(r[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),rf(t)}else t._isValid=!1}function eM(t,e,n,s,r,i){var o=[tM(t),p_.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function tM(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function nM(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sM(t,e,n){if(t){var s=b_.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(s!==r)return ge(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function rM(t,e,n){if(t)return ZD[t];if(e)return 0;var s=parseInt(n,10),r=s%100,i=(s-r)/100;return i*60+r}function S_(t){var e=JD.exec(nM(t._i)),n;if(e){if(n=eM(e[4],e[3],e[2],e[5],e[6],e[7]),!sM(e[1],n,t))return;t._a=n,t._tzm=rM(e[8],e[9],e[10]),t._d=bo.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ge(t).rfc2822=!0}else t._isValid=!1}function iM(t){var e=XD.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(T_(t),t._isValid===!1)delete t._isValid;else return;if(S_(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:M.createFromInputFallback(t)}M.createFromInputFallback=un("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Nr(t,e,n){return t!=null?t:e!=null?e:n}function oM(t){var e=new Date(M.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function sf(t){var e,n,s=[],r,i,o;if(!t._d){for(r=oM(t),t._w&&t._a[Tn]==null&&t._a[zn]==null&&aM(t),t._dayOfYear!=null&&(o=Nr(t._a[Ot],r[Ot]),(t._dayOfYear>Qi(o)||t._dayOfYear===0)&&(ge(t)._overflowDayOfYear=!0),n=bo(o,0,t._dayOfYear),t._a[zn]=n.getUTCMonth(),t._a[Tn]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[ct]===24&&t._a[fn]===0&&t._a[qn]===0&&t._a[tr]===0&&(t._nextDay=!0,t._a[ct]=0),t._d=(t._useUTC?bo:fD).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ct]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(ge(t).weekdayMismatch=!0)}}function aM(t){var e,n,s,r,i,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,n=Nr(e.GG,t._a[Ot],Eo(Ge(),1,4).year),s=Nr(e.W,1),r=Nr(e.E,1),(r<1||r>7)&&(l=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,c=Eo(Ge(),i,o),n=Nr(e.gg,t._a[Ot],c.year),s=Nr(e.w,c.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+i,(e.e<0||e.e>6)&&(l=!0)):r=i),s<1||s>Qn(n,i,o)?ge(t)._overflowWeeks=!0:l!=null?ge(t)._overflowWeekday=!0:(a=w_(n,s,r,i,o),t._a[Ot]=a.year,t._dayOfYear=a.dayOfYear)}M.ISO_8601=function(){};M.RFC_2822=function(){};function rf(t){if(t._f===M.ISO_8601){T_(t);return}if(t._f===M.RFC_2822){S_(t);return}t._a=[],ge(t).empty=!0;var e=""+t._i,n,s,r,i,o,a=e.length,l=0,c,u;for(r=a_(t._f,t._locale).match(Kd)||[],u=r.length,n=0;n<u;n++)i=r[n],s=(e.match(QA(i,t))||[])[0],s&&(o=e.substr(0,e.indexOf(s)),o.length>0&&ge(t).unusedInput.push(o),e=e.slice(e.indexOf(s)+s.length),l+=s.length),Wr[i]?(s?ge(t).empty=!1:ge(t).unusedTokens.push(i),JA(i,s,t)):t._strict&&!s&&ge(t).unusedTokens.push(i);ge(t).charsLeftOver=a-l,e.length>0&&ge(t).unusedInput.push(e),t._a[ct]<=12&&ge(t).bigHour===!0&&t._a[ct]>0&&(ge(t).bigHour=void 0),ge(t).parsedDateParts=t._a.slice(0),ge(t).meridiem=t._meridiem,t._a[ct]=lM(t._locale,t._a[ct],t._meridiem),c=ge(t).era,c!==null&&(t._a[Ot]=t._locale.erasConvertYear(c,t._a[Ot])),sf(t),nf(t)}function lM(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function cM(t){var e,n,s,r,i,o,a=!1,l=t._f.length;if(l===0){ge(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<l;r++)i=0,o=!1,e=zd({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],rf(e),Wd(e)&&(o=!0),i+=ge(e).charsLeftOver,i+=ge(e).unusedTokens.length*10,ge(e).score=i,a?i<s&&(s=i,n=e):(s==null||i<s||o)&&(s=i,n=e,o&&(a=!0));vs(t,n||e)}function uM(t){if(!t._d){var e=Gd(t._i),n=e.day===void 0?e.date:e.day;t._a=r_([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),sf(t)}}function hM(t){var e=new Zo(nf(k_(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function k_(t){var e=t._i,n=t._f;return t._locale=t._locale||is(t._l),e===null||n===void 0&&e===""?uc({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),_n(e)?new Zo(nf(e)):(Jo(e)?t._d=e:vn(n)?cM(t):n?rf(t):dM(t),Wd(t)||(t._d=null),t))}function dM(t){var e=t._i;Wt(e)?t._d=new Date(M.now()):Jo(e)?t._d=new Date(e.valueOf()):typeof e=="string"?iM(t):vn(e)?(t._a=r_(e.slice(0),function(n){return parseInt(n,10)}),sf(t)):ar(e)?uM(t):ns(e)?t._d=new Date(e):M.createFromInputFallback(t)}function C_(t,e,n,s,r){var i={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(ar(t)&&Yd(t)||vn(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=n,i._i=t,i._f=e,i._strict=s,hM(i)}function Ge(t,e,n,s){return C_(t,e,n,s,!1)}var fM=un("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ge.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:uc()}),pM=un("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ge.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:uc()});function A_(t,e){var n,s;if(e.length===1&&vn(e[0])&&(e=e[0]),!e.length)return Ge();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function gM(){var t=[].slice.call(arguments,0);return A_("isBefore",t)}function mM(){var t=[].slice.call(arguments,0);return A_("isAfter",t)}var yM=function(){return Date.now?Date.now():+new Date},Ai=["year","quarter","month","week","day","hour","minute","second","millisecond"];function vM(t){var e,n=!1,s,r=Ai.length;for(e in t)if(Ae(t,e)&&!(rt.call(Ai,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<r;++s)if(t[Ai[s]]){if(n)return!1;parseFloat(t[Ai[s]])!==we(t[Ai[s]])&&(n=!0)}return!0}function _M(){return this._isValid}function wM(){return wn(NaN)}function _c(t){var e=Gd(t),n=e.year||0,s=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=vM(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+r+s*3+n*12,this._data={},this._locale=is(),this._bubble()}function Da(t){return t instanceof _c}function eh(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function bM(t,e,n){var s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),i=0,o;for(o=0;o<s;o++)(n&&t[o]!==e[o]||!n&&we(t[o])!==we(e[o]))&&i++;return i+r}function D_(t,e){X(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+On(~~(n/60),2)+e+On(~~n%60,2)})}D_("Z",":");D_("ZZ","");V("Z",mc);V("ZZ",mc);$e(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=of(mc,t)});var EM=/([\+\-]|\d\d)/gi;function of(t,e){var n=(e||"").match(t),s,r,i;return n===null?null:(s=n[n.length-1]||[],r=(s+"").match(EM)||["-",0,0],i=+(r[1]*60)+we(r[2]),i===0?0:r[0]==="+"?i:-i)}function af(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(_n(t)||Jo(t)?t.valueOf():Ge(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),M.updateOffset(n,!1),n):Ge(t).local()}function th(t){return-Math.round(t._d.getTimezoneOffset())}M.updateOffset=function(){};function xM(t,e,n){var s=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=of(mc,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(r=th(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),s!==t&&(!e||this._changeInProgress?O_(this,wn(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,M.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:th(this)}function IM(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function TM(t){return this.utcOffset(0,t)}function SM(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(th(this),"m")),this}function kM(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=of(KA,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function CM(t){return this.isValid()?(t=t?Ge(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function AM(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function DM(){if(!Wt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return zd(t,this),t=k_(t),t._a?(e=t._isUTC?Nn(t._a):Ge(t._a),this._isDSTShifted=this.isValid()&&bM(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function MM(){return this.isValid()?!this._isUTC:!1}function RM(){return this.isValid()?this._isUTC:!1}function M_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var OM=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,NM=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function wn(t,e){var n=t,s=null,r,i,o;return Da(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ns(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=OM.exec(t))?(r=s[1]==="-"?-1:1,n={y:0,d:we(s[Tn])*r,h:we(s[ct])*r,m:we(s[fn])*r,s:we(s[qn])*r,ms:we(eh(s[tr]*1e3))*r}):(s=NM.exec(t))?(r=s[1]==="-"?-1:1,n={y:Hs(s[2],r),M:Hs(s[3],r),w:Hs(s[4],r),d:Hs(s[5],r),h:Hs(s[6],r),m:Hs(s[7],r),s:Hs(s[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=PM(Ge(n.from),Ge(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new _c(n),Da(t)&&Ae(t,"_locale")&&(i._locale=t._locale),Da(t)&&Ae(t,"_isValid")&&(i._isValid=t._isValid),i}wn.fn=_c.prototype;wn.invalid=wM;function Hs(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Rg(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function PM(t,e){var n;return t.isValid()&&e.isValid()?(e=af(e,t),t.isBefore(e)?n=Rg(t,e):(n=Rg(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function R_(t,e){return function(n,s){var r,i;return s!==null&&!isNaN(+s)&&(o_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=s,s=i),r=wn(n,s),O_(this,r,t),this}}function O_(t,e,n,s){var r=e._milliseconds,i=eh(e._days),o=eh(e._months);!t.isValid()||(s=s==null?!0:s,o&&m_(t,dl(t,"Month")+o*n),i&&c_(t,"Date",dl(t,"Date")+i*n),r&&t._d.setTime(t._d.valueOf()+r*n),s&&M.updateOffset(t,i||o))}var LM=R_(1,"add"),$M=R_(-1,"subtract");function N_(t){return typeof t=="string"||t instanceof String}function FM(t){return _n(t)||Jo(t)||N_(t)||ns(t)||VM(t)||UM(t)||t===null||t===void 0}function UM(t){var e=ar(t)&&!Yd(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,o=s.length;for(r=0;r<o;r+=1)i=s[r],n=n||Ae(t,i);return e&&n}function VM(t){var e=vn(t),n=!1;return e&&(n=t.filter(function(s){return!ns(s)&&N_(t)}).length===0),e&&n}function BM(t){var e=ar(t)&&!Yd(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<s.length;r+=1)i=s[r],n=n||Ae(t,i);return e&&n}function jM(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function HM(t,e){arguments.length===1&&(arguments[0]?FM(arguments[0])?(t=arguments[0],e=void 0):BM(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ge(),s=af(n,this).startOf("day"),r=M.calendarFormat(this,s)||"sameElse",i=e&&(Pn(e[r])?e[r].call(this,n):e[r]);return this.format(i||this.localeData().calendar(r,this,Ge(n)))}function YM(){return new Zo(this)}function WM(t,e){var n=_n(t)?t:Ge(t);return this.isValid()&&n.isValid()?(e=hn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function zM(t,e){var n=_n(t)?t:Ge(t);return this.isValid()&&n.isValid()?(e=hn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function qM(t,e,n,s){var r=_n(t)?t:Ge(t),i=_n(e)?e:Ge(e);return this.isValid()&&r.isValid()&&i.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(s[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function KM(t,e){var n=_n(t)?t:Ge(t),s;return this.isValid()&&n.isValid()?(e=hn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function GM(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function QM(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function XM(t,e,n){var s,r,i;if(!this.isValid())return NaN;if(s=af(t,this),!s.isValid())return NaN;switch(r=(s.utcOffset()-this.utcOffset())*6e4,e=hn(e),e){case"year":i=Ma(this,s)/12;break;case"month":i=Ma(this,s);break;case"quarter":i=Ma(this,s)/3;break;case"second":i=(this-s)/1e3;break;case"minute":i=(this-s)/6e4;break;case"hour":i=(this-s)/36e5;break;case"day":i=(this-s-r)/864e5;break;case"week":i=(this-s-r)/6048e5;break;default:i=this-s}return n?i:on(i)}function Ma(t,e){if(t.date()<e.date())return-Ma(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),r,i;return e-s<0?(r=t.clone().add(n-1,"months"),i=(e-s)/(s-r)):(r=t.clone().add(n+1,"months"),i=(e-s)/(r-s)),-(n+i)||0}M.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";M.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function JM(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ZM(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Aa(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Pn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Aa(n,"Z")):Aa(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eR(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,r,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+s+r+i)}function tR(t){t||(t=this.isUtc()?M.defaultFormatUtc:M.defaultFormat);var e=Aa(this,t);return this.localeData().postformat(e)}function nR(t,e){return this.isValid()&&(_n(t)&&t.isValid()||Ge(t).isValid())?wn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sR(t){return this.from(Ge(),t)}function rR(t,e){return this.isValid()&&(_n(t)&&t.isValid()||Ge(t).isValid())?wn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function iR(t){return this.to(Ge(),t)}function P_(t){var e;return t===void 0?this._locale._abbr:(e=is(t),e!=null&&(this._locale=e),this)}var L_=un("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function $_(){return this._locale}var gl=1e3,zr=60*gl,ml=60*zr,F_=(365*400+97)*24*ml;function qr(t,e){return(t%e+e)%e}function U_(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-F_:new Date(t,e,n).valueOf()}function V_(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-F_:Date.UTC(t,e,n)}function oR(t){var e,n;if(t=hn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?V_:U_,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=qr(e+(this._isUTC?0:this.utcOffset()*zr),ml);break;case"minute":e=this._d.valueOf(),e-=qr(e,zr);break;case"second":e=this._d.valueOf(),e-=qr(e,gl);break}return this._d.setTime(e),M.updateOffset(this,!0),this}function aR(t){var e,n;if(t=hn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?V_:U_,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ml-qr(e+(this._isUTC?0:this.utcOffset()*zr),ml)-1;break;case"minute":e=this._d.valueOf(),e+=zr-qr(e,zr)-1;break;case"second":e=this._d.valueOf(),e+=gl-qr(e,gl)-1;break}return this._d.setTime(e),M.updateOffset(this,!0),this}function lR(){return this._d.valueOf()-(this._offset||0)*6e4}function cR(){return Math.floor(this.valueOf()/1e3)}function uR(){return new Date(this.valueOf())}function hR(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function dR(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function fR(){return this.isValid()?this.toISOString():null}function pR(){return Wd(this)}function gR(){return vs({},ge(this))}function mR(){return ge(this).overflow}function yR(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr");X("NN",0,0,"eraAbbr");X("NNN",0,0,"eraAbbr");X("NNNN",0,0,"eraName");X("NNNNN",0,0,"eraNarrow");X("y",["y",1],"yo","eraYear");X("y",["yy",2],0,"eraYear");X("y",["yyy",3],0,"eraYear");X("y",["yyyy",4],0,"eraYear");V("N",lf);V("NN",lf);V("NNN",lf);V("NNNN",CR);V("NNNNN",AR);$e(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var r=n._locale.erasParse(t,s,n._strict);r?ge(n).era=r:ge(n).invalidEra=t});V("y",bi);V("yy",bi);V("yyy",bi);V("yyyy",bi);V("yo",DR);$e(["y","yy","yyy","yyyy"],Ot);$e(["yo"],function(t,e,n,s){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ot]=n._locale.eraYearOrdinalParse(t,r):e[Ot]=parseInt(t,10)});function vR(t,e){var n,s,r,i=this._eras||is("en")._eras;for(n=0,s=i.length;n<s;++n){switch(typeof i[n].since){case"string":r=M(i[n].since).startOf("day"),i[n].since=r.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":r=M(i[n].until).startOf("day").valueOf(),i[n].until=r.valueOf();break}}return i}function _R(t,e,n){var s,r,i=this.eras(),o,a,l;for(t=t.toUpperCase(),s=0,r=i.length;s<r;++s)if(o=i[s].name.toUpperCase(),a=i[s].abbr.toUpperCase(),l=i[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[s];break;case"NNNN":if(o===t)return i[s];break;case"NNNNN":if(l===t)return i[s];break}else if([o,a,l].indexOf(t)>=0)return i[s]}function wR(t,e){var n=t.since<=t.until?1:-1;return e===void 0?M(t.since).year():M(t.since).year()+(e-t.offset)*n}function bR(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function ER(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function xR(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function IR(){var t,e,n,s,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=r[t].since<=r[t].until?1:-1,s=this.clone().startOf("day").valueOf(),r[t].since<=s&&s<=r[t].until||r[t].until<=s&&s<=r[t].since)return(this.year()-M(r[t].since).year())*n+r[t].offset;return this.year()}function TR(t){return Ae(this,"_erasNameRegex")||cf.call(this),t?this._erasNameRegex:this._erasRegex}function SR(t){return Ae(this,"_erasAbbrRegex")||cf.call(this),t?this._erasAbbrRegex:this._erasRegex}function kR(t){return Ae(this,"_erasNarrowRegex")||cf.call(this),t?this._erasNarrowRegex:this._erasRegex}function lf(t,e){return e.erasAbbrRegex(t)}function CR(t,e){return e.erasNameRegex(t)}function AR(t,e){return e.erasNarrowRegex(t)}function DR(t,e){return e._eraYearOrdinalRegex||bi}function cf(){var t=[],e=[],n=[],s=[],r,i,o=this.eras();for(r=0,i=o.length;r<i;++r)e.push(Xt(o[r].name)),t.push(Xt(o[r].abbr)),n.push(Xt(o[r].narrow)),s.push(Xt(o[r].name)),s.push(Xt(o[r].abbr)),s.push(Xt(o[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100});X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wc(t,e){X(0,[t,t.length],0,e)}wc("gggg","weekYear");wc("ggggg","weekYear");wc("GGGG","isoWeekYear");wc("GGGGG","isoWeekYear");Nt("weekYear","gg");Nt("isoWeekYear","GG");Pt("weekYear",1);Pt("isoWeekYear",1);V("G",gc);V("g",gc);V("GG",Qe,nn);V("gg",Qe,nn);V("GGGG",Xd,Qd);V("gggg",Xd,Qd);V("GGGGG",pc,dc);V("ggggg",pc,dc);ta(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=we(t)});ta(["gg","GG"],function(t,e,n,s){e[s]=M.parseTwoDigitYear(t)});function MR(t){return B_.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function RR(t){return B_.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function OR(){return Qn(this.year(),1,4)}function NR(){return Qn(this.isoWeekYear(),1,4)}function PR(){var t=this.localeData()._week;return Qn(this.year(),t.dow,t.doy)}function LR(){var t=this.localeData()._week;return Qn(this.weekYear(),t.dow,t.doy)}function B_(t,e,n,s,r){var i;return t==null?Eo(this,s,r).year:(i=Qn(t,s,r),e>i&&(e=i),$R.call(this,t,e,n,s,r))}function $R(t,e,n,s,r){var i=w_(t,e,n,s,r),o=bo(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}X("Q",0,"Qo","quarter");Nt("quarter","Q");Pt("quarter",7);V("Q",u_);$e("Q",function(t,e){e[zn]=(we(t)-1)*3});function FR(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}X("D",["DD",2],"Do","date");Nt("date","D");Pt("date",9);V("D",Qe);V("DD",Qe,nn);V("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});$e(["D","DD"],Tn);$e("Do",function(t,e){e[Tn]=we(t.match(Qe)[0])});var j_=wi("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear");Nt("dayOfYear","DDD");Pt("dayOfYear",4);V("DDD",fc);V("DDDD",h_);$e(["DDD","DDDD"],function(t,e,n){n._dayOfYear=we(t)});function UR(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}X("m",["mm",2],0,"minute");Nt("minute","m");Pt("minute",14);V("m",Qe);V("mm",Qe,nn);$e(["m","mm"],fn);var VR=wi("Minutes",!1);X("s",["ss",2],0,"second");Nt("second","s");Pt("second",15);V("s",Qe);V("ss",Qe,nn);$e(["s","ss"],qn);var BR=wi("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)});X(0,["SS",2],0,function(){return~~(this.millisecond()/10)});X(0,["SSS",3],0,"millisecond");X(0,["SSSS",4],0,function(){return this.millisecond()*10});X(0,["SSSSS",5],0,function(){return this.millisecond()*100});X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Nt("millisecond","ms");Pt("millisecond",16);V("S",fc,u_);V("SS",fc,nn);V("SSS",fc,h_);var _s,H_;for(_s="SSSS";_s.length<=9;_s+="S")V(_s,bi);function jR(t,e){e[tr]=we(("0."+t)*1e3)}for(_s="S";_s.length<=9;_s+="S")$e(_s,jR);H_=wi("Milliseconds",!1);X("z",0,0,"zoneAbbr");X("zz",0,0,"zoneName");function HR(){return this._isUTC?"UTC":""}function YR(){return this._isUTC?"Coordinated Universal Time":""}var C=Zo.prototype;C.add=LM;C.calendar=HM;C.clone=YM;C.diff=XM;C.endOf=aR;C.format=tR;C.from=nR;C.fromNow=sR;C.to=rR;C.toNow=iR;C.get=zA;C.invalidAt=mR;C.isAfter=WM;C.isBefore=zM;C.isBetween=qM;C.isSame=KM;C.isSameOrAfter=GM;C.isSameOrBefore=QM;C.isValid=pR;C.lang=L_;C.locale=P_;C.localeData=$_;C.max=pM;C.min=fM;C.parsingFlags=gR;C.set=qA;C.startOf=oR;C.subtract=$M;C.toArray=hR;C.toObject=dR;C.toDate=uR;C.toISOString=ZM;C.inspect=eR;typeof Symbol<"u"&&Symbol.for!=null&&(C[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});C.toJSON=fR;C.toString=JM;C.unix=cR;C.valueOf=lR;C.creationData=yR;C.eraName=bR;C.eraNarrow=ER;C.eraAbbr=xR;C.eraYear=IR;C.year=__;C.isLeapYear=dD;C.weekYear=MR;C.isoWeekYear=RR;C.quarter=C.quarters=FR;C.month=y_;C.daysInMonth=cD;C.week=C.weeks=vD;C.isoWeek=C.isoWeeks=_D;C.weeksInYear=PR;C.weeksInWeekYear=LR;C.isoWeeksInYear=OR;C.isoWeeksInISOWeekYear=NR;C.date=j_;C.day=C.days=RD;C.weekday=OD;C.isoWeekday=ND;C.dayOfYear=UR;C.hour=C.hours=BD;C.minute=C.minutes=VR;C.second=C.seconds=BR;C.millisecond=C.milliseconds=H_;C.utcOffset=xM;C.utc=TM;C.local=SM;C.parseZone=kM;C.hasAlignedHourOffset=CM;C.isDST=AM;C.isLocal=MM;C.isUtcOffset=RM;C.isUtc=M_;C.isUTC=M_;C.zoneAbbr=HR;C.zoneName=YR;C.dates=un("dates accessor is deprecated. Use date instead.",j_);C.months=un("months accessor is deprecated. Use month instead",y_);C.years=un("years accessor is deprecated. Use year instead",__);C.zone=un("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",IM);C.isDSTShifted=un("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",DM);function WR(t){return Ge(t*1e3)}function zR(){return Ge.apply(null,arguments).parseZone()}function Y_(t){return t}var De=qd.prototype;De.calendar=RA;De.longDateFormat=LA;De.invalidDate=FA;De.ordinal=BA;De.preparse=Y_;De.postformat=Y_;De.relativeTime=HA;De.pastFuture=YA;De.set=DA;De.eras=vR;De.erasParse=_R;De.erasConvertYear=wR;De.erasAbbrRegex=SR;De.erasNameRegex=TR;De.erasNarrowRegex=kR;De.months=iD;De.monthsShort=oD;De.monthsParse=lD;De.monthsRegex=hD;De.monthsShortRegex=uD;De.week=pD;De.firstDayOfYear=yD;De.firstDayOfWeek=mD;De.weekdays=kD;De.weekdaysMin=AD;De.weekdaysShort=CD;De.weekdaysParse=MD;De.weekdaysRegex=PD;De.weekdaysShortRegex=LD;De.weekdaysMinRegex=$D;De.isPM=UD;De.meridiem=jD;function yl(t,e,n,s){var r=is(),i=Nn().set(s,e);return r[n](i,t)}function W_(t,e,n){if(ns(t)&&(e=t,t=void 0),t=t||"",e!=null)return yl(t,e,n,"month");var s,r=[];for(s=0;s<12;s++)r[s]=yl(t,s,n,"month");return r}function uf(t,e,n,s){typeof t=="boolean"?(ns(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ns(e)&&(n=e,e=void 0),e=e||"");var r=is(),i=t?r._week.dow:0,o,a=[];if(n!=null)return yl(e,(n+i)%7,s,"day");for(o=0;o<7;o++)a[o]=yl(e,(o+i)%7,s,"day");return a}function qR(t,e){return W_(t,e,"months")}function KR(t,e){return W_(t,e,"monthsShort")}function GR(t,e,n){return uf(t,e,n,"weekdays")}function QR(t,e,n){return uf(t,e,n,"weekdaysShort")}function XR(t,e,n){return uf(t,e,n,"weekdaysMin")}Ss("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=we(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});M.lang=un("moment.lang is deprecated. Use moment.locale instead.",Ss);M.langData=un("moment.langData is deprecated. Use moment.localeData instead.",is);var Ln=Math.abs;function JR(){var t=this._data;return this._milliseconds=Ln(this._milliseconds),this._days=Ln(this._days),this._months=Ln(this._months),t.milliseconds=Ln(t.milliseconds),t.seconds=Ln(t.seconds),t.minutes=Ln(t.minutes),t.hours=Ln(t.hours),t.months=Ln(t.months),t.years=Ln(t.years),this}function z_(t,e,n,s){var r=wn(e,n);return t._milliseconds+=s*r._milliseconds,t._days+=s*r._days,t._months+=s*r._months,t._bubble()}function ZR(t,e){return z_(this,t,e,1)}function eO(t,e){return z_(this,t,e,-1)}function Og(t){return t<0?Math.floor(t):Math.ceil(t)}function tO(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,r,i,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=Og(nh(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,r=on(t/1e3),s.seconds=r%60,i=on(r/60),s.minutes=i%60,o=on(i/60),s.hours=o%24,e+=on(o/24),l=on(q_(e)),n+=l,e-=Og(nh(l)),a=on(n/12),n%=12,s.days=e,s.months=n,s.years=a,this}function q_(t){return t*4800/146097}function nh(t){return t*146097/4800}function nO(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=hn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+q_(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(nh(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function sO(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+we(this._months/12)*31536e6:NaN}function os(t){return function(){return this.as(t)}}var rO=os("ms"),iO=os("s"),oO=os("m"),aO=os("h"),lO=os("d"),cO=os("w"),uO=os("M"),hO=os("Q"),dO=os("y");function fO(){return wn(this)}function pO(t){return t=hn(t),this.isValid()?this[t+"s"]():NaN}function Ir(t){return function(){return this.isValid()?this._data[t]:NaN}}var gO=Ir("milliseconds"),mO=Ir("seconds"),yO=Ir("minutes"),vO=Ir("hours"),_O=Ir("days"),wO=Ir("months"),bO=Ir("years");function EO(){return on(this.days()/7)}var Un=Math.round,$r={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xO(t,e,n,s,r){return r.relativeTime(e||1,!!n,t,s)}function IO(t,e,n,s){var r=wn(t).abs(),i=Un(r.as("s")),o=Un(r.as("m")),a=Un(r.as("h")),l=Un(r.as("d")),c=Un(r.as("M")),u=Un(r.as("w")),h=Un(r.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=s,xO.apply(null,f)}function TO(t){return t===void 0?Un:typeof t=="function"?(Un=t,!0):!1}function SO(t,e){return $r[t]===void 0?!1:e===void 0?$r[t]:($r[t]=e,t==="s"&&($r.ss=e-1),!0)}function kO(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=$r,r,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},$r,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),r=this.localeData(),i=IO(this,!n,s,r),n&&(i=r.pastFuture(+this,i)),r.postformat(i)}var Zc=Math.abs;function Dr(t){return(t>0)-(t<0)||+t}function bc(){if(!this.isValid())return this.localeData().invalidDate();var t=Zc(this._milliseconds)/1e3,e=Zc(this._days),n=Zc(this._months),s,r,i,o,a=this.asSeconds(),l,c,u,h;return a?(s=on(t/60),r=on(s/60),t%=60,s%=60,i=on(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Dr(this._months)!==Dr(a)?"-":"",u=Dr(this._days)!==Dr(a)?"-":"",h=Dr(this._milliseconds)!==Dr(a)?"-":"",l+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(r||s||t?"T":"")+(r?h+r+"H":"")+(s?h+s+"M":"")+(t?h+o+"S":"")):"P0D"}var Te=_c.prototype;Te.isValid=_M;Te.abs=JR;Te.add=ZR;Te.subtract=eO;Te.as=nO;Te.asMilliseconds=rO;Te.asSeconds=iO;Te.asMinutes=oO;Te.asHours=aO;Te.asDays=lO;Te.asWeeks=cO;Te.asMonths=uO;Te.asQuarters=hO;Te.asYears=dO;Te.valueOf=sO;Te._bubble=tO;Te.clone=fO;Te.get=pO;Te.milliseconds=gO;Te.seconds=mO;Te.minutes=yO;Te.hours=vO;Te.days=_O;Te.weeks=EO;Te.months=wO;Te.years=bO;Te.humanize=kO;Te.toISOString=bc;Te.toString=bc;Te.toJSON=bc;Te.locale=P_;Te.localeData=$_;Te.toIsoString=un("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bc);Te.lang=L_;X("X",0,0,"unix");X("x",0,0,"valueOf");V("x",gc);V("X",GA);$e("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});$e("x",function(t,e,n){n._d=new Date(we(t))});//! moment.js
M.version="2.29.3";CA(Ge);M.fn=C;M.min=gM;M.max=mM;M.now=yM;M.utc=Nn;M.unix=WR;M.months=qR;M.isDate=Jo;M.locale=Ss;M.invalid=uc;M.duration=wn;M.isMoment=_n;M.weekdays=GR;M.parseZone=zR;M.localeData=is;M.isDuration=Da;M.monthsShort=KR;M.weekdaysMin=XR;M.defineLocale=tf;M.updateLocale=zD;M.locales=qD;M.weekdaysShort=QR;M.normalizeUnits=hn;M.relativeTimeRounding=TO;M.relativeTimeThreshold=SO;M.calendarFormat=jM;M.prototype=C;M.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Ei=Io("transaction",{state:()=>({transactions:[]}),getters:{getTransactionsByAccountId(t){const e=mr(),n=yr();return s=>t.transactions.filter(r=>r.accountId===s).map(r=>(r.accountId&&(r.account=n.getAccount(r.accountId)),r.categoryId&&(r.category=e.getCategory(r.categoryId)),r))},getTransactionsByMonth(t){return(e,n)=>t.transactions.filter(s=>{const r=M(s.date);return r.month()===e&&r.year()===n})}},actions:{async load(){const t=await Hn(jn(kn(je,"transactions"),$t("userId","==",Gt().user.userId)));this.transactions=[],t.forEach(e=>{this.transactions.push(e.data())})},async save(t){const e=Gt(),n=M(t.date);if(t={...t,day:n.date(),month:n.month(),year:n.year()},t._id){const s=this.transactions.findIndex(i=>i._id===t._id),r={...this.transactions[s],...t};await vo(Dt(je,"transactions",r._id),r),this.transactions.splice(s,1,r)}else{const s={_id:cc("transaction"),userId:e.user.uid,...t};await qo(Dt(je,"transactions",s._id),s),this.transactions.push(s)}},async bulkSave(t){try{const e=hC(je);t.forEach(n=>{const s=Dt(je,"transactions",n._id);e.update(s,{...n})}),await e.commit()}catch{}},async clear(t,e){const n=this.transactions.find(s=>s._id===t);if(n)try{n.cleared=e,await vo(Dt(je,"transactions",n._id),n)}catch(s){console.error("Error adding document: ",s)}},async delete(t){const e=this.transactions.findIndex(n=>n._id===t);try{await Nd(Dt(je,"transactions",t)),this.transactions.splice(e,1)}catch(n){console.error("Error adding document: ",n)}}}}),yr=Io("account",{state:()=>({accountTypes:[{label:"Checking",value:"Checking"},{label:"Credit Card",value:"Credit Card"},{label:"Saving",value:"Saving"},{label:"Mortgage",value:"Mortgage"},{label:"Cash",value:"Cash"},{label:"Investiment",value:"Investiment"},{label:"Other",value:"Other"}],accounts:[]}),getters:{getAccount(t){return e=>t.accounts.find(n=>n._id===e)},getAccountsPicklist(t){return t.accounts.flatMap(e=>e.status==="Active"?{label:e.name,value:e._id}:[])},getSummaryValues(){return t=>{const n=Ei().getTransactionsByAccountId(t),s=n==null?void 0:n.filter(a=>a.cleared),r=n==null?void 0:n.filter(a=>!a.cleared),i=s==null?void 0:s.reduce((a,l)=>a+(l.inflow-l.outflow),0),o=r==null?void 0:r.reduce((a,l)=>a+(l.inflow-l.outflow),0);return{cleared:i||0,uncleared:o||0,total:(i||0)+(o||0)}}}},actions:{async load(){const t=Gt();console.log(t.user.uid);const e=await Hn(jn(kn(je,"accounts"),$t("userId","==",t.user.uid)));this.accounts=[],e.forEach(n=>{this.accounts.push(n.data())})},async save(t){const e=Gt();if(t._id){const n=this.accounts.findIndex(r=>r._id===t._id),s={...this.accounts[n],...t};await vo(Dt(je,"accounts",s._id),s),this.accounts.splice(n,1,s)}else try{const n={_id:cc("account"),userId:e.user.uid,...t};await qo(Dt(je,"accounts",n._id),n),this.accounts.push(n)}catch(n){console.error("Error adding document: ",n)}},async delete(t){const e=this.accounts.findIndex(n=>n._id===t);try{const n=this.accounts[e];await Nd(Dt(je,"accounts",t)),this.accounts.splice(e,1)}catch(n){console.error("Error adding document: ",n)}}}}),vl=Io("main",{state:()=>({}),getters:{},actions:{loadStores(){yr().load(),mr().load()},resetStores(){Gt().$reset(),mr().$reset(),yr().$reset(),Ei().$reset()}}}),CO={class:"flex items-center justify-center h-screen px-6 bg-gray-200"},AO=d("div",{class:"flex items-center justify-center"},[d("span",{class:"text-2xl font-semibold text-gray-700"},"Moneylee")],-1),DO=lt({setup(t){const e=Gt(),n=ro();function s(){const r=lc();m2(r,rA).then(async i=>{console.info("Log in...");const o=i.user;await e.save(o),vl().loadStores(),n.push("/dashboard")}).catch(i=>{i.code,i.message,i.customData.email,In.credentialFromError(i)})}return(r,i)=>(Z(),ae("div",CO,[d("div",{class:"w-full max-w-sm p-6 bg-white rounded-md shadow-md"},[AO,d("div",{class:"mt-6"},[d("button",{onClick:s,class:"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500"},"Login with Google")])])]))}});function Kt(t){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0)}const MO=["onKeyup"],RO={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md"},OO=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),NO={class:"px-6 py-4 text-left modal-content"},PO={class:"flex items-center justify-between pb-3"},LO={class:"text-2xl font-bold"},$O=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),FO=[$O],UO=["onKeydown"],VO=lt({props:{options:null},emits:["close-modal","save"],setup(t,{emit:e}){const{options:n}=t,s=mr();let r=oe({});const i=oe(),o=oe(),a=()=>{e("close-modal")},l=async()=>{try{const u={...r.value,name:i.value};if(n.parentId&&(u.parentId=n.parentId),!await s.getOrAddCategory(u))return;n.categoryId&&await s.updateCategory(u),e("save"),a()}catch(u){console.log(u)}},c=async()=>{try{const u=s.categories.find(h=>h._id===n.categoryId);u&&await s.updateCategory({...u,isActive:!1}),e("save"),a()}catch(u){console.log(u)}};return rs(()=>{if(n.categoryId){const u=s.categories.find(h=>h._id===n.categoryId);u&&(r.value=u,i.value=u.name)}_r(()=>{o&&o.value&&o.value.focus()})}),(u,h)=>(Z(),ae("div",{class:Ct("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:[Mt(a,["esc"]),Mt(l,["enter"])]},[d("div",{onClick:a,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",RO,[OO,d("div",NO,[d("div",PO,[d("p",LO,ye(t.options.parentId?"New":"Edit")+" Category",1),d("div",{class:"z-50 cursor-pointer modal-close",onClick:a},FO)]),an(d("input",{type:"text",ref_key:"modalInput",ref:o,"onUpdate:modelValue":h[0]||(h[0]=f=>i.value=f),onKeydown:Mt(Ah(l,["stop"]),["enter"]),class:"form-input w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,40,UO),[[Qs,i.value]]),d("div",{class:"flex justify-between pt-2"},[d("button",{onClick:c,class:"px-4 py-2 text-sm mr-2 text-red-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-red-400 focus:outline-none"}," Hide "),d("div",{class:"flex justify-end"},[d("button",{onClick:a,class:"px-4 py-2 text-sm mr-2 text-indigo-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none"}," Close "),d("button",{onClick:l,class:"px-4 py-2 text-sm font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Save ")])])])])],40,MO))}}),BO={class:"w-5/12 px-2 py-2 border-b border-gray-200 whitespace-nowrap text-left"},jO={class:"flex items-center"},HO={class:"px-2 pr-6"},YO={class:"text-sm font-medium leading-5 text-gray-700"},WO={class:"w-min px-2 py-2 border-b border-gray-200 whitespace-nowrap text-right"},zO=["onKeypress","onKeydown"],qO={class:"w-min px-2 py-2 border-b border-gray-200 whitespace-nowrap text-right"},KO={class:"inline-flex px-2 text-xs font-semibold leading-5 text-red-800 bg-red-100 rounded-full"},GO={class:"w-min px-2 py-2 border-b border-gray-200 whitespace-nowrap text-right"},QO=lt({props:["row"],emits:["update-category","row-select","save"],setup(t,{emit:e}){const{row:n}=t,s=Gt(),r={...n},i=oe(),o=oe(!1),a=f=>{e("row-select",n,f.target.checked)},l=()=>{e("update-category")},c=()=>{o.value=!0,_r(()=>{i&&i.value&&i.value.focus()})},u=async()=>{const f=await Hn(jn(kn(je,"budgetRows"),$t("userId","==",s.user.uid),$t("budgetId","==",n.budgetId),$t("categoryId","==",n.categoryId),rC(1)));if(f.docs.length){const g=f.docs[0].data();await vo(Dt(je,"budgetRows",g._id),{budgeted:r.budgeted})}else{const g=cc("budgetRow");await qo(Dt(je,"budgetRows",g),{_id:g,userId:s.user.uid,...r})}e("save"),o.value=!1},h=()=>{o.value=!1};return(f,g)=>{var y;return Z(),ae("tr",null,[d("td",BO,[d("div",jO,[d("div",HO,[d("input",{type:"checkbox","aria-label":"budget row checkbox",onChange:g[0]||(g[0]=w=>a(w))},null,32)]),d("div",YO,[d("span",{onClick:l,class:"hover:underline hover:cursor-pointer"},ye((y=t.row.category)==null?void 0:y.name),1)])])]),d("td",WO,[o.value?Cs("",!0):(Z(),ae("span",{key:0,onClick:c,class:"inline-flex px-2 text-xs font-semibold leading-5 text-indigo-800 bg-indigo-100 rounded-full"},ye(ue(Kt)(t.row.budgeted)),1)),o.value?an((Z(),ae("input",{key:1,onFocus:g[1]||(g[1]=w=>w.target.select()),onKeypress:Mt(u,["enter"]),onKeydown:Mt(h,["esc"]),ref_key:"budgetedInput",ref:i,type:"number","onUpdate:modelValue":g[2]||(g[2]=w=>ue(r).budgeted=w),class:"w-20 h-6 text-xs font-semibold leading-5 text-indigo-800 bg-indigo-100 border-indigo-200 rounded-full"},null,40,zO)),[[Qs,ue(r).budgeted]]):Cs("",!0)]),d("td",qO,[d("span",KO,ye(ue(Kt)(t.row.activity)),1)]),d("td",GO,[d("span",{class:Ct(["inline-flex px-2 text-xs font-semibold leading-5 rounded-full",t.row.balance<0?"text-red-800 bg-red-100":"text-green-800 bg-green-100"])},ye(ue(Kt)(t.row.balance)),3)])])}}}),XO={class:"flex justify-between"},JO={class:"w-full sm:w-1/1 xl:w-3/3"},ZO={class:"flex justify-between px-5 py-6 bg-white rounded-md shadow-sm"},eN={class:"flex items-center"},tN=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1),nN=[tN],sN={class:"mx-5 flex flex-col justify-center items-center"},rN={class:"text-2xl font-semibold text-gray-700"},iN={class:"text-gray-500"},oN=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})],-1),aN=[oN],lN={class:"flex self-end"},cN={class:"flex flex-col items-center mx-2"},uN={class:"rounded-full px-2 py-1"},hN=d("div",{class:"text-xs text-gray-500"},"Not budgeted last month",-1),dN={class:"flex flex-col items-center mx-2"},fN={class:"rounded-full px-2 py-1"},pN=d("div",{class:"text-xs text-gray-500"},"Overspent last month",-1),gN={class:"flex flex-col items-center mx-2"},mN={class:"rounded-full px-2 py-1"},yN=d("div",{class:"text-xs text-gray-500"},"Income this month",-1),vN={class:"flex flex-col items-center mx-2"},_N={class:"rounded-full px-2 py-1"},wN=d("div",{class:"text-xs text-gray-500"},"Budgeted this month",-1),bN={class:"flex flex-col items-center mx-2"},EN={class:"text-xs text-gray-500"},xN={class:"flex flex-col mt-6"},IN={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},TN={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},SN={class:"min-w-full table-auto"},kN={class:"flex items-center w-full px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"},CN=d("div",null,"Category",-1),AN=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),DN=[AN],MN=d("th",{class:"w-min px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Budgeted ",-1),RN=d("th",{class:"w-min px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Activity ",-1),ON=d("th",{class:"w-min px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Balance ",-1),NN={class:"bg-white"},PN={class:"bg-slate-100"},LN={class:"w-auto px-2 py-2 border-b border-gray-200 whitespace-nowrap text-left",colspan:"4"},$N={class:"flex justify-between"},FN={class:"flex items-center"},UN=["onClick"],VN={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 hover:fill-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},BN=d("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"},null,-1),jN=[BN],HN={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},YN=d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1),WN=[YN],zN={class:"text-sm font-bold leading-5 text-gray-900"},qN=["onClick"],KN={class:"px-2"},GN=["onClick"],QN=d("span",{class:"text-xs text-center"},"+ sub category",-1),XN=[QN],JN=lt({setup(t){const e=mr(),n=Gt();Ei();const s=oe([]),r=oe(),i=oe(),o=oe(new Date().getMonth()),a=oe(new Date().getFullYear()),l=oe(),c=wt(()=>M().month(o.value).format("MMMM")),u=wt(()=>M().year(a.value).format("YYYY")),h=wt(()=>{var xe;let A=0,O=0,se=0,re=0,F=0;return l.value&&(A=l.value.reduce((Me,K)=>Me+(K.inflow||0),0)),(xe=r.value)!=null&&xe.rows&&(O=r.value.rows.flatMap(K=>K.children).reduce((K,he)=>K+(he.budgeted||0),0)),i.value&&(re=i.value.income-i.value.budgeted,F=i.value.budgeted-i.value.outflow),se=re+F+A-O,{income:A,budgeted:O,available:se,notBudgetLastMonth:re,overspentLastMonth:F}}),f=async(A,O)=>{var xe,Me;const se=n.user.uid,re=`budget_${O}_${A}_${se}`,F=await lC(Dt(je,"budgets",re));if(F.exists())r.value=F.data();else try{r.value=await y(A,O)}catch(K){console.error("Error adding budget: ",K)}if(r.value&&r.value._id){const K=e.categories.filter(Ne=>Ne.isActive);let he=[];for(const Ne of K){const kt={budgetId:r.value._id,category:Ne,categoryId:Ne._id,children:[],budgeted:0,activity:0,balance:0};if(Ne.parentId){let et=he.find(st=>st.categoryId===Ne.parentId);et||(et={...kt,categoryId:Ne.parentId,category:K.find(st=>st._id===Ne.parentId)},he.push(et)),et.children.push(kt)}else he.find(st=>st.categoryId===Ne._id)||he.push(kt)}r.value.rows=he;const Oe=await Hn(jn(kn(je,"budgetRows"),$t("userId","==",n.user.uid),$t("budgetId","==",r.value._id)));for(const Ne of Oe.docs){const kt=Ne.data();r.value.rows.forEach(et=>{et.children.forEach(st=>{st.categoryId===kt.categoryId&&(st.budgeted+=kt.budgeted,st.balance==0&&(st.balance=kt.budgeted))})})}const Le=await Hn(jn(kn(je,"transactions"),$t("userId","==",n.user.uid),$t("month","==",(xe=r.value)==null?void 0:xe.month),$t("year","==",(Me=r.value)==null?void 0:Me.year)));l.value=[...Le.docs.map(Ne=>Ne.data())];for(const Ne of l.value)r.value.rows.forEach(kt=>{kt.children.forEach(et=>{et.categoryId===Ne.categoryId&&(et.activity+=Ne.inflow-Ne.outflow,et.balance+=et.activity)})})}g()},g=async()=>{if(r.value){const O=(await Hn(jn(kn(je,"transactions"),$t("userId","==",n.user.uid)))).docs.map(K=>K.data()).filter(K=>r.value&&M([K.year,K.month])<=M([r.value.year,r.value.month]).subtract(1,"month")),se=O.reduce((K,he)=>K+(he.inflow||0),0),re=O.reduce((K,he)=>K+(he.outflow||0),0),Me=(await Hn(jn(kn(je,"budgetRows"),$t("userId","==",n.user.uid)))).docs.map(K=>K.data()).filter(K=>{var he;return K.budgetId<((he=r.value)==null?void 0:he._id)}).reduce((K,he)=>K+(he.budgeted||0),0);i.value={income:se,outflow:re,budgeted:Me}}},y=async(A,O)=>{console.info("Creating budget ...");try{const se=n.user.uid,re=`budget_${O}_${A}_${se}`,F={_id:re,userId:n.user.uid,month:A,year:O};return await qo(Dt(je,"budgets",re),F),F}catch(se){console.error("Error adding document: ",se)}},w=A=>{const se=M([a.value,o.value]).add(A,"month");o.value=se.month(),a.value=se.year(),f(se.month(),se.year())};let _={};const T=A=>{var O;A&&(_.parentId=A),_.budgetId=(O=r.value)==null?void 0:O._id,_.categoryId=void 0,z.value=!0},$=A=>{var O,se;A.categoryId&&(_.categoryId=A.categoryId,_.budgetId=(O=r.value)==null?void 0:O._id,_.parentId=(se=A.category)==null?void 0:se.parentId,z.value=!0)},J=()=>{_.parentId=void 0,w(0)},q=(A,O)=>{console.log(A,O),O?s.value.push(A):s.value.splice(s.value.findIndex(se=>se._id===A._id),1)};wt(()=>s.value.reduce((A,O)=>({budgeted:A.budgeted+(O.budgeted||0),activity:A.activity+(O.activity||0),balance:A.balance+(O.balance||0)}),{budgeted:0,activity:0,balance:0}));const z=oe(!1);oe(!1),oe(),oe();let H=oe({});const P=()=>{H.value={name:"",isActive:!0},z.value=!1};return rs(()=>{w(0)}),(A,O)=>{var se;return Z(),ae(qe,null,[z.value?(Z(),Jn(VO,{key:0,options:ue(_),onCloseModal:P,onSave:J},null,8,["options"])):Cs("",!0),d("div",XO,[d("div",JO,[d("div",ZO,[d("div",eN,[d("button",{class:"px-2 h-10 w-10 rounded-full hover:bg-gray-100",onClick:O[0]||(O[0]=re=>w(-1))},nN),d("div",sN,[d("h4",rN,ye(ue(c)),1),d("div",iN,ye(ue(u)),1)]),d("button",{class:"px-2 h-10 w-10 rounded-full hover:bg-gray-100",onClick:O[1]||(O[1]=re=>w(1))},aN)]),d("div",lN,[d("div",cN,[d("div",uN,ye(ue(Kt)(ue(h).notBudgetLastMonth)),1),hN]),d("div",dN,[d("div",fN,ye(ue(Kt)(ue(h).overspentLastMonth)),1),pN]),d("div",gN,[d("div",mN,ye(ue(Kt)(ue(h).income)),1),yN]),d("div",vN,[d("div",_N,ye(ue(Kt)(ue(h).budgeted)),1),wN]),d("div",bN,[d("div",{class:Ct(["text-bold rounded-full px-2 py-1",ue(h).available<0?"text-red-800 bg-red-100":"text-green-800 bg-green-100"])},ye(ue(Kt)(ue(h).available)),3),d("div",EN,ye((ue(h).available||0)>=0?"Available to budget":"Overbudgeted"),1)])])])])]),d("div",xN,[d("div",IN,[d("div",TN,[d("table",SN,[d("thead",null,[d("tr",null,[d("th",kN,[CN,d("button",{class:"pl-2 brightness-150",onClick:O[2]||(O[2]=re=>T(null))},DN)]),MN,RN,ON])]),d("tbody",NN,[(Z(!0),ae(qe,null,As((se=r.value)==null?void 0:se.rows,(re,F)=>{var xe,Me;return Z(),ae(qe,{key:F},[d("tr",PN,[d("td",LN,[d("div",$N,[d("div",FN,[d("div",{class:"px-2 cursor-pointer",onClick:K=>re.isCollapsed=!re.isCollapsed},[re.isCollapsed?(Z(),ae("svg",VN,jN)):(Z(),ae("svg",HN,WN))],8,UN),d("div",zN,[d("span",{onClick:K=>$(re),class:"hover:underline hover:cursor-pointer"},ye((xe=re.category)==null?void 0:xe.name),9,qN)])]),d("div",null,[d("div",KN,[d("button",{class:"px-2 rounded opacity-20 hover:opacity-60",onClick:K=>{var he;return T((he=re.category)==null?void 0:he._id)}},XN,8,GN)])])])])]),((Me=re.children)==null?void 0:Me.length)&&!re.isCollapsed?(Z(!0),ae(qe,{key:0},As(re.children,(K,he)=>(Z(),Jn(QO,{key:`${K.categoryId}_${K.budgetId}`,row:K,onUpdateCategory:Oe=>$(K),onRowSelect:q,onSave:O[3]||(O[3]=Oe=>w(0))},null,8,["row","onUpdateCategory"]))),128)):Cs("",!0)],64)}),128))])])])])])],64)}}}),ZN={class:"block my-2"},e4={class:"block mb-1 text-sm font-medium text-slate-700"},t4=["type","value"],n4=lt({props:["type","label","modelValue"],emits:["update:modelValue"],setup(t){return(e,n)=>(Z(),ae("label",ZN,[d("span",e4,ye(t.label),1),d("input",{type:t.type,value:t.modelValue,onInput:n[0]||(n[0]=s=>e.$emit("update:modelValue",s.target.value||"")),class:"form-input w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,40,t4)]))}}),s4=["onKeyup"],r4={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md"},i4=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),o4={class:"px-6 py-4 text-left modal-content"},a4={class:"flex items-center justify-between pb-3"},l4={class:"text-2xl font-bold"},c4=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),u4=[c4],h4={class:"block my-2"},d4=d("span",{class:"block mb-1 text-sm font-medium text-slate-700"},"Name",-1),f4={class:"block my-2"},p4=d("span",{class:"block mb-1 text-sm font-medium text-slate-700"},"Type",-1),g4=["value"],m4={class:"block my-2"},y4=d("span",{class:"block mb-1 text-sm font-medium text-slate-700"},"Status",-1),v4=d("option",{value:"Active"},"Active",-1),_4=d("option",{value:"Inactive"},"Inactive",-1),w4=[v4,_4],b4=lt({props:{account:null},emits:["close-modal"],setup(t,{emit:e}){const{account:n}=t,s=yr(),r=oe(n),i=oe(),o=()=>{e("close-modal")},a=wt(()=>n&&!!n._id),l=()=>{s.save({...n,...r.value}),o()},c=()=>{s.delete(n._id),o()};return rs(()=>{_r(()=>{i&&i.value&&i.value.focus()})}),(u,h)=>(Z(),ae("div",{class:Ct("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:Mt(o,["esc"])},[d("div",{onClick:o,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",r4,[i4,d("div",o4,[d("div",a4,[d("p",l4,ye(ue(a)?"Edit":"New")+" Account",1),d("div",{class:"z-50 cursor-pointer modal-close",onClick:o},u4)]),d("form",null,[d("label",h4,[d4,an(d("input",{type:"text",ref_key:"labelInput",ref:i,"onUpdate:modelValue":h[0]||(h[0]=f=>r.value.name=f),class:"form-input w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},null,512),[[Qs,r.value.name]])]),d("label",f4,[p4,an(d("select",{"onUpdate:modelValue":h[1]||(h[1]=f=>r.value.type=f),class:"form-select w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},[(Z(!0),ae(qe,null,As(ue(s).accountTypes,(f,g)=>(Z(),ae("option",{value:f.value,key:f.value},ye(f.label),9,g4))),128))],512),[[Kf,r.value.type]])]),d("label",m4,[y4,an(d("select",{"onUpdate:modelValue":h[2]||(h[2]=f=>r.value.status=f),class:"form-select w-full px-4 py-2 rounded-md appearance-none focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500"},w4,512),[[Kf,r.value.status]])]),He(n4,{type:"number",label:"Starting balance",modelValue:r.value.balance,"onUpdate:modelValue":h[3]||(h[3]=f=>r.value.balance=f)},null,8,["modelValue"])]),d("div",{class:"flex justify-between pt-2"},[d("button",{onClick:c,class:"px-4 py-2 text-sm mr-2 text-red-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-red-400 focus:outline-none"}," Delete "),d("div",{class:"flex justify-end"},[d("button",{onClick:o,class:"px-4 py-2 text-sm mr-2 text-indigo-500 bg-transparent rounded-lg hover:bg-gray-100 hover:text-indigo-400 focus:outline-none"}," Close "),d("button",{onClick:l,class:"px-4 py-2 text-sm font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Save ")])])])])],40,s4))}}),E4=d("h3",{class:"text-gray-700 text-3xl font-medium"},"Accounts",-1),x4={class:"mt-8"},I4={class:"flex flex-col mt-6"},T4={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},S4={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},k4={class:"min-w-full"},C4=d("thead",null,[d("tr",null,[d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Name "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Type "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Status "),d("th",{class:"px-6 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Balance "),d("th",{class:"px-6 py-3 bg-gray-100 border-b border-gray-200"})])],-1),A4={class:"bg-white"},D4={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},M4={class:"flex items-center"},R4={class:"text-sm font-medium leading-5 text-gray-900"},O4=["onClick"],N4={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},P4={class:"text-sm leading-5 text-gray-900"},L4={class:"px-6 py-4 border-b border-gray-200 whitespace-nowrap"},$4={class:"px-6 py-4 text-sm leading-5 text-gray-500 border-b border-gray-200 whitespace-nowrap"},F4={class:"px-6 py-4 text-sm font-medium leading-5 text-right border-b border-gray-200 whitespace-nowrap"},U4=["onClick"],V4=lt({setup(t){const e=yr(),n=oe(!1),s=ro(),r={name:"",type:"",on_budget:!0,status:"Active",balance:0},i=oe(r),o=c=>{s.push({name:"AccountDetail",params:{id:c}})},a=()=>{i.value={...r},n.value=!0},l=c=>{i.value={...r,...c},n.value=!0};return(c,u)=>(Z(),ae(qe,null,[n.value?(Z(),Jn(b4,{key:0,account:i.value,onCloseModal:u[0]||(u[0]=h=>n.value=!1)},null,8,["account"])):Cs("",!0),d("div",{class:"flex justify-between full-width"},[E4,d("button",{onClick:a,class:"px-4 py-2 text-gray-200 bg-blue-800 rounded-md hover:bg-blue-700 focus:outline-none focus:bg-blue-700"}," New account ")]),d("div",x4,[d("div",I4,[d("div",T4,[d("div",S4,[d("table",k4,[C4,d("tbody",A4,[(Z(!0),ae(qe,null,As(ue(e).accounts,(h,f)=>(Z(),ae("tr",{key:f},[d("td",D4,[d("div",M4,[d("div",R4,[d("span",{onClick:g=>o(h._id),class:"hover:underline hover:cursor-pointer"},ye(h.name),9,O4)])])]),d("td",N4,[d("div",P4,ye(h.type),1)]),d("td",L4,[d("span",{class:Ct(["inline-flex px-2 text-xs font-semibold leading-5 rounded-full",h.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},ye(h.status),3)]),d("td",$4,ye(ue(Kt)(h.balance)),1),d("td",F4,[d("button",{href:"#",class:"text-indigo-600 hover:text-indigo-900",onClick:g=>l(h)},"Edit",8,U4)])]))),128))])])])])])])],64))}}),B4=["onKeydown"],j4={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"#aaa"},H4=d("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1),Y4=[H4],W4={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"#aaa"},z4=d("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),q4=[z4],K4=["value","onClick","onKeydown"],Ng=lt({props:["options","value"],emits:["select"],setup(t,{expose:e,emit:n}){const{options:s,value:r}=t,i=oe(!1),o=oe([]),a=oe(s.find(y=>y.value===r)||{label:"Select a value",value:null}),l=y=>{a.value=y,i.value=!1,n("select",y.value)},c=()=>{i.value=!1},u=()=>{i.value=!i.value},h=y=>{y.target.focus()},f=()=>{a.value={label:"Select a value",value:null}},g=()=>{i.value||u()};return rs(()=>console.log(o.value)),e({clearSelection:f}),(y,w)=>(Z(),ae("div",{id:"context",tabindex:"0",class:"menu relative text-sm cursor-pointer hover:bg-slate-50 rounded border-b-2 border-gray-300",onClick:w[0]||(w[0]=_=>h(_)),onKeydown:[Mt(c,["esc"]),Mt(g,["down"]),Mt(c,["up"])]},[d("div",{id:"context-menu",onClick:u,class:"w-full flex justify-between items-center p-2"},[d("span",null,ye(a.value.label),1),i.value?(Z(),ae("svg",W4,q4)):(Z(),ae("svg",j4,Y4))]),an(d("ul",{id:"context-options",class:Ct(["options menu w-full fixed bg-white mt-2 rounded shadow-lg",a.value.value?"":"text-gray-500"])},[(Z(!0),ae(qe,null,As(t.options,_=>(Z(),ae("li",{ref_for:!0,ref_key:"itemRefs",ref:o,tabindex:"0",value:_.value,key:_.value,onClick:T=>l(_),onKeydown:Mt(Ah(T=>l(_),["stop"]),["enter"]),class:"text-sm cursor-pointer px-3 py-1 hover:bg-slate-100 rounded focus:bg-slate-300"},ye(_.label),41,K4))),128))],2),[[mu,i.value]])],40,B4))}}),G4=["onKeydown"],Q4={key:0,class:"text-center"},X4=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),J4=[X4],Z4=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),eP=[Z4],K_=lt({props:["transaction","accountId","hideSaveButton"],emits:["add-transaction","cancel"],setup(t,{emit:e}){const{transaction:n,accountId:s,hideSaveButton:r}=t,i=oe(),o=oe(),a=Ei(),l=mr(),c=yr(),u=oe(!1),h=oe(!r),f={date:M().format("YYYY-MM-DD"),day:new Date().getDay(),month:new Date().getMonth(),year:new Date().getFullYear(),accountId:s,categoryId:"",inflow:0,outflow:0,cleared:!1},g=oe(n||{...f}),y=async()=>{await a.save(g.value),e("add-transaction"),$(),J()},w=()=>{u.value=!1,e("cancel")},_=q=>{g.value.categoryId=q},T=q=>{g.value.accountId=q},$=()=>{g.value={...f},o&&o.value&&o.value.clearSelection()},J=()=>{i&&i.value&&i.value.focus()};return rs(()=>{_r(()=>{J()})}),(q,z)=>(Z(),ae("tr",{onKeydown:[Mt(w,["esc"]),Mt(Ah(y,["stop"]),["enter"])]},[d("td",null,[an(d("input",{type:"date",ref_key:"dateInput",ref:i,"onUpdate:modelValue":z[0]||(z[0]=H=>g.value.date=H),class:"w-full rounded text-sm leading-0 border-0 border-b-2 border-gray-300",placeholder:"Select date"},null,512),[[Qs,g.value.date]])]),d("td",null,[He(Ng,{options:ue(c).getAccountsPicklist,value:g.value.accountId,onSelect:T},null,8,["options","value"])]),d("td",null,[an(d("input",{type:"text",ref:"labelInput","onUpdate:modelValue":z[1]||(z[1]=H=>g.value.memo=H),class:"w-full rounded text-sm leading-0 border-0 border-b-2 border-gray-300"},null,512),[[Qs,g.value.memo]])]),d("td",null,[He(Ng,{ref_key:"categoryInput",ref:o,options:ue(l).getCategoriesPicklist,value:g.value.categoryId,onSelect:_},null,8,["options","value"])]),d("td",null,[an(d("input",{type:"number","onUpdate:modelValue":z[2]||(z[2]=H=>g.value.inflow=H),class:"w-full rounded text-sm text-right leading-0 border-0 border-b-2 border-gray-300"},null,512),[[Qs,g.value.inflow]])]),d("td",null,[an(d("input",{type:"number","onUpdate:modelValue":z[3]||(z[3]=H=>g.value.outflow=H),class:"w-full rounded text-sm text-right leading-0 border-0 border-b-2 border-gray-300"},null,512),[[Qs,g.value.outflow]])]),h.value?(Z(),ae("td",Q4,[d("button",{onClick:w,class:"px-2 py-1 text-xs rounded text-red-400 hover:bg-gray-50"},J4),d("button",{onClick:y,class:"px-2 py-1 text-xs rounded text-teal-400 hover:bg-gray-50"},eP)])):Cs("",!0)],40,G4))}}),tP=["onKeyup"],nP={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-4xl"},sP=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),rP={class:"px-6 py-4 text-left modal-content"},iP=d("p",{class:"text-2xl font-bold"},"Mass Edit",-1),oP=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),aP=[oP],lP={class:"min-full"},cP=lt({props:{transactions:null},emits:["close-modal","save"],setup(t,{emit:e}){const{transactions:n}=t,s=Ei(),r=oe([...n]),i=()=>{e("close-modal")},o=()=>{s.bulkSave(r.value),e("save"),i()};return(a,l)=>(Z(),ae("div",{class:Ct("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:Mt(i,["esc"])},[d("div",{onClick:i,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",nP,[sP,d("div",rP,[d("div",{class:"flex items-center justify-between pb-3"},[iP,d("div",{class:"z-50 cursor-pointer modal-close",onClick:i},aP)]),d("table",lP,[d("tbody",null,[(Z(!0),ae(qe,null,As(r.value,c=>(Z(),ae("div",{key:c._id,class:"my-2"},[He(K_,{transaction:c,class:"w-full","hide-save-button":"true"},null,8,["transaction"])]))),128))])]),d("div",{class:"flex justify-end pt-2"},[d("button",{onClick:o,class:"px-4 py-2 text-sm font-sm tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Save ")])])])],40,tP))}}),uP={class:"flex flex-col"},hP={class:"py-2 -my-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},dP={class:"inline-block min-w-full overflow-hidden align-middle border-b border-gray-200 shadow sm:rounded-lg"},fP={class:"min-w-full"},pP=d("thead",null,[d("tr",null,[d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Date "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Account "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Memo "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-left text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Category "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Inflow "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-right text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Outflow "),d("th",{class:"px-2 py-3 text-xs font-medium leading-4 tracking-wider text-center text-gray-500 uppercase bg-gray-100 border-b border-gray-200"}," Cleared ")])],-1),gP={class:"bg-white"},mP={key:0,class:"text-center bg-gray-100 text-gray-400 text-sm"},yP={key:1,class:"",colspan:"8"},vP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),d("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1),_P=d("span",{class:"ml-1"},"Edit",-1),wP=[vP,_P],bP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})],-1),EP=d("span",{class:"ml-1"},"Clear",-1),xP=[bP,EP],IP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),TP=d("span",{class:"ml-1"},"Unclear",-1),SP=[IP,TP],kP=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),CP=d("span",{class:"ml-1"},"Delete",-1),AP=[kP,CP],DP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},MP={class:"flex items-center"},RP=["onChange"],OP={class:"text-sm font-medium leading-5 text-gray-900"},NP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},PP={class:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},LP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},$P={class:"text-sm leading-5 text-gray-900"},FP={class:"py-2 border-b border-gray-200 whitespace-nowrap"},UP={class:"inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full"},VP={class:"py-2 text-sm leading-5 text-right text-green-700 border-b border-gray-200 whitespace-nowrap"},BP={class:"py-2 text-sm leading-5 text-right text-red-500 border-b border-gray-200 whitespace-nowrap"},jP={class:"py-2 text-sm leading-5 text-center border-b border-gray-200 whitespace-nowrap"},HP=["onClick"],YP={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"#03a1fc"},WP=d("path",{"fill-rule":"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1),zP=[WP],qP={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#ddd","stroke-width":"2"},KP=d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"},null,-1),GP=[KP],QP=lt({props:{accountId:null},emits:["update"],setup(t,{emit:e}){const{accountId:n}=t,s=Ei(),r=Gt();mr();const i=oe(s.getTransactionsByAccountId(n)),o={date:M().format("YYYY-MM-DD"),day:M().date(),month:M().month(),year:M().year(),accountId:n,inflow:0,outflow:0,cleared:!1},a=oe(),l=oe(!1),c=oe([]),u=oe(!1),h=async()=>{const H=await Hn(jn(kn(je,"transactions"),$t("userId","==",r.user.uid),$t("accountId","==",n)));i.value=[...H.docs.map(P=>P.data())]},f=()=>{h(),e("update")},g=()=>{a.value={...o},l.value=!0},y=H=>{s.clear(H._id,!H.cleared),e("update")},w=(H,P)=>{P.target.checked?(z(),c.value.push(H)):c.value.splice(c.value.findIndex(O=>O._id===H._id),1)},_=()=>{c.value.forEach(async H=>{await s.delete(H._id);const P=i.value.findIndex(A=>A._id===H._id);i.value.splice(P,1)}),q(),h()},T=()=>{c.value.forEach(H=>{s.clear(H._id,!0)}),e("update"),q()},$=()=>{c.value.forEach(H=>{s.clear(H._id,!1)}),e("update"),q()},J=()=>{u.value=!0},q=()=>{var H;c.value=[],(H=document.querySelectorAll("input[type=checkbox]"))==null||H.forEach(P=>{P.checked=!1})},z=()=>{l.value=!1};return rs(()=>{h()}),(H,P)=>(Z(),ae(qe,null,[u.value?(Z(),Jn(cP,{key:0,transactions:c.value,onSave:f,onCloseModal:P[0]||(P[0]=A=>u.value=!1),onKeydown:P[1]||(P[1]=Mt(A=>u.value=!1,["esc"]))},null,8,["transactions"])):Cs("",!0),d("div",uP,[d("div",hP,[d("div",dP,[d("table",fP,[pP,d("tbody",gP,[l.value?(Z(),Jn(K_,{key:1,onKeydown:Mt(z,["esc"]),"account-id":t.accountId,onCancel:z,onAddTransaction:f,"hide-save-button":!1},null,8,["onKeydown","account-id"])):(Z(),ae("tr",mP,[c.value.length?(Z(),ae("td",yP,[d("div",{class:"w-full sm:w-1/1 xl:w-3/3 px-1 flex justify-between items-center"},[d("div",{class:"flex"},[d("button",{onClick:J,class:"text-blue-600 hover:text-blue-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},wP),d("button",{onClick:T,class:"text-blue-600 hover:text-blue-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},xP),d("button",{onClick:$,class:"text-purple-600 hover:text-purple-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},SP)]),d("button",{onClick:_,class:"text-red-600 hover:text-red-800 p-2 hover:bg-gray-200 rounded-md flex justify-between items-center"},AP)])])):(Z(),ae("td",{key:0,onClick:g,class:"py-2 hover:text-bold",colspan:"8"}," + Transaction"))])),(Z(!0),ae(qe,null,As(i.value,(A,O)=>{var se,re;return Z(),ae("tr",{key:O},[d("td",DP,[d("div",MP,[d("input",{class:"mr-4 ml-2 border-gray-300 rounded",type:"checkbox",onChange:F=>w(A,F)},null,40,RP),d("div",OP,ye(ue(M)(A.date).format("DD/MM/YYYY")),1)])]),d("td",NP,[d("span",PP,ye((se=A.account)==null?void 0:se.name),1)]),d("td",LP,[d("div",$P,ye(A.memo),1)]),d("td",FP,[d("span",UP,ye((re=A.category)==null?void 0:re.name),1)]),d("td",VP,ye(ue(Kt)(A.inflow)),1),d("td",BP,ye(ue(Kt)(A.outflow)),1),d("td",jP,[d("button",{onClick:F=>y(A)},[A.cleared?(Z(),ae("svg",YP,zP)):(Z(),ae("svg",qP,GP))],8,HP)])])}),128))])])])])])],64))}}),XP=["onKeyup"],JP={class:"z-50 w-11/12 mx-auto overflow-y-auto bg-white rounded shadow-lg modal-container md:max-w-md"},ZP=d("div",{class:"absolute top-0 right-0 z-50 flex flex-col items-center mt-4 mr-4 text-sm text-white cursor-pointer modal-close"},[d("svg",{class:"text-white fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})]),d("span",{class:"text-sm"},"(Esc)")],-1),eL={class:"px-6 py-4 text-left modal-content"},tL=d("p",{class:"text-2xl font-bold"},"Import",-1),nL=d("svg",{class:"text-black fill-current",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18"},[d("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"})],-1),sL=[nL],rL=d("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"file_input"},"Select your OFX or CSV file",-1),iL=lt({props:{accountId:null},emits:["close-modal"],setup(t,{emit:e}){oe();const n=oe(),s=o=>{const a=o.target.files[0],l=new FileReader;a&&(a.name.includes(".csv")&&(l.onload=c=>{var u;n.value=(u=c==null?void 0:c.target)==null?void 0:u.result},l.onerror=c=>console.log(c),l.readAsText(a)),console.log(n.value))},r=()=>{},i=()=>{e("close-modal")};return(o,a)=>(Z(),ae("div",{class:Ct("modal z-50 fixed w-full h-full top-0 left-0 flex items-center justify-center"),onKeyup:Mt(i,["esc"])},[d("div",{onClick:i,class:"absolute w-full h-full bg-gray-900 opacity-50 modal-overlay"}),d("div",JP,[ZP,d("div",eL,[d("div",{class:"flex items-center justify-between pb-3"},[tL,d("div",{class:"z-50 cursor-pointer modal-close",onClick:i},sL)]),d("div",null,[rL,d("input",{onChange:a[0]||(a[0]=l=>s(l)),class:"block w-full text-sm text-gray-900 bg-gray-50 border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"file_input",type:"file"},null,32)]),d("div",{class:"flex justify-end pt-2"},[d("button",{onClick:r,class:"px-4 py-2 text-sm font-medium tracking-wide text-white bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none"}," Import ")])])])],40,XP))}}),oL={class:"flex justify-between mb-2"},aL={class:"w-full sm:w-1/1 xl:w-3/3"},lL={class:"flex justify-between px-5 py-6 bg-white rounded-md shadow-sm"},cL={class:"mx-5"},uL={class:"text-2xl font-semibold text-gray-700"},hL={class:"text-gray-500 flex justify-between items-center"},dL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1),fL=d("span",{class:"ml-1"},"Import",-1),pL=[dL,fL],gL={class:"flex"},mL={class:"mx-5"},yL={class:"text-2xl font-semibold text-gray-700"},vL=d("div",{class:"text-gray-500"},"Cleared",-1),_L=d("div",{class:"mx-5"},[d("h4",{class:"text-2xl text-gray-400"},"+")],-1),wL={class:"mx-5"},bL={class:"text-2xl font-semibold text-gray-700"},EL=d("div",{class:"text-gray-500"},"Uncleared",-1),xL=d("div",{class:"mx-5"},[d("h4",{class:"text-2xl text-gray-400"},"=")],-1),IL={class:"mx-5"},TL={class:"text-2xl font-semibold text-gray-700"},SL=d("div",{class:"text-gray-500"},"Total",-1),kL=lt({setup(t){const n=ME().params.id,s=yr(),r=oe(s.getSummaryValues(n)),i=oe(s.getAccount(n)),o=oe(!1),a=()=>{r.value=s.getSummaryValues(n)},l=()=>{o.value=!0};return(c,u)=>{var h,f,g,y,w;return Z(),ae(qe,null,[o.value?(Z(),Jn(iL,{key:0,"account-id":ue(n)},null,8,["account-id"])):Cs("",!0),d("div",oL,[d("div",aL,[d("div",lL,[d("div",cL,[d("h4",uL,ye((h=i.value)==null?void 0:h.name),1),d("div",hL,[Nm(ye((f=i.value)==null?void 0:f.type)+" ",1),d("button",{onClick:l,class:"text-sm ml-2 text-gray-300 hover:text-gray-800 p-2 hover:bg-gray-50 rounded-md flex justify-between items-center"},pL)])]),d("div",gL,[d("div",mL,[d("h4",yL,ye(ue(Kt)((g=r.value)==null?void 0:g.cleared)),1),vL]),_L,d("div",wL,[d("h4",bL,ye(ue(Kt)((y=r.value)==null?void 0:y.uncleared)),1),EL]),xL,d("div",IL,[d("h4",TL,ye(ue(Kt)((w=r.value)==null?void 0:w.total)),1),SL])])])])]),He(QP,{"account-id":ue(n),onUpdate:a},null,8,["account-id"])],64)}}}),CL=[{path:"/",name:"Login",component:DO,meta:{layout:"empty"}},{path:"/dashboard",name:"Dashboard",component:kA},{path:"/budget",name:"Budget",component:JN},{path:"/accounts",name:"Accounts",component:V4},{path:"/accounts/:id",name:"AccountDetail",component:kL,strict:!0}],hf=AE({history:Wb(),routes:CL}),AL=oe(!1);function G_(){return{isOpen:AL}}const DL={class:"flex"},ML=xh('<div class="flex items-center justify-center mt-8"><div class="flex items-center"><svg class="w-12 h-12" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M364.61 390.213C304.625 450.196 207.37 450.196 147.386 390.213C117.394 360.22 102.398 320.911 102.398 281.6C102.398 242.291 117.394 202.981 147.386 172.989C147.386 230.4 153.6 281.6 230.4 307.2C230.4 256 256 102.4 294.4 76.7999C320 128 334.618 142.997 364.608 172.989C394.601 202.981 409.597 242.291 409.597 281.6C409.597 320.911 394.601 360.22 364.61 390.213Z" fill="#4C51BF" stroke="#4C51BF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M201.694 387.105C231.686 417.098 280.312 417.098 310.305 387.105C325.301 372.109 332.8 352.456 332.8 332.8C332.8 313.144 325.301 293.491 310.305 278.495C295.309 263.498 288 256 275.2 230.4C256 243.2 243.201 320 243.201 345.6C201.694 345.6 179.2 332.8 179.2 332.8C179.2 352.456 186.698 372.109 201.694 387.105Z" fill="white"></path></svg><span class="mx-2 text-2xl font-semibold text-white">Moneylee</span></div></div>',1),RL={class:"mt-10"},OL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1),NL=d("span",{class:"mx-4"},"Dashboard",-1),PL=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1),LL=d("span",{class:"mx-4"},"Budget",-1),$L=d("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),d("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),d("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"})],-1),FL=d("span",{class:"mx-4"},"Accounts",-1),UL=lt({setup(t){const{isOpen:e}=G_(),n=oe("bg-gray-600 bg-opacity-25 text-gray-100 border-gray-100"),s=oe("border-gray-900 text-gray-500 hover:bg-gray-600 hover:bg-opacity-25 hover:text-gray-100");return(r,i)=>{const o=Am("router-link");return Z(),ae("div",DL,[d("div",{class:Ct([ue(e)?"block":"hidden","fixed inset-0 z-20 transition-opacity bg-black opacity-50 lg:hidden"]),onClick:i[0]||(i[0]=a=>e.value=!1)},null,2),d("div",{class:Ct([ue(e)?"translate-x-0 ease-out":"-translate-x-full ease-in","fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 transform bg-gray-900 lg:translate-x-0 lg:static lg:inset-0"])},[ML,d("nav",RL,[He(o,{class:Ct(["flex items-center px-6 py-2 mt-4 duration-200 border-l-4",[r.$route.name==="Dashboard"?n.value:s.value]]),to:"/dashboard"},{default:Vr(()=>[OL,NL]),_:1},8,["class"]),He(o,{class:Ct(["flex items-center px-6 py-2 mt-4 duration-200 border-l-4",[r.$route.name==="Budget"?n.value:s.value]]),to:"/budget"},{default:Vr(()=>[PL,LL]),_:1},8,["class"]),He(o,{class:Ct(["flex items-center px-6 py-2 mt-4 duration-200 border-l-4",[r.$route.name==="Accounts"?n.value:s.value]]),to:"/accounts"},{default:Vr(()=>[$L,FL]),_:1},8,["class"])])],2)])}}}),VL={class:"flex items-center justify-between px-6 py-4 bg-white border-b-4 border-indigo-600"},BL={class:"flex items-center"},jL=d("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),HL=[jL],YL=xh('<div class="relative mx-4 lg:mx-0"><span class="absolute inset-y-0 left-0 flex items-center pl-3"><svg class="w-5 h-5 text-gray-500" viewBox="0 0 24 24" fill="none"><path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span><input class="w-32 pl-10 pr-4 text-indigo-600 border-gray-200 rounded-md sm:w-64 focus:border-indigo-600 focus:ring focus:ring-opacity-40 focus:ring-indigo-500" type="text" placeholder="Search"></div>',1),WL={class:"flex items-center"},zL=d("button",{class:"flex mx-4 text-gray-600 focus:outline-none"},[d("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M15 17H20L18.5951 15.5951C18.2141 15.2141 18 14.6973 18 14.1585V11C18 8.38757 16.3304 6.16509 14 5.34142V5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5V5.34142C7.66962 6.16509 6 8.38757 6 11V14.1585C6 14.6973 5.78595 15.2141 5.40493 15.5951L4 17H9M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),qL={class:"relative"},KL=["src","alt"],GL={class:"absolute right-0 z-20 w-48 py-2 mt-2 bg-white rounded-md shadow-xl"},QL=d("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},"Profile",-1),XL=d("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},"Products",-1),JL=lt({setup(t){const e=vl(),n=Gt(),s=ro(),r=oe(!1),{isOpen:i}=G_(),o=()=>{const a=lc();zC(a).then(()=>{e.resetStores(),s.push("/")}).catch(l=>{console.log(l)})};return(a,l)=>(Z(),ae("header",VL,[d("div",BL,[d("button",{onClick:l[0]||(l[0]=c=>i.value=!0),class:"text-gray-500 focus:outline-none lg:hidden"},HL),YL]),d("div",WL,[zL,d("div",qL,[d("button",{onClick:l[1]||(l[1]=c=>r.value=!r.value),class:"relative z-10 block w-8 h-8 overflow-hidden rounded-full shadow focus:outline-none"},[d("img",{class:"object-cover w-full h-full",src:ue(n).user.photoURL,alt:ue(n).user.displayName},null,8,KL)]),an(d("div",{onClick:l[2]||(l[2]=c=>r.value=!1),class:"fixed inset-0 z-10 w-full h-full"},null,512),[[mu,r.value]]),He(Ch,{"enter-active-class":"transition duration-150 ease-out transform","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in transform","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:Vr(()=>[an(d("div",GL,[QL,XL,d("a",{onClick:o,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},"Log out")],512),[[mu,r.value]])]),_:1})])])]))}}),ZL={class:"flex h-screen bg-gray-200 font-roboto"},e3={class:"flex-1 flex flex-col overflow-hidden"},t3={class:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-200"},n3={class:"container mx-auto px-6 py-8"},s3=lt({setup(t){return(e,n)=>(Z(),ae("div",ZL,[He(UL),d("div",e3,[He(JL),d("main",t3,[d("div",n3,[Pm(e.$slots,"default")])])])]))}}),r3=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},i3={};function o3(t,e){return Z(),ae("div",null,[Pm(t.$slots,"default")])}const a3=r3(i3,[["render",o3]]),Fs=Tb(FE),l3=OE();Fs.component("default-layout",s3);Fs.component("empty-layout",a3);Fs.use(hf);Fs.use(l3);Fs.config.globalProperties.appName="Moneylee";Fs.config.globalProperties.$router=hf;Fs.config.globalProperties.$db=je;Fs.mount("#app");const c3=lc();WC(c3,async t=>{t?(console.info("Loading App"),await Gt().save(t),vl().loadStores()):(vl().resetStores(),hf.push("/"))})});export default u3();
